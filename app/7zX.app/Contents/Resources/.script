#!/ova/onfu  #
7mK
1.7.1 #
Pbclevtug
Â©2006-2008
Fvkgl
Svir,
Ygq.  ez
/gzc/cygcfGzcFrpherFpcgSvyr   IREFVBA=171 IREFVBAFGEVAT="1.7.1"  PBPBNQVNYBT="$1/Pbagragf/Erfbheprf/PbpbnQvnybt.ncc/Pbagragf/ZnpBF/PbpbnQvnybt" CNFUHN="$1/Pbagragf/Erfbheprf/Cnfuhn.ncc/Pbagragf/ZnpBF/Cnfuhn"   shapgvba
anzranzr() { 	ybpny
anzr=${1##*/} 	ybpny
anzr0="${anzr%.*}" 	rpub
"${anzr0:-$anzr}" }  shapgvba
rkg() { 	ybpny
anzr=${1##*/} 	ybpny
anzr0="${anzr%.*}" 	ybpny
rkg=${anzr0:+${anzr#$anzr0}} 	rpub
"${rkg:-.}" }   shapgvba
tebjy() { 	vs
[
-q
"/Yvoenel/CersreraprCnarf/Tebjy.cersCnar"
]
||
[
-q
"$UBZR/Yvoenel/CersreraprCnarf/Tebjy.cersCnar"
];
gura 		"$1/Pbagragf/Erfbheprf/tebjyabgvsl"
-a
"7mK"
--vzntr
"$1/Pbagragf/Erfbheprf/nccVpba.vpaf"
"$2"
-z
"$3" 	sv }  shapgvba
rkgerp() { 	rpub
"$ybpngvba/${zrzore%$1}$1" }   #####
NYY-VA-BAR
THV shapgvba
qbPhfgbz()
{  	vs
[
"$xnv"
==
"1"
];
gura 		pbas=" 			*.gvgyr
=
Nqq
gb
Nepuvir  			cbc2.glcr
=
cbchc 			cbc2.ynory
=
Pbzcerffvba
yriry: 			cbc2.bcgvba
=
Fgber 			cbc2.bcgvba
=
Snfgrfg 			cbc2.bcgvba
=
Snfg 			cbc2.bcgvba
=
Abezny 			cbc2.bcgvba
=
Znkvzhz 			cbc2.bcgvba
=
Hygen 			cbc2.qrsnhyg
=
$cbc2  			pux3.glcr
=
purpxobk 			pux3.ynory
=
Cerfreir
Znpvagbfu
erfbhepr
sbexf 			pux3.qrsnhyg
=
$pux3 		"; 		 		pux4=0 		cnf1="" 		cnf2="" 		cbc3="ZO" 		gks2="" 		 	ryfr 		pbas=" 			*.gvgyr
=
Nqq
gb
Nepuvir 			 			cbc2.glcr
=
cbchc 			cbc2.ynory
=
Pbzcerffvba
yriry: 			cbc2.bcgvba
=
Fgber 			cbc2.bcgvba
=
Snfgrfg 			cbc2.bcgvba
=
Snfg 			cbc2.bcgvba
=
Abezny 			cbc2.bcgvba
=
Znkvzhz 			cbc2.bcgvba
=
Hygen 			cbc2.qrsnhyg
=
$cbc2 			 			pux3.glcr
=
purpxobk 			pux3.ynory
=
Cerfreir
Znpvagbfu
erfbhepr
sbexf 			pux3.qrsnhyg
=
$pux3 			 			pux4.glcr
=
purpxobk 			pux4.ynory
=
Perngr
Frys-Rkgenpgvat
Nepuvir 			pux4.qrsnhyg
=
$pux4 			 			cnf1.glcr
=
cnffjbeq 			cnf1.ynory
=
Cnffjbeq: 			 			cnf2.glcr
=
cnffjbeq 			 			gks1.glcr
=
grkgsvryq 			gks1.ynory
=
Ibyhzr
fvmr: 			gks1.jvqgu
=
120 			gks1.qrsnhyg
=
$gks1 			 			cbc3.glcr
=
cbchc 			cbc3.bcgvba
=
O 			cbc3.bcgvba
=
XO 			cbc3.bcgvba
=
ZO 			cbc3.bcgvba
=
TO 			cbc3.k
=
127 			cbc3.l
=
106 			cbc3.jvqgu
=
80 			cbc3.qrsnhyg
=
$cbc3 			 			gks2.glcr
=
grkgsvryq 			gks2.ynory
=
Nqqvgvbany
cnenzrgref: 			gks2.jvqgu
=
380 			gks2.qrsnhyg
=
$gks2 		"; 	sv 	 	cnfuhn_pbasvtsvyr=`/hfe/ova/zxgrzc
/gzc/cnfuhn_KKKKKKKKK` 	rpub
"$pbas"
>
$cnfuhn_pbasvtsvyr 	
 	juvyr
[
"$tbbqPhfgbzCnff"
!=
"1"
];
qb 		erfhyg=`"$CNFUHN"
$cnfuhn_pbasvtsvyr
|
frq
'f/
/;;;/t'` 	 		#
Cnefr
erfhyg 		sbe
yvar
va
$erfhyg 		qb 			xrl=`rpub
$yvar
|
frq
'f/^\([^=]*\)=.*$/\1/'` 			inyhr=`rpub
$yvar
|
frq
'f/^[^=]*=\(.*\)$/\1/'
|
frq
'f/;;;/
/t'`		 			ineanzr=$xrl 			ineinyhr="$inyhr" 			riny
$ineanzr='$ineinyhr' 		qbar 	 		vs
[
"$cnf1"
==
""
]
&&
[
"$cnf2"
==
""
];
gura 			tbbqPhfgbzCnff=1 		ryfr 			vs
[
"$cnf1"
==
"$cnf2"
];
gura 				bcc="-c$cnf1" 				tbbqPhfgbzCnff=1 			sv 		sv 		 		vs
[
"$tbbqPhfgbzCnff"
!=
"1"
];
gura 			jb=`"$PBPBNQVNYBT"
bx-zftobk
--grkg
"Cnffjbeqf
qb
abg
zngpu."
--ab-pnapry` 		sv 	qbar 	 	#
Erzbir
pbasvt
svyr 	ez
$cnfuhn_pbasvtsvyr 	 	vs
[
"$cbc2"
==
"Fgber"
];
gura 		bczk="-zk=0" 	ryvs
[
"$cbc2"
==
"Snfgrfg"
];
gura 		bczk="-zk=1" 	ryvs
[
"$cbc2"
==
"Snfg"
];
gura 		bczk="-zk=3" 	ryvs
[
"$cbc2"
==
"Abezny"
];
gura 		bczk="-zk=5" 	ryvs
[
"$cbc2"
==
"Znkvzhz"
];
gura 		bczk="-zk=7" 	ryvs
[
"$cbc2"
==
"Hygen"
];
gura 		bczk="-zk=9" 	sv 	 	pb=0 	 	vs
[
"$pux3"
==
"1"
];
gura 		yrg
pb=pb+1	#
1,
3:
f7m,
f7m.ncc 	sv 	 	vs
[
"$pux4"
==
"1"
];
gura 		yrg
pb=pb+2	#
0,
2:
7m,
7m.ncc 	sv 	 	vs
[
"$cbc3"
==
"O"
];
gura 		bcgh="o" 	ryvs
[
"$cbc3"
==
"XO"
];
gura 		bcgh="x" 	ryvs
[
"$cbc3"
==
"ZO"
];
gura 		bcgh="z" 	ryvs
[
"$cbc3"
==
"TO"
];
gura 		bcgh="t" 	sv 	 	vs
[
"$gks1"
!=
""
];
gura 		yrg
gks1=gks1+0 		bci="-i"$gks1$bcgh 	sv 	 	nf=1  	qrsnhygf
jevgr
pbz.fvkglsvir.7mK
Nepuvir.PbzcerffvbaYriry
"$cbc2"					#
pbzcerffvba
yriry 	qrsnhygf
jevgr
pbz.fvkglsvir.7mK
Nepuvir.CerfreirErfbheprSbexf
-vag
"$pux3"			#
cerfreir
erfbhepr
sbexf 	qrsnhygf
jevgr
pbz.fvkglsvir.7mK
Nepuvir.PerngrFrysRkgenpgvat
-vag
"$pux4"			#
perngr
frys-rkgenpgvat
nepuvir 	qrsnhygf
jevgr
pbz.fvkglsvir.7mK
Nepuvir.IbyhzrFvmr
"$gks1"							#
ibyhzr
fvmr 	qrsnhygf
jevgr
pbz.fvkglsvir.7mK
Nepuvir.FvmrZrnfher
"$cbc3"						#
O/XO/ZO/TO 	qrsnhygf
jevgr
pbz.fvkglsvir.7mK
Nepuvir.NqqvgvbanyCnenzrgref
"$gks2"				#
nqqvgvbany
cnenzrgref }   #####
NCCYRQBHOYR
FHVGR  shapgvba
znxrGrzcSbyqre()
{ 	ez
-sE
"$ybpngvba/$zrzore.7mKgrzc" 	sbyqreCngu="$ybpngvba/$zrzore.7mKgrzc" 	 	zxqve
"$sbyqreCngu" }  shapgvba
NccyrQbhoyrRapbqr()
{ 	vs
[
-r
"/Qrirybcre/Gbbyf/FcyvgSbexf"
];
gura 		fs="/Qrirybcre/Gbbyf/FcyvgSbexf"; 	ryfr 		fs="$1/Pbagragf/Erfbheprf/tbyqva"; 	sv 	 	"$fs"
-fi
"$sbyqreCngu/" }  shapgvba
NccyrQbhoyrQrpbqr()
{ 	#
vs
[
-r
"$sbyqreCngu/__ZNPBFK"
];
gura 	#
	"$PBPBNQVNYBT"
bx-zftobk
--grkg
"Vapbzcngvoyr
NccyrQbhoyr
rapbqvat."
--vpba
"ahxr"
--vasbezngvir-grkg
"Guvf
nepuvir
nccrnef
gb
rzcybl
n
inevnag
bs
gur
NccyrQbhoyr
rapbqvat
pheeragyl
abg
fhccbegrq
ol
7mK."
--jvqgu
462
--ab-pnapry 	#
sv 	 	"/Flfgrz/Yvoenel/PberFreivprf/SvkhcErfbheprSbexf"
"$sbyqreCngu/" }   #####
CNFFJBEQ-CEBGRPG
FHVGR shapgvba
qrgrpgCnffjbeq()
{ 	"$1/Pbagragf/Erfbheprf/7mn"
g
"$svyr"
>
"/gzc/7mKnepuvirGrfg.gkg"
& 	WBO=$! 	 	onfu
-p
"fyrrc
1;
xvyy
$WBO
>/qri/ahyy
2>/qri/ahyy"
& 	jnvg
$WBO 	 	CPURPXO=`terc
'Ragre'
/gzc/7mKnepuvirGrfg.gkg
|
njx
{'cevag
$1'}` 	ez
"/gzc/7mKnepuvirGrfg.gkg" 	 	vs
[
"$(rpub
"$CPURPXO")"
==
"Ragre"
];
gura 		juvyr
[
"$tbbqCnff"
!=
"1"
];
qb 			tebjy
"$1"
""
"N
cnffjbeq
vf
erdhverq
gb
pbagvahr
rkcnaqvat." 			cw=`"$PBPBNQVNYBT"
frpher-fgnaqneq-vachgobk
--vasbezngvir-grkg
"Cyrnfr
ragre
gur
cnffjbeq
sbe
guvf
nepuvir:"` 			 			p=0 			sbe
u
va
$(rpub
"$cw");
qb 				yrg
p=p+1 				cnff[$p]=$(rpub
$u) 			qbar 				 			vs
[
"${cnff[1]}"
==
"1"
]
&&
[
"${cnff[2]}"
!=
""
];
gura 				cx="-c${cnff[2]}" 				 				"$1/Pbagragf/Erfbheprf/7mn"
g
$cx
"$svyr"
>
"/gzc/7mKnepuvirGrfg.gkg"
& 				WBO=$!  				onfu
-p
"fyrrc
1;
xvyy
$WBO
>/qri/ahyy
2>/qri/ahyy"
& 				jnvg
$WBO 				 				CPURPXQ=`terc
-p
'Jebat
cnffjbeq?'
/gzc/7mKnepuvirGrfg.gkg
|
njx
{'cevag
$1'}` 				ez
"/gzc/7mKnepuvirGrfg.gkg" 				 				#
vs
[
"$(rpub
"$CPURPXQ")"
==
"0"
];
gura 					tbbqCnff=1 				#
ryfr 				#	tebjy
"$1"
""
"Vapbeerpg
cnffcuenfr.
Cyrnfr
gel
ntnva." 				#
sv 			ryvs
[
"${cnff[1]}"
==
"2"
];
gura 				tbbqCnff=1 			sv 			 		qbar 		tbbqCnff=0 	sv }   #####
FRN
PERNGVBA
FHVGR shapgvba
qbVavgvngrFRN()
{ 	pc
-Eac
"$1/Pbagragf/Erfbheprf/7mK-FRN.ncc"
"$svyr.ncc" 	 	pc
-Eac
"$1/Pbagragf/Erfbheprf/7mn"
"$svyr.ncc/Pbagragf/Erfbheprf/7mn" 	pc
-Eac
"$1/Pbagragf/Erfbheprf/tebjyabgvsl"
"$svyr.ncc/Pbagragf/Erfbheprf/tebjyabgvsl" 	pc
-Eac
"$1/Pbagragf/Erfbheprf/PbpbnQvnybt.ncc"
"$svyr.ncc/Pbagragf/Erfbheprf/PbpbnQvnybt.ncc" 	pc
-Eac
"$1/Pbagragf/Erfbheprf/grzcVpba.vpaf"
"$svyr.ncc/Pbagragf/Erfbheprf/grzcVpba.vpaf" }   #####
BGURE
SHAPGVBAF shapgvba
sbyqre2sbyqre()
{ 	yf
"$2"
|
juvyr
ernq
v;
qb 		vs
[
-r
"$3/$v"
];
gura 			n=2 			o=$(anzranzr
"$v") 			r=$(rkg
"$v") 			 			vs
[
$r
==
"."
];
gura 				r="" 			sv 			 			juvyr
[
-r
"$3/$o
$n$r"
];
qb 				yrg
n=n+1 			qbar 			p="$o
$n$r" 			 			zi
"$2/$v"
"$3/$p" 		ryfr 			zi
"$2/$v"
"$3/$v" 		sv	 	qbar }  shapgvba
fbsgjnerHcqngr()
{ 	hg=$((`qngr
+%f`-86400)) 	tj=`qrsnhygf
ernq
pbz.fvkglsvir.7mK
Hcqngr.YnfgPurpxGvzr
2>/qri/ahyy` 	yrg
rg=hg-tj  	vs
[
$rg
-tr
86400
]
||
[
$tj
-rd
-1
];
gura 		th=`qrsnhygf
ernq
pbz.fvkglsvir.7mK
Hcqngr.YnfgPurpxIrefvba
2>/qri/ahyy` 		ph=`phey
-f
"uggc://fvkglsvir.kztubfgvat.pbz/fbsgjnerhcqngr/purpx2.cuc?fbsgjner=7mK&irefvba=$IREFVBA"` 		ph404=`rpub
$ph
|
sterc
-p
'404'` 		 		vs
[
"$ph404"
==
"0"
];
gura 			qrsnhygf
jevgr
pbz.fvkglsvir.7mK
Hcqngr.YnfgPurpxGvzr
-vag
$hg 			 			vs
[
"$ph"
!=
"0"
]
&&
[
"$ph"
!=
"$th"
];
gura 				phm=`phey
-f
--znk-gvzr
4
"uggc://fvkglsvir.kztubfgvat.pbz/fbsgjnerhcqngr/zber.cuc?fbsgjner=7mK"` 				ek=`"$PBPBNQVNYBT"
zftobk
--grkg
"Fbsgjner
Hcqngr"
--vpba
"unmneq"
--vasbezngvir-grkg
"$(rpub
"$phm")"
--ohggba1
"Vafgnyy
Hcqngr"
--ohggba2
"Erzvaq
Zr
Yngre"
--ohggba3
"Fxvc
Guvf
Irefvba"` 				vs
[
"$ek"
==
"3"
];
gura 					qrsnhygf
jevgr
pbz.fvkglsvir.7mK
Hcqngr.YnfgPurpxIrefvba
-vag
$ph 				ryvs
[
"$ek"
==
"1"
];
gura 					bcra
uggc://fvkglsvir.kztubfgvat.pbz/ 				sv 			sv 		sv 	sv }   #####
YBPNYVMNGVBA #
ybpnyr=`qrsnhygf
ernq
'Nccyr
Tybony
Qbznva'
NccyrYbpnyr` #
ybpnyronfr=${ybpnyr:0:2} #
 #
vs
[
-r
"$1/Pbagragf/Erfbheprf/$ybpnyronfr.ycebw/YbpnyvmrqFgevatf.gkg"
];
gura #
	fgevatfSvyr="$1/Pbagragf/Erfbheprf/$ybpnyronfr.ycebw/YbpnyvmrqFgevatf.gkg" #
ryfr #
	fgevatfSvyr="$1/Pbagragf/Erfbheprf/ra.ycebw/YbpnyvmrqFgevatf.gkg" #
sv # #
fgevatVgrengbe=0 #
juvyr
[
$fgevatVgrengbe
-yr
34
];
qb #
	fgevat[$fgevatVgrengbe]=`fgevatfSvyr
$fgevatVgrengbe` #
qbar   #####
CERSRERAPRF cyhgvy
"$UBZR/Yvoenel/Cersreraprf/pbz.fvkglsvir.7mK.cyvfg"
>
"/gzc/7mKcyvfgGrfg.gkg" cy=`terc
'BX'
/gzc/7mKcyvfgGrfg.gkg` ez
"/gzc/7mKcyvfgGrfg.gkg"  vs
[
!
"$cy"
];
gura 	qrsnhygf
jevgr
pbz.fvkglsvir.7mK
Nepuvir.PbzcerffvbaYriry
Abezny 	qrsnhygf
jevgr
pbz.fvkglsvir.7mK
Nepuvir.CerfreirErfbheprSbexf
-vag
1 	qrsnhygf
jevgr
pbz.fvkglsvir.7mK
Nepuvir.PerngrFrysRkgenpgvat
-vag
0 	qrsnhygf
jevgr
pbz.fvkglsvir.7mK
Nepuvir.FvmrZrnfher
ZO 	 	#
qrsnhygf
jevgr
pbz.fvkglsvir.7mK
Nepuvir.IbyhzrFvmr
-vag
0 	#
qrsnhygf
jevgr
pbz.fvkglsvir.7mK
Nepuvir.NqqvgvbanyCnenzrgref
"" 	#
qrsnhygf
jevgr
pbz.fvkglsvir.7mK
Hcqngr.YnfgPurpxGvzr
-vag
0 	#
qrsnhygf
jevgr
pbz.fvkglsvir.7mK
Hcqngr.YnfgPurpxIrefvba
-vag
0 sv  cbc2=`qrsnhygf
ernq
pbz.fvkglsvir.7mK
Nepuvir.PbzcerffvbaYriry
2>/qri/ahyy`				#
pbzcerffvba
yriry pux3=`qrsnhygf
ernq
pbz.fvkglsvir.7mK
Nepuvir.CerfreirErfbheprSbexf
2>/qri/ahyy`		#
cerfreir
erfbhepr
sbexf pux4=`qrsnhygf
ernq
pbz.fvkglsvir.7mK
Nepuvir.PerngrFrysRkgenpgvat
2>/qri/ahyy`			#
perngr
frys-rkgenpgvat
nepuvir gks1=`qrsnhygf
ernq
pbz.fvkglsvir.7mK
Nepuvir.IbyhzrFvmr
2>/qri/ahyy`		
			#
ibyhzr
fvmr cbc3=`qrsnhygf
ernq
pbz.fvkglsvir.7mK
Nepuvir.FvmrZrnfher
2>/qri/ahyy`					#
O/XO/ZO/TO gks2=`qrsnhygf
ernq
pbz.fvkglsvir.7mK
Nepuvir.NqqvgvbanyCnenzrgref
2>/qri/ahyy`		
	#
nqqvgvbany
cnenzrgref xnv=`qrsnhygf
ernq
pbz.fvkglsvir.7mK
UryybVzXnv
2>/qri/ahyy`							#
fvzcyr
:)   #####
YNHAPURQ
JVGU
NETBZRAGF vs
[
"$2"
];
gura   #####
ERZVAQRE
EBHGVAR eq=`qrsnhygf
ernq
pbz.fvkglsvir.7mK
Qbangvbaf.ZrffntrQvfcynlrq
2>/qri/ahyy` vs
[
"$eq"
!=
"1"
];
gura 	jb=`"$PBPBNQVNYBT"
bx-zftobk
--grkg
"Guvf
zrffntr
jvyy
bayl
nccrne
bapr."
--vpba
"urneg"
--vasbezngvir-grkg
"Lbh
pna
hfr
guvf
fbsgjner
serr
bs
punetr
sbe
nf
zhpu
gvzr
nf
lbh
yvxr.
Cyrnfr
abgr,
ubjrire,
gung
gur
7mK
cebwrpg
eryvrf
ba
qbangvbaf
sebz
hfref.
Lbh
pna
qbangr
zbarl
hfvat
nal
znwbe
perqvg
pneq;
CnlCny
qbangvbaf
ner
npprcgrq
nf
jryy.
Sbe
zber
vasbezngvbaf,
ivfvg
bhe
fvgr."
--jvqgu
462
--ab-pnapry` 	qrsnhygf
jevgr
pbz.fvkglsvir.7mK
Qbangvbaf.ZrffntrQvfcynlrq
-vag
1 sv   fbsgjnerHcqngr
&   sbe
svyr;
qb  	jnfNep=0 	 	ybpngvba=${svyr%/*} 	#
zrzore=${svyr%%.*} 	#
nepglcr=.${svyr#*.} 	 	zrzore=$(onfranzr
"$svyr") 	sanzr=$(anzranzr
"$svyr") 	nepglcr=$(rkg
"$svyr") 	 	vs
[
"$svyr"
!=
"$1"
];
gura 	 		#####
QRPBZCERFFVBA
FHVGR 		pnfr
"$svyr"
va 			$(rkgerp
".7m")
|
$(rkgerp
".7m.001")
) 					jnfNep=1 					qrgrpgCnffjbeq
"$1" 					znxrGrzcSbyqre 					"$1/Pbagragf/Erfbheprf/7mn"
k
$cx
-nbh
-b"$sbyqreCngu"
"$svyr" 					NccyrQbhoyrQrpbqr
"$1" 					sbyqre2sbyqre
"$1"
"$sbyqreCngu"
"$ybpngvba" 					ez
-sE
"$sbyqreCngu" 						tebjy
"$1"
"Abgvsvpngvba"
"Rkcnafvba
bs
$zrzore
pbzcyrgrq." 				;; 				 			$(rkgerp
".f7m")
|
$(rkgerp
".f7m.001")
) 					jnfNep=1 					qrgrpgCnffjbeq
"$1" 					znxrGrzcSbyqre 					"$1/Pbagragf/Erfbheprf/7mn"
k
$cx
"$svyr"
-fb
|
qvggb
-k
-
"$sbyqreCngu" 					sbyqre2sbyqre
"$1"
"$sbyqreCngu"
"$ybpngvba" 					ez
-sE
"$sbyqreCngu" 						tebjy
"$1"
"Abgvsvpngvba"
"Rkcnafvba
bs
$zrzore
pbzcyrgrq." 				;; 				 			$(rkgerp
".gne.om2")
|
$(rkgerp
".gne.tm")
|
$(rkgerp
".gne.m")
|
$(rkgerp
".gne.M")
) 					jnfNep=1 					qrgrpgCnffjbeq
"$1" 					znxrGrzcSbyqre 					"$1/Pbagragf/Erfbheprf/7mn"
k
$cx
-nbh
-b"$sbyqreCngu"
"$svyr" 					"$1/Pbagragf/Erfbheprf/7mn"
k
$cx
-nbh
-b"$sbyqreCngu"
"$sbyqreCngu/$sanzr" 					sbyqre2sbyqre
"$1"
"$sbyqreCngu"
"$ybpngvba" 					ez
-sE
"$sbyqreCngu" 						tebjy
"$1"
"Abgvsvpngvba"
"Rkcnafvba
bs
$zrzore
pbzcyrgrq." 				;; 				 			$(rkgerp
".001")
|
$(rkgerp
".gne")
|
$(rkgerp
".om2")
|
$(rkgerp
".tm")
|
$(rkgerp
".mvc")
|
$(rkgerp
".M")
) 					jnfNep=1 					qrgrpgCnffjbeq
"$1" 					znxrGrzcSbyqre 					"$1/Pbagragf/Erfbheprf/7mn"
k
$cx
-nbh
-b"$sbyqreCngu"
"$svyr" 					sbyqre2sbyqre
"$1"
"$sbyqreCngu"
"$ybpngvba" 					ez
-sE
"$sbyqreCngu" 						tebjy
"$1"
"Abgvsvpngvba"
"Rkcnafvba
bs
$zrzore
pbzcyrgrq." 				;; 		 		rfnp  		vs
[
"$jnfNep"
!=
1
];
gura 		 			#####
PBZCERFFVBA
FHVGR 			vs
[
"$nf"
==
""
];
gura 				qbPhfgbz
"$1" 			sv 			 			vs
[
"$pb"
==
"0"
];
gura
#####
PERNGR
7m
NEPUVIR 				znxrGrzcSbyqre 				"$1/Pbagragf/Erfbheprf/7mn"
n
$bci
$bczk
$bcc
$gks2
"$sbyqreCngu/$zrzore.7m"
"$svyr" 				ez
-sE
"$sbyqreCngu/$zrzore" 				sbyqre2sbyqre
"$1"
"$sbyqreCngu"
"$ybpngvba" 				ez
-sE
"$sbyqreCngu" 					tebjy
"$1"
"Abgvsvpngvba"
"Pbzcerffvba
bs
$zrzore
pbzcyrgrq." 					 			ryvs
[
"$pb"
==
"1"
];
gura
#####
PERNGR
7m
NEPUVIR
JVGU
ERFBHEPR
SBEXF 				znxrGrzcSbyqre 				pc
-Eac
"$svyr"
"$sbyqreCngu/" 				NccyrQbhoyrRapbqr
"$1" 				"$1/Pbagragf/Erfbheprf/7mn"
n
$bci
$bczk
$bcc
$gks2
"$sbyqreCngu/$zrzore.7m"
"$sbyqreCngu/*" 				ez
-sE
"$sbyqreCngu/$zrzore" 				sbyqre2sbyqre
"$1"
"$sbyqreCngu"
"$ybpngvba" 				ez
-sE
"$sbyqreCngu" 					tebjy
"$1"
"Abgvsvpngvba"
"Pbzcerffvba
bs
$zrzore
pbzcyrgrq." 					 			ryvs
[
"$pb"
==
"2"
];
gura
#####
PERNGR
FRYS-RKGENPGVAT
7m
NEPUVIR 				znxrGrzcSbyqre 				"$1/Pbagragf/Erfbheprf/7mn"
n
$bczk
$bcc
$gks2
"$sbyqreCngu/Gbzr.7m"
"$svyr" 				qbVavgvngrFRN
"$1" 				zi
-a
"$sbyqreCngu/Gbzr.7m"
"$svyr.ncc/Pbagragf/Erfbheprf/Gbzr.7m" 				ez
-sE
"$sbyqreCngu" 					tebjy
"$1"
"Abgvsvpngvba"
"Pbzcerffvba
bs
$zrzore
pbzcyrgrq." 					 			ryvs
[
"$pb"
==
"3"
];
gura
#####
PERNGR
FRYS-RKGENPGVAT
7m
NEPUVIR
JVGU
ERFBHEPR
SBEXF 				znxrGrzcSbyqre 				pc
-Eac
"$svyr"
"$sbyqreCngu/" 				NccyrQbhoyrRapbqr
"$1" 				"$1/Pbagragf/Erfbheprf/7mn"
n
$bczk
$bcc
$gks2
"$sbyqreCngu/Gbzr.7m"
"$sbyqreCngu/*" 				qbVavgvngrFRN
"$1" 				zi
-a
"$sbyqreCngu/Gbzr.7m"
"$svyr.ncc/Pbagragf/Erfbheprf/Gbzr.7m" 				ez
-sE
"$sbyqreCngu" 					tebjy
"$1"
"Abgvsvpngvba"
"Pbzcerffvba
bs
$zrzore
pbzcyrgrq."					 			sv 			 		sv 		 	sv  qbar  ryfr  



ei=`"$PBPBNQVNYBT"
bx-zftobk
--grkg
"Guvf
fbsgjner
bayl
jbexf
guebhtu
qent
&
qebc."
--ab-pnapry`  sv  fyrrc
2 