// Copyright 2013-2015 Evernote Corp. All rights reserved.
// http://www.evernote.com

window.enLoadState = 'willLoad';
try {(function(){ 'use strict';var aa,ba=this;
function ca(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==
b&&"undefined"==typeof a.call)return"object";return b}function da(a){return"array"==ca(a)}function r(a){return"string"==typeof a}function ea(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function fa(a,b){var c=a.split("."),d=ba;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d[e]?d=d[e]:d=d[e]={}:d[e]=b}
function ga(a,b){function c(){}c.prototype=b.prototype;a.Xb=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.sf=function(a,c,g){for(var f=Array(arguments.length-2),h=2;h<arguments.length;h++)f[h-2]=arguments[h];return b.prototype[c].apply(a,f)}};var u,ha;window.CE_VERSION_INFO={lastBuildNumber:18,lastCommitDate:"2015-06-01 13:17:47 -0700"};function ia(){return window.CE_VERSION_INFO.lastBuildNumber}function ja(){return window.CE_VERSION_INFO.lastCommitDate};(function(){function a(a){a=a.toString();var d=a.indexOf(".");return 0>d?a:a.substring(0,d+4)}function b(){}var c;window.evernoteClient&&(c=function(a){window.evernoteClient.log(Array.prototype.slice.call(arguments).join(" "))});if(c)u={log:c,info:c.bind(null,"INFO:"),warn:c.bind(null,"WARN:"),error:c.bind(null,"ERROR:")};else try{u={},u.log=window.console.log.bind(window.console),u.info=window.console.info.bind(window.console),u.warn=window.console.warn.bind(window.console),u.error=window.console.error.bind(window.console),
u.trace=window.console.trace.bind(window.console),u.time=window.console.time.bind(window.console),u.timeEnd=window.console.timeEnd.bind(window.console)}catch(d){u=window.console}u.time||(u.time=b);u.timeEnd||(u.timeEnd=b);u.trace||(u.trace=b);u.dump=function(a){var d=Array.prototype.slice.call(arguments).map(ka);u.log.apply(u,d)};var e={};u.Vd=function(a,d){var b={yc:window.performance&&window.performance.now?window.performance.now():(new Date).getTime(),kb:Array.prototype.slice.call(arguments,1).join(" ")||
""};e[a]?e[a].push(b):e[a]=[b]};u.xf=function(a,d){e[a]=[];u.Vd.apply(this,arguments)};u.wf=function(d,b){u.Vd.apply(this,arguments);for(var c=e[d],m=c[c.length-1].yc-c[0].yc,l=1;l<c.length;l++){var p=c[l].yc-c[l-1].yc;u.log("\u25fc "+d+"."+l+": "+a(p)+"ms ("+Math.round(100*p/m)+"% of "+a(m)+"ms full time)",c[l].kb?"<-":"",c[l].kb)}e[d]=[]};ha=u.warn}).call(ba);function ma(a){var b=na(arguments);b.unshift("DEPRECATION WARNING:");u.warn.apply(null,b)}
function w(a,b){if(!a){var c="Assertion failed! "+Array.prototype.slice.call(arguments,1).join(" ");u.error(c);throw c;}}function oa(a){try{if(r(a))return pa(a);var b=JSON.stringify(a,null,"  ")}catch(c){return a.toString()}return b}
function qa(a){if(a instanceof Text)return"<TextNode:"+oa(a.textContent)+">";if(a instanceof Element)return"<Element:"+a.outerHTML.replace(/^<(.*?)>[\s\S]*$/gi,"$1")+">";if(a instanceof DocumentFragment){var b=document.createElement("div");b.appendChild(a.cloneNode(!0));return"<DocumentFragment:"+b.innerHTML.replace(/^<(.*?)>[\s\S]*$/gi,"$1")+">"}return a instanceof Range?(b=document.createElement("div"),b.appendChild(a.cloneContents()),"<Range:"+qa(a.startContainer)+":"+a.startOffset+","+qa(a.endContainer)+
":"+a.endOffset+" collapsed="+(a.collapsed?"true":"false")+" html="+oa(b.innerHTML)+">"):"<"+typeof a+":"+oa(a)+">"}function ka(a){return r(a)?a:qa(a)}var ra=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g;function sa(a){return a instanceof RegExp?a.source:a.replace(ra,"\\$&")}var ta=/[^\x20\x21\x23-\x26\x28-\x5B\x5D-\x7E]/g;function pa(a){return"'"+a.replace(ta,function(a){a=a.charCodeAt(0).toString(16);var c=a.length;return 1===c?"\\x0"+a:2===c?"\\x"+a:3===c?"\\u0"+a:"\\u"+a})+"'"}var ua=/([\uD800-\uDBFF])([\uDC00-\uDFFF])/g;
function va(a){ua.lastIndex=0;return ua.test(a)}var wa=/[\u0001-\u0008\u000E-\u001F\u007F-\u009F\uFDD0-\uFDEF\u000B\uFFFE\uFFFF]|[\x01-\x10][\uFFFE-\uFFFF]/g,xa={"&apos;":/&apos;/gi,"&quot;":/&quot;/gi,"&gt;":/&gt;/gi,"&lt;":/&lt;/gi,"&amp;":/&amp;/gi,"&":/&/g,"<":/</g,">":/>/g,'"':/"/g,"'":/'/g};function ya(a){return a.replace(xa["&apos;"],"'").replace(xa["&quot;"],'"').replace(xa["&gt;"],">").replace(xa["&lt;"],"<").replace(xa["&amp;"],"&")}
function B(a,b){var c;if(a&&b)if(null!=a.length){c=0;for(var d=a.length;c<d&&b.call(a,a[c],c)!==za;c++);}else"object"===typeof a&&Object.keys(a).every(function(d){return b.call(a,d,a[d])===za?!1:!0})}var za={};function Aa(a,b,c){if(b)for(var d in b)if(!c||void 0===a[d]){var e=b[d];void 0!==e&&(a[d]=e)}return a}
function D(a,b,c){null==c&&(c=!0);if(null==a||""===a)a={};r(a)&&(a=JSON.parse(a)||{});w(Ba(a),"Options of wrong type");if(b){w(Ba(b),"Defaults of wrong type");var d,e=Object.keys(b);for(d in a)if(a.hasOwnProperty(d)&&!(0<=e.indexOf(d))&&c){var g=["Key",oa(d),"not supported! Seen in:",(a||{}).name||"",a];u.warn.apply(g)}for(d in b)"undefined"===typeof a[d]&&(a[d]=b[d])}return a||{}}function Ca(){var a=navigator.language||navigator.userLanguage||"en";return a=a.split("-")[0]}
function na(a,b){if(!b)return Array.prototype.slice.call(a,0);var c=a.length,d=[],e;if(b)for(e=c-1;0<=e;e--)d.push(a[e]);else for(e=0;e<c;e++)d.push(a[e]);return d}var Da=/^[\x00-\x20\s]*$/g;function Ea(a){return r(a)?(Da.lastIndex=0,0===a.length||Da.test(a)):!1}function Fa(a){return!a||Ea(a)||da(a)&&0===a.length||ea(a)&&0===Object.keys(a).length}var Ga=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?((?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,}))))(?::\d{2,5})?(?:\/\S*)?$/gi;
function Ba(a){return!!a&&"object"===ca(a)}function Ha(a){var b=a.indexOf(">"),c=a.lastIndexOf("<");return 0>b||0>c?a:a.substring(b+1,c)}function Ia(a){var b;if(r(a))b=document.createElement("div"),b.textContent=a;else if(a instanceof Node)b=a.ownerDocument.createElement("div"),b.appendChild(a.cloneNode(!0));else throw"Illegal argument type for en.toHTML";return Ha(b.outerHTML)}function Ja(){return window.ENUniqueCounter++}window.ENUniqueCounter=1;function La(a){window.setTimeout(a,0)}
function Ma(a,b){var c;try{c=a()}catch(d){var e=[];e.push("Exception:");e.push(d.toString());u.error.apply(e);b&&b(d)}return c}function Na(){this.P=[];this.Ua=[]}Na.prototype.has=function(a){return-1!==this.P.indexOf(a)};function Oa(a,b){var c=a.P.indexOf(b);return-1!==c?a.Ua[c]:null}Na.prototype.set=function(a,b){var c=this.P.indexOf(a);-1!==c?this.Ua[c]=b:(this.P.push(a),this.Ua.push(b))};Na.prototype.remove=function(a){a=this.P.indexOf(a);-1!==a&&(this.P.splice(a,1),this.Ua.splice(a,1))};
Function.prototype.bind||(Function.prototype.bind=function(a){function b(){return e.apply(this instanceof c&&a?this:a,d.concat(Array.prototype.slice.call(arguments)))}function c(){}if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var d=Array.prototype.slice.call(arguments,1),e=this;c.prototype=this.prototype;b.prototype=new c;return b});function Pa(){return!1}function E(){return!0}var Qa=window.onerror;
window.onerror=function(a,b,c){var d=!1;Qa&&(d=Qa(a,b,c));u.error("Uncaught error in JS:",a.toString(),b,c);return d};var Ra="style bgcolor title lang dir text".split(" "),Sa="address article aside body blockquote caption center col colgroup dd details dir div dl dt fieldset figcaption figure footer form h1 h2 h3 h4 h5 h6 header hgroup hr li listing menu nav ol p plaintext pre section summary table tbody td tfoot th thead tr ul xmp".split(" "),Ta="a abbr b bdi bdo cite code dfn em h1 h2 h3 h4 h5 h6 i kbd mark p pre q rp rt ruby s samp small span strong sub sup u var acronym listing strike xmp big blink font marquee nobr tt".split(" "),
Ua="margin-left margin-right font-family font-size font-weight text-align color direction background-color font-style text-decoration vertical-alignment line-height".split(" "),Va=["0","0px","none","initial"],Wa="colgroup table tbody tfoot thead tr".split(" "),Xa=["script","style","plaintext","xmp"],Ya=["embed","object","img"],Za=Sa.join(",");function $a(){function a(a,b){a.f=D(b,{title:null,id:null})}function b(a){w(r(a)&&a===a.toLowerCase(),"Command name has to be lower case only.");var b=a.lastIndexOf("."),g=[];if(-1===b)(a=c[a])&&(g=a.filter(function(a){return!0!==a.Ya}));else{var f=a.substring(0,b);(a=c[a.substring(b+1)])&&(g=a.filter(function(a){return a.Ma&&-1!==a.Ma.indexOf(f)}))}return g}var c={};this.kf=function(a){w(Ba(a),"We require command to be an object:",a);var b=a.name;w(r(b)&&1<b.length&&!!b.match(/[a-z]+/gi),"Invalid name for command:",
oa(b));a.action&&w(!!a.enabled,'We require command to have "enabled" state:',a.name);w(!!(a.action||a.value||a.state),'We require command to have one of "action", "value" or "state":',a.name);w(!a.Ma||da(a.Ma),"We require command groups to be an Array:",a.name);var g=c[b];g||(g=[],c[b]=g);w(da(g),"Expected list for commands");g.push(a)};this.oe=function(a){if(a&&c)for(var b=Object.keys(c||{}),g=0;g<b.length;g++){var f=b[g],h=c[f];if(h)for(var m=h.length-1;0<=m;m--){var l=h[m];l&&a(l)&&(h.splice(m,
1),0>=h.length?delete c[f]:c[f]=h)}}else c={}};this.action=function(d,c,g){var f=null;Ma(function(){var h=b(d);if(0!=h.length)for(var m=0;m<h.length;m++){var l=h[m];if(l.action&&l&&l.enabled&&!0===l.enabled.call(l,c)){var p={name:l.name,value:c,command:l};bb("beforeexeccommand",p);a(l,g);l=l.action.call(l,c);f=!(null===f&&!1===l);p.result=l;bb("execcommand",p)}}else u.warn("execCommand of unknown command:",d,"with value:",c)},function(a){"complete"!==document.readyState?u.warn("Exception in execCommand <$>:",
a.toString()):u.error("Exception in execCommand <$>:",a.toString())});return f};this.enabled=function(d,c,g){var f=null;Ma(function(){var h=b(d);if(h)for(var m=0;m<h.length;m++){var l=h[m];if(l.enabled){a(l,g);l=l.enabled.call(l,c);if(!0===l){f=!0;break}null===f&&!1===l&&(f=!1)}}else u.warn("queryCommandEnabled of unknown command:",d,c)},function(a){"complete"!==document.readyState?u.warn("Exception in queryCommandEnabled <$>:",a.toString()):u.error("Exception in queryCommandEnabled <$>:",a.toString())});
return f};this.state=function(d,c,g){var f=null;Ma(function(){var h=b(d);if(h)for(var m=0;m<h.length;m++){var l=h[m];if(l.state){a(l,g);if(!0===l.state.call(l,c)){f=!0;break}f=!1}}else u.warn("queryCommandState of unknown command:",d,c)},function(a){"complete"!==document.readyState?u.warn("Exception in queryCommandState <$>:",a.toString()):u.error("Exception in queryCommandState <$>:",a.toString())});return f};this.value=function(c,e,g){var f=null;Ma(function(){var h=b(c);if(h)for(var m=0;m<h.length;m++){var l=
h[m];if(l.value){a(l,g);l=l.value.call(l,e);if(null!=l){if(!r(l))try{f=JSON.stringify(l);break}catch(p){}f=l.toString();break}f=""}}else u.warn("queryCommandValue of unknown command:",c,e)},function(a){"complete"!==document.readyState?u.warn("Exception in queryCommandValue <$>:",a.toString()):u.error("Exception in queryCommandValue <$>:",a.toString())});return f}}function cb(a){return!(!1===a||0===a||"0"===a||"false"===a.toString().toLocaleLowerCase())}
function db(a){if(Ba(a))return a;if(r(a)&&0<a.length){if(0===a.indexOf("{"))return JSON.parse(a)||{};ma('Please use a JSON formatted string in the form { "value": "'+a.substring(0,100)+'"}');return{value:a}}return{}}function eb(a){var b="";try{var c=a;r(c)&&(c=JSON.parse(c)||{});if(da(c))return c;if(Ba(c))return[c]}catch(d){b=d}u.warn("Problems parsing value",a,b.toString());return null};function fb(a,b,c){w(!!a,"Missing target to work with");w("function"==typeof b,"Listener must be a function");this.a=b;this.target=a;this.ja={};this.state=1;this.i=!1;this.options=D(c||{},this.b,!1)}function gb(a,b){return a===b?1:Math.abs(a)>=Math.abs(b)?0<a?2:4:0<b?8:16}function hb(a,b){var c=void 0===a.x?["clientX","clientY"]:["x","y"],d=b[c[0]]-a[c[0]],c=b[c[1]]-a[c[1]];return Math.sqrt(d*d+c*c)}
function ib(a,b){var c=void 0===a.x?["clientX","clientY"]:["x","y"];return 180*Math.atan2(b[c[1]]-a[c[1]],b[c[0]]-a[c[0]])/Math.PI}function jb(a){var b=0,c=0,d=a.length;a.forEach(function(a){b+=a.clientX;c+=a.clientY});return{x:Math.round(b/d),y:Math.round(c/d)}}function lb(a){var b=[];a.touches.forEach(function(a){b.push({clientX:Math.round(a.clientX),clientY:Math.round(a.clientY)})});return{timeStamp:Date.now(),touches:b,center:jb(b),deltaX:a.deltaX,deltaY:a.deltaY}}
function mb(a,b){var c=Array.prototype.slice.call(a.targetTouches),d={};if(b&3&&1===c.length)return[c,c];var e=Array.prototype.slice.call(a.changedTouches);c.forEach(function(a){d[a.identifier]=!0});e.forEach(function(a){d[a.identifier]||(d[a.identifier]=!0,c.push(a))});return[c,e]}function nb(a){a.state=this.state;a.preventDefault=function(){a.srcEvent.preventDefault()};a.stopPropagation=function(){a.srcEvent.stopPropagation()};this.g(a);this.a.call(this.target,a)}
var ob={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function pb(a){a.preventDefault()}var qb=0;fb.prototype.b={};fb.prototype.rb=function(){return 1};fb.prototype.g=function(){};function rb(a,b){w(!!b,"Payload is missing, check proper flow when tryEmit is being used.");a.options.kd&&a.state&6&&!(a.state&8)?sb(a,!0):a.options.kd&&sb(a,!1);a.state&30&&!b.srcEvent.defaultPrevented&&nb.call(a,b)}
function sb(a,b){a.i&&!b&&0>=--qb?document.body.removeEventListener("touchmove",pb):!a.i&&b&&0<++qb&&document.body.addEventListener("touchmove",pb);a.i=b}function tb(a,b,c){fb.call(this,a,b,c);this.m=this.l=0}ga(tb,fb);tb.prototype.b={type:"pan",xa:1,wa:10,kd:!0,direction:30};
tb.prototype.rb=function(a){var b=this.state&6,c;if((c=a.touches.length===this.options.xa)&&!(c=this.state&2)&&(c=!(this.state&2))){c=a.direction;var d=a.distance;a.direction&this.options.direction||(this.options.direction&6?(d=a.deltaX,c=0===d?1:0>d?2:4):(d=a.deltaY,c=0===d?1:0>d?8:16),d=Math.abs(d));c=!!(d>this.options.wa&&c&this.options.direction)}if(b&&(a.inputType&8||!c))return this.state|16;if(b||c)return a.inputType&4?this.state|8:this.state&2?this.state|4:(this.l=a.deltaX,this.m=a.deltaY,
2);this.m=this.l=0;return 32};tb.prototype.g=function(a){a.deltaX-=this.l;a.deltaY-=this.m;2===this.state&&(a.isInitial=!0)};function ub(a,b,c){fb.call(this,a,b,c)}ga(ub,fb);ub.prototype.b={type:"pinch",xa:2,wa:0,kd:!0};ub.prototype.rb=function(a){var b=this.state&6,c=a.touches.length===this.options.xa&&(Math.abs(a.scale-1)>this.options.wa||this.state&2);return b&&(a.inputType&8||!c)?this.state|16:b||c?a.inputType&4?this.state|8:this.state&2?this.state|4:2:32};
ub.prototype.g=function(a){this.state&8&&(a.isFinal=!0)};function vb(a,b,c){fb.call(this,a,b,c)}ga(vb,ub);vb.prototype.b={type:"rotate",xa:2,wa:0};function wb(a,b,c){fb.call(this,a,b,c)}ga(wb,fb);wb.prototype.b={type:"swipe",wa:10,rf:.65,direction:30,xa:1};
wb.prototype.rb=function(a){var b=this.options.direction,c=0;b&30?c=a.velocity:b&6?c=a.velocityX:b&24&&(c=a.velocityY);var d=this.state&6,b=a.touches.length===this.options.xa&&a.inputType&4&&a.distance>this.options.wa&&b&a.direction&&Math.abs(c)>this.options.rf;return d&&(a.inputType&8||!b)?this.state|16:d||b?a.inputType&4?this.state|8:this.state&2?this.state|4:2:32};function xb(a,b,c){fb.call(this,a,b,c);this.Sa=null;this.Z=void 0;this.Ta=0}ga(xb,fb);
xb.prototype.b={type:"tap",xa:1,ie:1,interval:300,time:250,wa:5,offset:10,af:!1};
xb.prototype.rb=function(a){var b=a.touches.length===this.options.xa&&a.distance<this.options.wa&&a.deltaTime<this.options.time;clearTimeout(this.Sa);if(b){var c=this;if(4!=a.inputType)return c.Sa=setTimeout(function(){c.state=32;c.Z=void 0;c.Ta=0},c.options.interval),32;var b=!this.Z||a.timeStamp-this.Z.timeStamp<this.options.interval,d=!this.Z||hb(this.Z.center,a.center)<this.options.offset;this.Z=a;this.Ta=b&&d?this.Ta+1:1;if(this.Ta===this.options.ie&&this.options.af)return 8;this.Ta===this.options.ie&&
(this.Sa=setTimeout(function(){c.state=8;rb(c,c.Z)},this.options.interval))}return 32};xb.prototype.g=function(a){a.count=this.Ta;this.Ta=0;this.Z=void 0};function yb(a,b,c){fb.call(this,a,b,c);this.Sa=null;this.Z=void 0}ga(yb,fb);yb.prototype.b={type:"press",xa:1,time:500,wa:5};
yb.prototype.rb=function(a){var b=a.touches.length===this.options.xa&&a.distance<this.options.wa;if(b&&a.inputType&1){var c=this;clearTimeout(this.Sa);this.Z=a;this.Sa=setTimeout(function(){c.state=8;rb(c,c.Z)},this.options.time)}else b&&a.inputType&2?this.Z=a:(clearTimeout(this.Sa),this.Z=void 0);return 32};function zb(a,b){return a&&a.classList?a.classList.contains(b):!!(a&&a.className&&(new RegExp("(?:^|\\s+)"+b+"(?:\\s+|$)","gi")).test(a.className))}function F(a,b){a&&(a.classList?a.classList.add(b):zb(a,b)||(a.className=((a.className||" ")+" "+b).trim()))}function Ab(a,b){a&&(a.classList?a.classList.remove(b):zb(a,b)&&(a.className=a.className.replace(new RegExp("(?:^|\\s+)"+b+"(?:\\s+|$)","gi")," ").trim()||""),0===a.className.length&&a.removeAttribute("class"))}
function Bb(a,b,c){a&&(null!=c?c?F(a,b):Ab(a,b):a.classList?(a.classList.toggle(b),0===a.className.length&&a.removeAttribute("class")):zb(a,b)?Ab(a,b):F(a,b))}function G(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}function Cb(a){return H(a)?na(a.childNodes):[]}function Db(a){return H(a)&&a.firstChild?Db(a.firstChild):a}function Fb(a){return H(a)&&a.lastChild?Fb(a.lastChild):a}function Gb(a){for(;a.firstChild;)a.removeChild(a.firstChild)}
function Hb(a,b){var c=a.parentNode;c&&c.replaceChild(b,a);return b}function Ib(a){if(a){for(;a.firstChild;)a.parentNode.insertBefore(a.removeChild(a.firstChild),a);G(a)}}function Jb(a,b){for(;a.firstChild;)b.appendChild(a.firstChild)}function Kb(a,b){var c=null;try{if(a&&0<a.length){var d=Lb(b||document,"div");Mb(d,a);var e=d.ownerDocument.createRange();e.selectNodeContents(d);c=e.extractContents()}}catch(g){}return c}
function Nb(a,b){Gb(b);for(var c=b.ownerDocument.createDocumentFragment();a.firstChild;)c.appendChild(a.firstChild);b.appendChild(c)}function Ob(a,b){Jb(a,b);a.appendChild(b)}
function Pb(a,b){w(H(a),"<$>");b=b.toLowerCase();if(I(a)===b||!a.parentNode)return a;for(var c=a.ownerDocument.createElement(b),d=0;d<a.attributes.length;d++)c.setAttributeNS(a.attributes[d].namespaceURI,a.attributes[d].name,a.attributes[d].value);w(H(a),"<$>");w(H(c),"<$>");w(!c.hasChildNodes(),"new node has to be empty <$>");a.parentNode.insertBefore(c,a);Jb(a,c);G(a);return c}
function Lb(a,b,c,d){a instanceof Document||(a=a.ownerDocument);b=a.createElement(b?b.toString().toLowerCase():"div");if(null!=c)for(var e in c)if(r(e)){var g=c[e];r(g)?b.setAttribute(e,g):u.warn("Provide a string as attribute value",e,g)}if(null!=d)if(r(d))ma("You should not use innerHTML feature of en.node.make due to security concerns!",qa(b),qa(d)),b.innerHTML=d;else if(da(d))for(c=0;c<d.length;c++)(e=d[c])&&(r(e)?b.appendChild(a.createTextNode(e)):b.appendChild(e));else throw"Unsupported type for opt_inner";
return b}function Mb(a,b){a&&(w(H(a),"Expected a HTML element"),a.insertAdjacentHTML?(a.hasChildNodes()&&Gb(a),a.insertAdjacentHTML("afterbegin",b)):a.innerHTML=b)}function J(a,b,c){return Lb(document,a,b,c)}function Qb(){return J("div",{},[J("br")])}function Rb(a,b){var c;if(a){if(a===b)return null;if(a.previousSibling)a=a.previousSibling;else return(c=a.parentNode)&&c!==b&&1==c.nodeType?c:null}else a=b||document.ownerDocument.documentElement;for(;c=a.lastChild;)a=c;return a}
function Sb(a,b){if(!a){if(!b)return null;a=b}var c=a.firstChild;if(c)return c;for(;a&&a!==b;){if(c=a.nextSibling)return c;a=a.parentNode}return null}function Tb(a){return!(!a||3!==a.nodeType)}function H(a){return!(!a||!a.nodeType||1!==a.nodeType)}function Ub(a,b){return b&&a?!!(a.compareDocumentPosition(b)&8):!1}function Vb(a,b){return b&&a?!!(a.compareDocumentPosition(b)&16):!1}function Xb(a){return!(!a||!a.isEqualNode(document.documentElement)&&!Ub(a,document.documentElement))}
function Yb(a){try{if(a&&(H(a)||(a=a.parentNode),a))return window.getComputedStyle(a)}catch(b){}return null}function Zb(a){if(null==a)return null;var b,c;null==b&&(b=document.body.scrollLeft,c=document.body.scrollTop);return{left:a.left+b,right:a.right+b,top:a.top+c,bottom:a.bottom+c,width:a.width,height:a.height}}
function K(a){if(null==a||null==a.nodeType||!Xb(a))return null;var b=a.getClientRects();0===b.length&&(b=a.ownerDocument.createRange(),b.selectNode(a),b=b.getClientRects());return 1<=b.length?Zb(b[0]):null}function $b(a){return(a=Yb(a))&&a.display?"block"===a.display.toLowerCase():!1}function ac(a){return!(!a||-1===Sa.indexOf(I(a))&&9!==a.nodeType&&11!==a.nodeType)}function I(a){return a&&a.tagName?a.tagName.toLowerCase()||void 0||"":""}
function bc(a,b){return a&&a.getAttribute?a.getAttribute(b)||void 0||"":""}function L(a){for(var b=0;a=a.previousSibling;)b++;return b}function M(a){if(!a)return 0;switch(a.nodeType){case 7:case 10:return 0;case 3:case 8:return a.length;default:return a.childNodes.length}}function N(a,b,c){c||(c=document.body);return a===c?null:O(a,b)?a:(a=a&&a.parentNode)?N(a,b,c):null}function cc(a,b){return N(a.parentNode,ac,b)}
function O(a,b){return a&&b?b instanceof Function?b(a):H(a)&&r(b)?a.webkitMatchesSelector(b):!1:!1}function P(a,b){return b?I(a)===b:H(a)}function Q(a){return"br"===I(a)}function dc(a,b){return!0===b?!!N(a,dc):H(a)?"true"===a.contentEditable:!1}function ec(a,b){a.contentEditable=b?"true":"inherit";b||a.removeAttribute("contenteditable")}var fc={};function gc(a){var b=fc[a];b?b.lastIndex=0:(b=new RegExp("(^|;)\\s*("+sa(a)+")\\s*\\:\\s*(.*?)($|;)+","gi"),gc[a]=b);return b}
function hc(a){return a&&a.getAttribute?a.a?a.b:a.getAttribute("style"):""}function ic(a){a&&a.getAttribute&&!a.a&&(a.a=!0,a.b=a.getAttribute?a.getAttribute("style"):"")}function jc(a){if(a&&a.a){var b=a.b;"undefined"!==typeof b&&a.getAttribute("style")!==b&&(null===b||0===b.trim().length?a.removeAttribute("style"):a.setAttribute("style",b));delete a.b;delete a.a}}function kc(a){a&&a.hasAttribute&&a.hasAttribute("style")&&(a.getAttribute("style").trim().length||a.removeAttribute("style"))}
function R(a,b){var c=hc(a);if(null==c)return null;c=gc(b).exec(c);return null===c?null:c[3].trim()}function S(a,b){var c=hc(a);if(null==c)return"";c=c.replace(gc(b),"$1").trim();if(a.a)return a.b=c;0<c.length?a.setAttribute("style",c):a.removeAttribute("style");return c||""}function T(a,b,c){var d=S(a,b);null!=c&&(d=d.trim(),d.length&&";"!==d[d.length-1]&&(d+=";"),d=d+b+":"+c+";",a.a?a.b=d:a.setAttribute("style",d))}
function lc(a,b){H(a)&&a.style?(a.style.display=b?"":"none",kc(a)):u.warn("Failed to set visibility on non HTML element",a)}function mc(){var a;a="span";w(r("-evernote-sentoj-emoji")||!0);return a+'[style*="-evernote-sentoj-emoji"]'}function nc(a){a=U(mc(),a,!0);return a=a.filter(function(a){return"true"===R(a,"-evernote-sentoj-emoji")})}function oc(a){for(var b=[];a&&a.parentNode;)b.unshift(a.parentNode),a=a.parentNode;return b}
function U(a,b,c){b||(b=document);try{return na(b.querySelectorAll(a),c)}catch(d){throw 0===d.toString().indexOf("Uncaught error in JS: SyntaxError: DOM Exception 12")&&u.error("Wrong syntax in selector:",a),d;}}function V(a,b){return U(a,b,!0)}function pc(a,b,c){for(;a&&(a=Sb(a,c));)if(O(a,b))return a;return null}function qc(a,b,c){for(;a&&(a=Rb(a,c));)if(O(a,b))return a;return null}var rc=/^[\t\n\r ]+$/;function sc(a){rc.lastIndex=0;return Tb(a)&&(""===a.data||rc.test(a.data))}
function tc(a){for(var b;a&&(b=a.firstChild);)a=b;return a}function uc(a,b){var c=J("div",{style:"position: absolute; width: 1px; height: 1px; top: -9999px; left: -9999px;"});c.appendChild(a);document.body.appendChild(c);b(a);G(a);G(c)}function vc(a,b,c){c=c||document.body;var d;if(!Ub(a,c)){do if(H(a)&&a.hasAttribute("style")&&(d=a.style[b],null!=d))break;while((a=a.parentNode)&&c===a)}return d||""}
function wc(a,b){var c;c=c||document.body;b=b||0;a=a||0;if(0===b)c.scrollTop=a;else{var d=c.scrollTop,e=a-d,g=0,f=function(){g+=20;var a;a=g;a/=b/2;1>a?a=e/2*a*a+d:(a--,a=-e/2*(a*(a-2)-1)+d);c.scrollTop=a;g<b&&window.setTimeout(f,20)};f()}}function xc(a,b){if(!H(a))return!1;var c=a.getBoundingClientRect();return yc(c.top,c.bottom,b)}
function yc(a,b,c){var d=window.scrollY,e=d+window.innerHeight;null==c&&(c=55);a+=d;b+=d;d=Math.max(d,a);e=Math.min(e,b);return Math.max(0,Math.round((e-d)/(b-a)*100))>=c}var zc=new Na;function Ac(a,b){var c=Oa(zc,a);c||(c={},zc.set(a,c));b&&!c.id&&(c.id=Ja().toString());return c}function Bc(a,b){var c=a.id||Ac(a,!0).id;return b+"@"+c};function Cc(a,b,c,d){var e=document.createRange();void 0!==a&&(e.setStart(a||null,b||0),c?e.setEnd(c||null,d||0):e.setEnd(a||null,b||0));return e}function Ec(a,b){if(a&&(!b||Fc(a,b))&&a){var c=window.getSelection();c.setBaseAndExtent?c.setBaseAndExtent(a.startContainer,a.startOffset,a.endContainer,a.endOffset||0):(c.removeAllRanges(),c.addRange(a))}}function X(a){var b=window.getSelection();if(1>b.rangeCount)return null;b=b.getRangeAt(0);return a&&b&&!Fc(b,a)?null:b?b.cloneRange():null}
function Gc(a){var b=document.createRange();b.selectNode(a);Ec(b)}function Hc(){window.getSelection().removeAllRanges()}function Fc(a,b){return(a.startContainer===b||Ub(a.startContainer,b))&&(a.endContainer===b||Ub(a.endContainer,b))}function Ic(a,b,c){return a?N(Jc(a),b,c)?!0:a.collapsed?!1:!!N(Kc(a),b,c):!1}function Jc(a){return a?Tb(a.startContainer)?a.startContainer:a.startContainer.childNodes[a.startOffset]||a.startContainer:null}
function Kc(a){return a?Tb(a.endContainer)?a.endContainer:a.endContainer.childNodes[a.endOffset]||a.endContainer.lastChild||a.endContainer:null}function Lc(a,b){return null==a||null==b?!1:a.startContainer===b.startContainer&&a.startOffset===b.startOffset&&a.endContainer===b.endContainer&&a.endOffset===b.endOffset?!0:!1}function Mc(a){return a?{startContainer:a.startContainer,startOffset:a.startOffset,endContainer:a.endContainer,endOffset:a.endOffset,collapsed:a.collapsed}:null}
function Nc(a){if(!a)return null;try{var b=Cc(a.startContainer,a.startOffset,a.endContainer,a.endOffset)}catch(c){b=null}return b}
function Oc(a,b){function c(a,b){var c=document.createNodeIterator(d,window.NodeFilter.SHOW_TEXT),k;for(a=Math.max(0,b?a:a-1);0<=a&&(k=c.nextNode());)a-=k.length;return k?{Va:k,offset:a+k.length+(b?0:1)}:null}var d=b||a.root||document.body,e=a.hasOwnProperty("len")?a.len:a.end-a.start,g=a.start,e=a.hasOwnProperty("end")?a.end:g+e,f=c(g,!0),h=f;g!==e&&(h=c(e,!1));return f&&h?Cc(f.Va,f.offset,h.Va,h.offset):null}
function Pc(a,b){if(!a||a.collapsed)return[];for(var c=[],d=a.commonAncestorContainer,e=a.startContainer;e&&a.intersectsNode(e);e=Sb(e,d))b&&!O(e,b)||c.push(e);return c}function Qc(a){a=a.getClientRects();return 0<a.length?(u.log("Found boxes",a.length),a[0]):null}
function Rc(a,b){if(null!=a){var c=document.body.scrollTop,d=window.innerHeight,e;e=c+d;var g;g=(g=Sc.env)&&null!=g.editorInset?g.editorInset:{top:0,bottom:0,left:0,right:0};var f;if(null==a.nodeType)a:if(null==a)f=null;else{f=Qc(a);if(null==f||a.collapsed){if(!Xb(a.startContainer)){f=null;break a}var h=J("span");h.appendChild(document.createTextNode("\u200b"));a.insertNode(h);f=h.getBoundingClientRect();var m=h.parentNode;m.removeChild(h);m.normalize()}f=Zb(f)}else f=K(a);if(null!=f){h=Math.min(24,
d/12);b&&b.offsetTop&&(h=b.offsetTop);var m=h/2,l=null;f.bottom+m>e?l=Math.max(0,f.bottom-d+h):f.top-m<c&&(l=Math.max(0,f.top-h));null!=l&&(l!==g.top||0===g.top&&0===l)&&(document.body.scrollTop=l)}}}
function Tc(a,b){var c=document.body,d=Oc(a,b);if(!d)return null;d=d.getClientRects();if(null===d||0===d.length)return null;for(var e=[],g=0;g<d.length;g++){var f={},h=d[g];f.top=h.top+c.scrollTop;f.bottom=h.bottom+c.scrollTop;f.left=h.left+c.scrollLeft;f.right=h.right+c.scrollLeft;f.width=h.right-h.left;f.height=h.bottom-h.top;h=e.length-1;if(-1<h&&e[h].left<=f.right&&f.left<=e[h].right&&e[h].top<=f.bottom&&f.top<=e[h].bottom){var m={};m.top=Math.max(e[h].top,f.top);m.bottom=Math.min(e[h].bottom,
f.bottom);m.left=e[h].left;m.right=f.right;m.width=m.right-m.left;m.height=m.bottom-m.top;e[h]=m}else e.push(f)}return e[0]}function Uc(a,b){var c=N(a,"table,ul,ol",b);if(null!==c)return c;for(;Tb(a);)a=a.parentNode;return a}
Range.prototype.compareNode||(u.warn("Range.compareNode has been added by polyfill!"),Range.prototype.compareNode=function(a){var b=a.ownerDocument.createRange();try{b.selectNode(a)}catch(c){b.selectNodeContents(a)}a=1===this.compareBoundaryPoints(Range.START_TO_START,b);b=-1===this.compareBoundaryPoints(Range.RANGE_END_TO_END,b);return a&&!b?0:!a&&b?1:a&&b?2:3});var Vc={},Wc=1,Xc={};function Yc(a){var b=a["en-event-expando"];b||(b=a["en-event-expando"]=Wc++,Vc[b]={});return Vc[b]}function Zc(a){var b=a["en-event-expando"];if(b){delete Vc[b];try{delete a["en-event-expando"]}catch(c){a.removeAttribute&&a.removeAttribute("en-event-expando")}}}
function $c(a,b){function c(a){for(var b in a)return!1;return!0}var d=Yc(a);0===d.Na[b].length&&(delete d.Na[b],document.removeEventListener?a.removeEventListener(b,d.Fd,!1):document.detachEvent&&a.detachEvent("on"+b,d.Fd));c(d.Na)&&(delete d.Na,delete d.Fd);c(d)&&Zc(a)}function ad(a){var b,c=Yc(a);if(c.Na)if(b){if(b=b.toLowerCase(),c.Na[b]){var d=b;c.Na[d]=[];$c(a,d)}}else for(d in c.Na)b=d,c.Na[b]=[],$c(a,b)}function bd(a){a.preventDefault();a.stopPropagation();return!1}
function cd(){var a;a="onmouseenter";if(null!=Xc[a])return Xc[a];var b=J({select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"}[a]||"div"),c=a in b;c||(b.setAttribute(a,"return;"),c="function"===typeof b[a]);return Xc[a]=c};var dd={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",
darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",
ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",
lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",
moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",
seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
function ed(a){var b={};a=String(a);var c="#"==a.charAt(0)?a:"#"+a;if(fd(c))return b.gb=gd(c),b.type="hex",b;a:{var d=a.match(hd);if(d){var c=Number(d[1]),e=Number(d[2]),d=Number(d[3]);if(0<=c&&255>=c&&0<=e&&255>=e&&0<=d&&255>=d){c=[c,e,d];break a}}c=[]}if(c.length){a=c[0];e=c[1];c=c[2];a=Number(a);e=Number(e);c=Number(c);if(isNaN(a)||0>a||255<a||isNaN(e)||0>e||255<e||isNaN(c)||0>c||255<c)throw Error('"('+a+","+e+","+c+'") is not a valid RGB color');b.gb="#"+id(a.toString(16))+id(e.toString(16))+
id(c.toString(16));b.type="rgb";return b}if(dd&&(c=dd[a.toLowerCase()]))return b.gb=c,b.type="named",b;throw Error(a+" is not a valid color string");}var jd=/#(.)(.)(.)/;function gd(a){if(!fd(a))throw Error("'"+a+"' is not a valid hex color");4==a.length&&(a=a.replace(jd,"#$1$1$2$2$3$3"));return a.toLowerCase()}var kd=/^#(?:[0-9a-f]{3}){1,2}$/i;function fd(a){kd.lastIndex=0;return kd.test(a)}var hd=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i;
function id(a){return 1==a.length?"0"+a:a}function ld(a){if("currentcolor"===a.toLowerCase())return null;try{var b=ed(a),c;if(b.gb){var d=b.gb,d=gd(d);c="rgb("+[parseInt(d.substr(1,2),16),parseInt(d.substr(3,2),16),parseInt(d.substr(5,2),16)].join(", ")+")"}else c=null;return c}catch(e){return null}}function md(a){try{var b=ed(a);if(b.gb)return b.gb}catch(c){}return null};function nd(){function a(a,b){c.na(b).forEach(function(a){c.detach(a)});null!=g[b]&&delete g[b];zc.remove(a)}function b(){for(var b=Object.keys(e),c=0;c<b.length;c++){for(var h=e[b[c]],k=U(h.lf,d),n=0;n<k.length;n++){var f=k[n];if(!h.qd.has(f)){var g={id:Ac(f,!0).id};h.qd.set(f,g);h.d(f,g)}}for(var f=[],x=h.qd,n=x.P.length-1;0<=n;n--){var q=x.P[n];if(-1===k.indexOf(q)){g=x.Ua[n];h.r(q,g);var A=x,z=n;A.P.splice(z,1);A.Ua.splice(z,1);f.push([q,g.id])}}for(n=f.length-1;0<=n;n--)a.apply(this,f[n])}}var c=
this;c.name="layer";var d=null,e={},g={},f=null,h=!1;c.a={};c.a.cover=function(a,b){var c=K(a);b.style.top=c.top+"px";b.style.left=c.left+"px";b.style.width=c.width+"px";b.style.height=c.height+"px"};c.a.anchor=function(a,b){var c=K(a);b.style.top=c.top+"px";b.style.left=c.left+"px"};c.a.bottomRightCorner=function(a,b){var c=K(a),d=window.innerWidth-c.right;b.style.bottom=window.innerHeight-c.bottom+"px";b.style.right=d+"px"};c.a.bottomLeftCorner=function(a,b){var c=K(a);b.style.bottom=window.innerHeight-
c.bottom+"px";b.style.left=c.left+"px"};c.a.bottomRightResizeHandle=function(a,b){var c=K(a),d=window.innerWidth-c.right-11;b.style.bottom=window.innerHeight-c.bottom-13+"px";b.style.right=d+"px"};c.a.bottomLeftResizeHandle=function(a,b){var c=K(a),d=c.left-11;b.style.bottom=window.innerHeight-c.bottom-13+"px";b.style.left=d+"px"};c.a.rightEdge=function(a,b){var c=Math.floor(K(b).width/2),d=K(a),c=window.innerWidth-d.right-c,e=window.innerHeight-d.bottom;b.style.top=d.top+"px";b.style.right=c+"px";
b.style.bottom=e+"px"};c.a.leftEdge=function(a,b){var c=Math.floor(K(b).width/2),d=K(a),c=d.left-c,e=window.innerHeight-d.bottom;b.style.top=d.top+"px";b.style.left=c+"px";b.style.bottom=e+"px"};c.a.tableColumnEdge=function(a,b){c.a.rightEdge(a,b);var d=N(a,"table"),d=window.innerHeight-K(d).bottom;b.style.bottom=d+"px"};c.a.textRangeMatch=function(a,b){var c={start:parseInt(b.getAttribute("data-en-overlay-textfrom"),10),end:parseInt(b.getAttribute("data-en-overlay-textto"),10)},c=Tc(c,a);if(!c)return null;
b.style.top=c.top+"px";b.style.left=c.left-1+"px";b.style.right=c.right-1+"px";b.style.bottom=c.bottom+"px";b.style.width=c.width+2+"px";b.style.height=c.height+"px"};c.Je=function(a,b){var c=Ja().toString();e[c]={name:c,lf:"table",d:a,r:b||Pa,qd:new Na}};c.Ud=function(){return f};c.g=function(a){return a.getAttribute("data-en-layout-algorithm")};c.na=function(a){var b="";if(null==a)b="[data-en-overlay-id]";else if("string"===typeof a)b='[data-en-overlay-id="'+a+'"]';else if(a instanceof Element){a=
Ac(a).id;if(null==a)return[];b='[data-en-overlay-id="'+a+'"]'}else return[];return U(b,f)};c.getParent=function(a){return(a=g[a])&&a.n||null};c.Rd=function(b){if(b){var d=b.getAttribute("data-en-overlay-id");if(null!=d){var e=c.getParent(d);if(null==e)c.detach(b);else if(Xb(e)){if(d=c.g(b),null!=d&&"undefined"!==typeof c.a[d])c.a[d](e,b)}else a(e,d)}}};c.Ba=function(a){!0===a&&(h=!0);h&&b();a=c.na();for(var d=0;d<a.length;d++)c.Rd(a[d])};c.ib=function(a,b,d){b=b||"cover";w("undefined"!==typeof c.a[b],
"Invalid layout algorithm:",b);w(H(a),"Expected a node!");var k=Ac(a,!0).id;w(!!k&&r(k),"Expected an ID");k in g?++g[k].ae:g[k]={n:a,ae:1};d=d||J("div");d.setAttribute("data-en-overlay-id",k);d.setAttribute("data-en-layout-algorithm",b);R(d,"z-index")||T(d,"z-index","900");T(d,"position","absolute");f.appendChild(d);c.a[b](a,d);return d};c.ve=function(a){f.appendChild(a)};c.detach=function(a){var b=a.getAttribute("data-en-overlay-id"),c=g[b];c&&0>=--c.ae&&delete g[b];G(a);return b};c.mc=function(a,
b,d,k,e){var h=!0;null==h&&(h=!1);var f=!1,g,q,A,z,y=J("div",{style:"position: fixed;top: 0px;left: 0px;right: 0px;bottom: 0px;z-index: 999;-webkit-user-select: none;-moz-user-select: none;-ms-user-select: none;-o-user-select: none;user-select: none;"+(null==e?"":e)});c.c.a(a,"mousedown",function(a){f=!0;g=a.pageX;q=a.pageY;A=a.pageX;z=a.pageY;!0===h&&c.Ud().appendChild(y);null!=b&&b()});c.c.a(window,"mousemove",function(a){if(!1!==f){A=a.pageX;z=a.pageY;a=A-g;var b=z-q;null!=d&&d(a,b)}});c.c.a(window,
"mouseup",function(a){if(!1!==f){f=!1;A=a.pageX;z=a.pageY;a=A-g;var b=z-q;!0===h&&G(y);null!=k&&k(a,b)}})};c.d=function(a){d=D(a,{root:null}).root||c.b("context").root;f=document.querySelector("#en-tools");f||(f=J("div",{"class":"en-tools",id:"en-tools"}),document.body.appendChild(f));w(H(d));w(H(f));c.c.a(window,"resize",c.Ba.bind(c,!1));c.c.g("execcommand",c.Ba.bind(c,!0));c.c.a(document,"input",c.Ba.bind(c,!0));c.Ba(!0)};c.r=function(){c.na().forEach(function(a){c.detach(a)});d=null}};function od(){function a(a){b(a.target)}function b(a){B(m.na(a),function(a){zb(a,"img-resizer-handle")&&m.detach(a)})}function c(a){O(a.target,"img:not(.en-object-placeholder)")&&d(a.target)}function d(a){if(1!==n.length)U(".img-resizer-handle",m.Ud()).forEach(function(a){a=m.getParent(a);b(a)});else{var c=!1;B(m.na(a),function(a){zb(a,"img-resizer-handle")&&(c=!0)});if(!0!==c){var d=l.Sd(a),h=d===a.naturalWidth;if(!(142>=d)){var f=e(a),z="right"===e(a)?"bottomLeftResizeHandle":"bottomRightResizeHandle",
g=m.ib(a,z);T(g,"z-index","901");F(g,"img-resizer-handle");F(g,z);var C;"bottomRightResizeHandle"===z?C="cursor: nwse-resize;":"bottomLeftResizeHandle"===z&&(C="cursor: nesw-resize;");var la=function(){T(a,"height","auto");var b=K(a);S(a,"width");a.setAttribute("width",b.width)},W=K(a);m.mc(g,function(){null!=k&&u.warn("Multiple images being resized at once! <$>");k=a;la()},function(b){var c,k=K(p).width;"right"===f?c=W.width-b:c="center"===f?W.width+2*b:W.width+b;142>=c?a.setAttribute("width","142"):
c>=k||c>=d?(a.removeAttribute("width"),!1===h&&(l.Xd(a),la())):a.setAttribute("width",""+c);m.Ba()},function(){k=null;W=K(a);Y(p,"setDirty",{Rb:!0});Gc(a)},C)}}}}function e(a){a=(a=Yb(a))?a.textAlign:null;return"center"===a?"center":"right"===a?"right":"justify"===a?"full":"left"}function g(a){O(a.target,"img:not(.en-object-placeholder)")&&Gc(a.target)}function f(a){!1!==!!a.getAttribute("data-en-img-selected")&&(a.removeAttribute("data-en-img-selected"),B(m.na(a),function(a){zb(a,"img-selected-overlay")&&
m.detach(a)}))}var h=this,m=null,l=null,p=null;h.name="ui-img";var k,n=[];h.d=function(){p=h.b("context").root;F(p,"en-ui-img-on");m=h.b("layer");l=h.b("img");h.c.K(p,"imageSelected",c);h.c.K(p,"imageUnselected",a);h.c.a(p,"click",g);h.c.K(p,"selectionChanged",function(){if(0!==p.getElementsByTagName("img").length){var a=U("img:not(.en-object-placeholder)",p);n=[];if(0!==a.length){var b=window.getSelection();b.isCollapsed||B(a,function(a){b.containsNode(a,!1)&&-1===n.indexOf(a)&&n.push(a)});B(a,function(a){if(!b.isCollapsed&&
b.containsNode(a,!1)){if(!a.getAttribute("data-en-img-selected")){a.setAttribute("data-en-img-selected","true");var c=m.ib(a);F(c,"img-selected-overlay");var d=J("div",{"class":"img-selected-overlay-top-left-corner"}),e=J("div",{"class":"img-selected-overlay-top-right-corner"}),l=J("div",{"class":"img-selected-overlay-bottom-left-corner"}),h=J("div",{"class":"img-selected-overlay-bottom-right-corner"}),n=J("div",{"class":"img-selected-overlay-right-edge"}),g=J("div",{"class":"img-selected-overlay-left-edge"});
c.appendChild(d);c.appendChild(e);c.appendChild(l);c.appendChild(h);c.appendChild(n);c.appendChild(g)}Y(p,"imageSelected",{target:a})}else k!==a&&(f(a),Y(p,"imageUnselected",{target:a}))})}}})};h.r=function(){Ab(p,"en-ui-img-on");U("img:not(.en-object-placeholder)",p).forEach(function(a){f(a);b(a)});l=m=p=null}};function pd(){function a(){f=[];h=[];b()}function b(){B(e.na(g),function(a){zb(a,"find-result")&&e.detach(a)})}function c(b,c){h!==b&&(a(),h=b);if(0===f.length){for(var d=document.createDocumentFragment(),l=b.length;l--;){var p=b[l];f[l]||(f[l]=Lb(d,"div",{"class":"find-result","data-en-overlay-textfrom":p.from.toString(),"data-en-overlay-textto":p.to.toString()}))}e.ve(d)}for(l=0;l<f.length;l++)f[l]=e.ib(g,"textRangeMatch",f[l]);m&&zb(m,"find-result-active")&&Ab(m,"find-result-active");f[c]&&(m=
d=f[c],zb(d,"find-result-active")||F(d,"find-result-active"),Rc(d,g))}var d=this,e=null,g=null,f=[],h=[],m=null,l=null,p=null;d.name="ui-find";d.d=function(){g=d.b("context").root;e=d.b("layer");d.c.g("findChanged",function(a){c(a.items,a.selected);l||(l=d.c.K(g,"selectionChanged",function(){d.c.remove(l);l=null;bb("findClear")}));p||(p=d.c.K(g,"setDirty",function(){d.c.remove(p);p=null;bb("findContentChanged")}))});d.c.g("findClear",a)}};function qd(a,b,c){if("undefined"===typeof c||0===+c)return Math[a](b);b=+b;c=+c;if(isNaN(b)||"number"!==typeof c||0!==c%1)return NaN;b=b.toString().split("e");b=Math[a](+(b[0]+"e"+(b[1]?+b[1]-c:-c)));b=b.toString().split("e");return+(b[0]+"e"+(b[1]?+b[1]+c:c))}Math.ia||(Math.ia=function(a,b){return qd("round",a,b||0)});Math.Ve||(Math.Ve=function(a,b){return qd("floor",a,b||0)});Math.Se||(Math.Se=function(a,b){return qd("ceil",a,b||0)});var rd=/^(\-?\d*\.?\d*)(px|em|\%|pt)?$/,sd=0,td=0;
function ud(a){var b=null;if("number"===typeof a)b={fb:"px",value:a,Qa:a.toString(),uc:a||null};else{rd.lastIndex=0;var c=rd.exec(a);c&&(b={fb:c[2]||"px",value:parseFloat(c[1]),Qa:c[1],uc:a||null})}return b}
function vd(a){a=a||document.body;a=Yb(a);sd=ud(a.fontSize).value;w(!!sd,"Did not find base font size",sd,a.fontSize);a=J("div",{style:"height: 100pt; left: -100%; position: absolute; top: -100%; width: 100pt; "});document.body.appendChild(a);td=a.offsetHeight/100;w(!!td,"Did not find pt ratio",td);G(a)}
function wd(a,b,c){var d=a||null;if(r(a)){var e=ud(a);e?(a=e.value,c=e.fb):a=null}b||(b="px");if(!a)return{fb:b,value:0,Qa:"0",uc:d,Ob:c};c||(c="px");if(c===b)return a=Math.ia(a),{fb:b,value:a,Qa:a+b,uc:d,Ob:c};"px"===c&&"px"===b||w(0<sd,"en.unit.init needs to get called first!");"px"===c?"em"===b?a=Math.ia(a/sd):"%"===b?a=Math.ia(100*a/sd):"pt"===b&&(a=Math.ia(a/td)):"pt"===c?"em"===b?a=Math.ia(a*td/sd):"%"===b?a=Math.ia(100*a*td/sd):"px"===b&&(a=Math.ia(a*td)):"%"===c?"em"===b?a=Math.ia(a/100):
"pt"===b?a=Math.ia(a*sd/(100*td)):"px"===b&&(a=Math.ia(a*sd/100)):w(!1,"Not implemented yet",c,"=>",b);return{fb:b,value:a,Qa:a+b,uc:d,Ob:c}};function xd(a,b){null==a&&(a=document.body);for(var c=a,d=b.length-1;0<=d;d--){var e=b[d];e>M(c)&&(e=M(c)-1);c=c.childNodes[e]}return c}function yd(a,b){var c=[];null==b&&(b=document.body);for(;a&&a.parentNode&&a!==b;){for(var d=0,e=a.parentNode.childNodes,g=0;g<e.length;g++)if(e[g]===a){d=g;break}c.push(d);a=a.parentNode}return c}
function zd(a,b,c){for(var d=[];1==b.nodeType;){var e=b.childNodes[c];if(!e&&!b.lastChild)break;e?(b=e,c=0):(b=b.lastChild,c=M(b))}b=c={n:b,offset:c};if(3==b.n.nodeType)for(c=b.n.previousSibling;c&&3==c.nodeType;c=c.previousSibling)b.offset+=M(c);else c=b.n.previousSibling;e=b.n.parentNode;b.n=c?c.nextSibling:e.firstChild;c=b;for(b=c.n;b&&b.parentNode&&b!==a;){for(var g=e=0,f=b.parentNode.childNodes,h=0;h<f.length;h++){var m=f[h];3!==m.nodeType&&0<g&&(++e,g=0);if(m===b)break;3===m.nodeType?g+=M(m):
++e}d.push(e);b=b.parentNode}return{path:d,offset:c.offset}}function Ad(a,b,c){null==a&&(a=document.body);var d="";b&&(c?(c=zd(a,b.startContainer,b.startOffset),a=zd(a,b.endContainer,b.endOffset),d={startPath:c.path,startOffset:c.offset,endPath:a.path,endOffset:a.offset,collapsed:b.collapsed}):d={startPath:yd(b.startContainer,a),startOffset:b.startOffset,endPath:yd(b.endContainer,a),endOffset:b.endOffset,collapsed:b.collapsed});return JSON.stringify(d)}
function Bd(a,b){null==a&&(a=document.body);if(!b)return null;var c=JSON.parse(b),d;if(c&&c instanceof Object)a:{var e=a;null==e&&(e=document.body);if(void 0===e||!c)throw"All arguments required";try{var g=xd(e,c.startPath),f=xd(e,c.endPath);if(!g||!f){d=null;break a}var h=Cc(g,c.startOffset,f,c.endOffset);c.collapsed&&h.collapse(!0);d=h;break a}catch(m){u.error("Exception <$>",m.toString())}d=null}else d=null;return d}
function Cd(a,b){null==a&&(a=document.body);var c=X(a);return c?Ad(a,c,b):null}function Dd(a,b){null==a&&(a=document.body);Cd(a);if(b){var c=Bd(a,b);c&&Ec(c)}};function Ed(a){function b(a,b,c){this.pe=a;this.Ue=b;this.title=c||null}w(this instanceof Ed,"Use `new` to instantiate this class");var c=[],d=[],e=a&&a.maxLength||0;this.ua=function(a,f,h){if(a)if(f){if(a=new b(a,f,h),d=[],a.pe(),c.push(a),1<e)for(;c.length>e;)c.shift()}else throw"UndoRedo.do missing required parameter 'down'.";else throw"UndoRedo.do missing required parameter 'up'.";};this.register=function(a,f,h){if(a)if(f){if(a=new b(a,f,h),d=[],c.push(a),1<e)for(;c.length>e;)c.shift()}else throw"UndoRedo.do missing required parameter 'down'.";
else throw"UndoRedo.do missing required parameter 'up'.";};this.Ea=function(){return 0<c.length};this.Da=function(){return 0<d.length};this.ne=function(){return c&&0!==c.length?c[c.length-1].title:null};this.$d=function(){return d&&0!==d.length?d[d.length-1].title:null};this.le=function(){var a=c.pop();return a?(a.Ue(),d.push(a),!0):!1};this.Zd=function(){var a=d.pop();return a?(a.pe(),c.push(a),!0):!1};this.clear=function(){c=[];d=[]}};function Fd(a,b){b=b||{};b.version="1.0";window.evernoteClient&&window.evernoteClient.postNotification&&window.evernoteClient.postNotification(a,JSON.stringify(b))}function Gd(a,b){b=b||{};b.module=a||"";Fd("contentChanged",b)}function Hd(a,b){b=b||{};b.module=a||"";Fd("focusChanged",b)}function Id(){Fd("contentLoaded",{module:"content"})}function Jd(a){Fd("titleBlur",{module:a||"title"})}function Kd(a,b,c){c=c||{};c.href=a;c.module=b||"";Fd("openLink",c)}
function Ld(){Fd("contextVisible",{module:"context"})}function Md(a){Fd("contextExpanded",{module:"context",expanded:!!a})};var Sc={},Nd={},Od=null,Pd=null,Qd=[];function Rd(a){ic(a);-1===Qd.indexOf(a)&&Qd.push(a)}function Sd(){for(var a=0;a<Qd.length;a++)jc(Qd[a]);Qd=[]}function Td(a){w(Ba(a),"Expected to get an non empty object");Sc=a}function Ud(){var a=Sc.env;return a&&null!=a.selectionColor?a.selectionColor:"rgb(167, 203, 245)"}function bb(a,b){var c=Nd[a];if(c)for(var d=0;d<c.length;d++)(0,c[d][1])(b,a)}function Y(a,b,c){bb(Bc(a,b),null!=c?c:{target:a})}
function Vd(a,b){var c=Nd[a];if(c&&c.length)for(var d=c.length-1;0<=d;d--)c[d][1]===b&&c.splice(d,1)}var Wd=[];function Xd(a){w(ea(a),"Expecting an module script object.");Wd.push(a);bb("module",a)};var Yd={tap:xb,press:yb,pan:tb,swipe:wb,rotate:vb,pinch:ub},Zd=["touchstart","touchmove","touchend","touchcancel"],$d=1;
function ae(){function a(){++p;for(var a=m.Ua,b=a.length-1;0<=b;b--){var c=a[b];p===c.Te&&(c.Fa(),c.ff&&d.remove(c.ba))}}function b(a,b){Ma(function(){1===a?Od.oe(function(a){return a.ba===b}):2===a?b[0].removeEventListener(b[1],b[2],b[3]):4===a?window.clearTimeout(b):10===a?(m.remove(b[0]),l&&0===m.P.length&&(window.clearInterval(l),l=null)):5===a?window.clearInterval(b):7===a?b():8===a?(sb(b[4],!1),Zd.forEach(function(a){b[0].removeEventListener(a,b[2],b[3])})):9===a?Vd(b[0],b[1]):u.error("Unhandled binding cleanup step!",
a,b)})}function c(a,b){var c={Wd:++$d,type:a,value:b};return f[c.Wd]=c}var d=this;w(this instanceof ae,"Use `new` to instantiate this class");var e=!1,g=null,f={};d.q=function(){w(!1,"Not public!");return Object.keys(f)};d.remove=function(a){null!=a&&(b(a.type,a.value),delete f[a.Wd])};d.d=function(a){a=D(a,{name:null});g=a.name;w(0===Object.keys(f).length,"Binding are in an undefined state before setup",g);w(!1===e,"You need to call cleanup first!",g);e=!0};d.r=function(){w(e,"You need to call setup first!");
e=!1;for(var a=Object.keys(f).sort(function(a,b){a=+a;b=+b;return a>b?1:a<b?-1:0}),c=a.length-1;0<=c;c--){var d=f[a[c]];b(d.type,d.value)}f={};g=h=null};var h=null;d.Ub=function(a){h=a};d.b=function(a){w(e,"You need to call setup first!");a.ba=Ja().toString();h&&(a=Aa(a,h,!0));Od.kf(a);return c(1,a.ba)};d.a=function(a,b,d,m){w(null!=a,"target is required!");w(e,"You need to call setup first!");w(!m||Ba(m),"option must be dictionary when used");var l=!!m&&!0===m.uf,h=[a,b,d,l];if(Yd[b.toLocaleLowerCase()]){b=
b.toLocaleLowerCase();var p=new Yd[b](a,d,m);h[2]=function(a){var b=ob[a.type],c=mb.call(p,a,b);if(c){a={inputType:b,srcEvent:a,touches:c[0],changedTouches:c[1],target:a.target,type:p.options.type};var c=a.touches.length,d=a.changedTouches.length;a.isInitial=!!(b&1&&0===c-d);a.isFinal=!!(b&12&&0===c-d);a.isInitial&&(p.ja={});p.ja.Jd||(p.ja.Jd=lb(a));1<a.touches.length&&!p.ja.Qc?p.ja.Qc=lb(a):1===a.touches.length&&(p.ja.Qc=void 0);var c=p.ja.Jd,d=(b=p.ja.Qc)?b.center:c.center,k=a.center=jb(a.touches);
a.timeStamp=Date.now();a.deltaTime=a.timeStamp-c.timeStamp;a.angle=ib(d,k);a.distance=hb(d,k);var c=p.ja,d=a.center,k=c.ef||{},m=c.gf||{},e=c.hf||{};if(1===a.inputType||4===e.inputType)m=c.gf={x:e.deltaX||0,y:e.deltaY||0},k=c.ef={x:d.x,y:d.y};a.deltaX=m.x+(d.x-k.x);a.deltaY=m.y+(d.y-k.y);a.offsetDirection=gb(a.deltaX,a.deltaY);b?(c=b.touches,d=a.touches,c=hb(d[0],d[1])/hb(c[0],c[1])):c=1;a.scale=c;b?(b=b.touches,c=a.touches,b=ib(c[1],c[0])-ib(b[1],b[0])):b=0;a.rotation=b;b=p.ja;e=b.bf||a;c=a.timeStamp-
e.timeStamp;8!=a.inputType&&(25<c||void 0===e.velocity)?(k=e.deltaX-a.deltaX,e=e.deltaY-a.deltaY,m={x:k/c||0,y:e/c||0},c=m.x,d=m.y,m=Math.abs(m.x)>Math.abs(m.y)?m.x:m.y,k=gb(k,e),b.bf=a):(m=e.velocity,c=e.velocityX,d=e.velocityY,k=e.direction);a.velocity=m;a.velocityX=c;a.velocityY=d;a.direction=k;p.state&56&&(p.state=1);p.state=p.rb(a);rb(p,a);p.ja.hf=a}};h.push(p);m=c(8,h);Zd.forEach(function(b){a.addEventListener(b,h[2],l)})}else m=c(2,h),a.addEventListener(b,d,l);return m};d.g=function(a,b,d){a:{var m=
Nd[a];null==m&&(m=[],Nd[a]=m);d=d||0;for(var e=0;e<m.length;e++)if(d<m[e][0]){m.splice(e,0,[d,b]);break a}m.push([d,b])}return c(9,[a,b])};d.K=function(a,b,c,m){return d.g(Bc(a,b),c,m)};d.timeout=function(a,b,m){w(e,"You need to call setup first!");m&&d.remove(m);var l=0,l=window.setTimeout(function(){a();for(var b=l,c=f.length-1;0<=c;c--)if(f[c][0]===b){f.splice(c,1);break}},b||0);return c(4,l)};var m=new Na,l=null,p=0;d.l=function(){p=0};d.m=function(b,h){w(e,"You need to call setup first!");w(0<
h,"Delay needs to be a number >1");var p=Ja().toString(),f=c(10,p);m.set(p,{Fa:b,ff:!1,Te:h,ba:f,id:p});l||(d.l(),l=window.setInterval(a,1E3))};d.i=function(a){c(7,a)}};function be(a){var b=this;b.l=a||{};b.b=null;var c=[],d={};b.load=function(a){return Ma(function(){if(!a)return!1;a.N=!1;w(!(0<=c.indexOf(a)),"Plugin has already been loaded:",a.name);w(!d[a.name],"There is another plugin with the same name!",a.name);c.push(a);a.name&&0<a.name.length&&(d[a.name]=a);a.c=new ae;return!0},function(a){u.error("Exception in PluginManager.load <$>",a.toString())})};b.s=function(a){return d[a]||null};b.g=function(){return c.filter(function(a){return a.N})};b.rc=function(a){if(r(a))return d[a]||
null;for(var b=c.length-1;0<=b;b--){var f=c[b];if(a(f))return f}return null};b.a=function(a){w(null!=d[a],"The plugin",a,"is required here!");return d[a]};b.q=function(a){b.i=a};b.d=function(a,d){return Ma(function(){w(!!a,"Expected a plugin");w(!a.N,"Plugin is already set up:",a.name);0<=c.indexOf(a)||b.load(a);a.c.d({name:a.name||"?"+Ja()});a.xb=b;a.U=function(){a.bb||(a.bb=new be(b.l),a.bb.b=a);return a.bb};a.Wa=b.rc.bind(b);a.b=b.a.bind(b);b.i&&b.i(a);a.d&&a.d(d||{},b.l);a.N=!0;return a},function(a){u.error("Exception in PluginManager.setup <$>",
a.toString())})};b.e=function(a){for(var d=0;d<c.length;d++)b.d(c[d],a)};b.r=function(a){Ma(function(){w(!!a,"Expected a plugin");w(a.N,"Plugin is not yet set up:",a.name);w(0<=c.indexOf(a),"Plugin has not been loaded before:",a.name);a.N=!1;a.bb&&(a.bb.b=null,a.bb.m(),a.bb=null);a.c.r();a.r&&a.r();delete a.U;delete a.Wa;delete a.b;a.xb=null},function(a){u.error("Exception in PluginManager.cleanup <$>",a.toString())})};b.m=function(){for(var a=c.length-1;0<=a;a--){var g=c[a];!0===g.N&&b.r(g)}c=[];
d={}}};function ce(){var a=this;a.name="mutation-observer";a.d=function(b){function c(a){if(a)for(var b=0;b<a.length;b++){var c=a[b],c={type:c.type,target:c.target,addedNodes:na(c.addedNodes),removedNodes:na(c.removedNodes),oldValue:c.oldValue,nextSibling:c.nextSibling,attributeName:c.attributeName,value:"characterData"===c.type?c.target.data:c.target.getAttribute(c.attributeName)};c.target===d&&"class"===c.attributeName||e.push(c)}}var d=D(b,{element:null}).element;w(H(d),"Element!");var e,g=null;a.c.i(function(){g&&
a.e()});a.H=function(){w(null==g,"Observer already running");e=[];var a=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(a){var b=new (window.MutationObserverInit||window.WebKitMutationObserverInit||window.MozMutationObserverInit||Object);b.subtree=!0;b.childList=!0;b.attributes=!0;b.characterData=!0;b.attributeOldValue=!0;b.characterDataOldValue=!0;g=new a(c);g.observe(d,b)}};a.t=function(){return!!g};a.j=function(){w(null!=g,"Observer not running");var a=g.takeRecords();
c(a);return e};a.e=function(){a.j();g.disconnect();g=null;return e};a.T=function(a){if(a)for(var b=0;b<a.length;b++){var c=a[b];if("childList"===c.type){if(c.addedNodes.length)for(var d=0;d<c.addedNodes.length;d++)u.log("  ",b,"add node",I(c.addedNodes[d])||oa(c.addedNodes[d].textContent),c.addedNodes[d].outerHTML);if(c.removedNodes.length)for(d=0;d<c.removedNodes.length;d++)u.log("  ",b,"remove node",I(c.removedNodes[d])||oa(c.removedNodes[d].textContent),c.removedNodes[d].outerHTML)}else"attributes"===
c.type?null===c.oldValue?u.log("  ",b,"remove attribute",I(c.target),c.attributeName,c.target.outerHTML):u.log("  ",b,"set attribute",I(c.target),c.attributeName,c.target.outerHTML):"characterData"===c.type?u.log("  ",b,"change text",oa(c.oldValue),"to",oa(c.value)):u.error("!!! unknown mutation",c.type)}};a.w=function(a){for(var b=a.length-1;0<=b;b--){var c=a[b];if("childList"===c.type){if(c.addedNodes.length)for(var d=0;d<c.addedNodes.length;d++)c.target.removeChild(c.addedNodes[d]);if(c.removedNodes.length)for(d=
0;d<c.removedNodes.length;d++)c.target.insertBefore(c.removedNodes[d],c.nextSibling)}else"attributes"===c.type?null===c.oldValue?c.target.removeAttribute(c.attributeName):c.target.setAttribute(c.attributeName,c.oldValue):"characterData"===c.type?c.target.data=c.oldValue:u.error("!!! unknown mutation",c.type)}}}};function de(){w(this instanceof de,"Use `new` to instantiate this class");var a=this;a.name="undo";var b=/\s*(id|data\-en\-[a-z0-9\-]+)=".*?"/gi;a.d=function(c){function d(a){return function(){Nb(a.n.cloneNode(!0),h);Dd(h,a.selection);f.vb&&f.vb(a.Jb);l=a}}function e(a){!0!==a&&l||(l=g())}function g(){var b={n:h.cloneNode(!0),selection:Cd(h)};if(a.Wa){var c=a.Wa("crypt");c&&c.vd(b.n)}f.va&&(b.Jb=f.va());return b}var f=D(c,{element:null,Mb:"Typing",va:null,vb:null},!0),h=f.element;w(!!h&&H(h),'"element" option must be an HTMLElement');
var m=new Ed,l=null;a.e=function(){if(!l||!h)return!1;l.n.className=h.className;l.n.id=h.id;if(!h.isEqualNode(l.n)){var a=l.Wc;null==a&&(a=l.n.innerHTML.replace(b,""),l.Wc=a);var c=h.innerHTML,c=c.replace(b,"");if(a!==c)return!0}return f.va?f.va()!==l.Jb:!1};a.flush=function(b){if(a.e()){Y(h,"beforeGetContent");var c=g();m.register(d(c),d(l),b||f.Mb);return l=c}e(!0);return l};var p=!1;a.c.a(h,"mousedown",function(){p=!0});this.c.K(h,"selectionChanged",function(b){b.wc&&(1==p&&a.flush(),e());p=!1});
a.ua=function(b,c){Y(h,"beforeGetContent");var k=a.flush()||g();b();var e=g();m.register(d(e),d(k),c);l=e};a.clear=function(){m.clear();l=null;window.TEST&&e()};var k=a.xb.b;a.Ea=function(){return m.Ea()||a.e()};a.Da=function(){return m.Da()&&!a.e()};a.c.b({name:"undo",action:function(){a.flush();m.le()&&Y(h,"setDirty");return!0},state:function(){return a.Ea()},value:function(){return a.e()?f.Mb:m.ne()},enabled:function(){return k.hasFocus&&k.hasFocus()&&a.Ea()}});a.c.b({name:"redo",action:function(){m.Zd()&&
Y(h,"setDirty");return!0},state:function(){return a.Da()},value:function(){return m.$d()},enabled:function(){return k.hasFocus&&k.hasFocus()&&a.Da()}})}};function ee(){w(this instanceof ee,"Use `new` to instantiate this class");var a=this;a.name="undo";var b=[],c=[];a.d=function(d){function e(a){return function(){p.w(a.Qb);Dd(m,a.selection);h.vb&&h.vb(a.Jb)}}function g(a){return!0!==a&&l?!1:(l=f(),p.H(),!0)}function f(){var a={Qb:[],selection:Cd(m)};h.va&&(a.Jb=h.va());return a}var h=D(d,{element:null,Mb:"Typing",va:null,vb:null},!0),m=h.element;w(!!m&&H(m),'"element" option must be an HTMLElement');var l=null,p=new ce;a.U().d(p,{element:m});a.e=function(){return l&&
m?0<p.j().length?!0:h.va?h.va()!==l.Jb:!1:!1};a.flush=function(d){if(a.e()&&l){Y(m,"beforeGetContent");l.Qb=p.e();var k=e(l);d=d||h.Mb;c=[];b.push({Fa:k,title:d});l=null}g()||(l=f());return l};var k=!1;a.c.a(m,"mousedown",function(){k=!0});this.c.K(m,"selectionChanged",function(b){b.wc&&(1==k&&a.flush(),g());k=!1});a.ua=function(d,k){a.flush();l=f();d();l.Qb=p.e();var m=e(l);c=[];b.push({Fa:m,title:k});g(!0)};a.clear=function(){p.t()&&(p.e(),l=null);b=[];c=[];window.TEST&&g()};var n=a.xb.b;a.Ea=function(){return 0<
b.length||a.e()};a.Da=function(){return 0<c.length&&!a.e()};a.c.b({name:"undo",action:function(){a.flush();var d=b.pop();return d?(l=f(),d.Fa(),l.Qb=p.e(),c.push({Fa:e(l),title:d.title}),g(!0),Y(m,"setDirty"),!0):!1},state:function(){return a.Ea()},value:function(){return a.e()?h.Mb:b&&0!==b.length?b[b.length-1].title:null},enabled:function(){return n.hasFocus&&n.hasFocus()&&a.Ea()}});a.c.b({name:"redo",action:function(){var d=c.pop();return d?(a.flush(),l=f(),d.Fa(),l.Qb=p.e(),b.push({Fa:e(l),title:d.title}),
g(!0),Y(m,"setDirty"),!0):!1},state:function(){return a.Da()},value:function(){return c&&0!==c.length?c[c.length-1].title:null},enabled:function(){return n.hasFocus&&n.hasFocus()&&a.Da()}})}};function fe(){function a(a){var f=db(a);a=!1;var h=f.visible;null!=h&&(lc(c,!!h),a=!0);h=f.active;null!=h&&(F(c,h?"en-shared-on":"en-shared-off"),Ab(c,h?"en-shared-off":"en-shared-on"),a=!0);h=f.business;null!=h&&(lc(e,!!h),a=!0);f=f.value;r(f)&&(d.innerHTML=f,V("a",d).forEach(function(a){var c=a.getAttribute("href");a.removeAttribute("href");F(a,"en-shared-link");a=Pb(a,"span");a.onclick=function(){var d=K(a);Kd(c,b.name,{left:d.left,top:d.top,width:d.width,height:d.height});return!1}}),a=!0);return a}
var b=this;this.name="shared";w(this instanceof fe,"Use `new` to instantiate this class");var c=null,d=null,e=null;this.d=function(b){var f=document.querySelector(".en-note-container");d=J("div",{"class":"en-shared-message"});e=J("div",{"class":"en-shared-business",style:"display:none;"});c=J("div",{"class":"en-shared en-shared-off",id:"en-shared",style:"display:none;"},[e,d]);f.insertBefore(c,f.firstChild);a(b);this.c.b({name:"shared",action:a,enabled:E})};this.r=function(){e=d=null;G(c);c=null}}
;function ge(){function a(a){if(!(null==a||r(a)&&""===a||ea(a)&&0===Object.keys(a).length)){var p=db(a);a=p.visible;var y=p.expanded,t=p.hideIndicatorLabelWhenExpanded,v=p.hideIndicatorLabelWhenCollapsed,q=p.chatButtonLabel||"Chat",x=p.shareButtonLabel||"Share",Eb=p.items,kb=p.contextSectionLabel,Wb=p.firstLaunchInfo;null!=a&&lc(n,!!a);if(Eb&&!(0>=Eb.length)){Gb(n);var Ka=J("div",{"class":"en-context-label"});Ka.textContent=kb||"Context";n.appendChild(Ka);kb=J("div",{"class":y?"en-context-hide-label":
"en-context-show-label"});n.appendChild(kb);b(Wb);Wb=J("div",{"class":"en-context-card-holder"});n.appendChild(Wb);for(Ka=0;Ka<Eb.length;Ka++)Wb.appendChild(m(Eb[Ka],x,q));T(n,"max-height",139*k.maxRows+32+"px");y?g(kb,t):f(kb,v);e(kb,t,v);c();l.c.timeout(c,250);h(!0);!0===a&&!0===y&&0<Eb.length&&l.c.timeout(function(){d(p)},1500)}}}function b(a){if(null!=a&&null!=a.headline&&null!=a.subHeadline&&null!=a.learnMoreLinkLabel&&null!=a.dismissButtonLabel){ma("The FLE functionality has been merged into the context-info command. Please switch to that API.");
var b=a.headline,c=a.subHeadline,d=a.learnMoreLinkLabel;a=a.dismissButtonLabel;var k=J("div",{"class":"en-context-fle-container"});n.appendChild(k);var m=J("div",{"class":"en-context-fle-header"});m.textContent=b;k.appendChild(m);b=J("div",{"class":"en-context-fle-body"});k.appendChild(b);m=J("span",{"class":"en-context-fle-subheader"});m.textContent=c+" ";b.appendChild(m);c=J("span",{"class":"en-context-fle-learn-more"});c.textContent=d;b.appendChild(c);l.c.a(c,"click",function(a){Kd("learnMore",
l.name,{kind:"firstLaunch",sharing:!1});bd(a)});d=J("div",{"class":"en-context-fle-dismiss-button"});d.textContent=a;k.appendChild(d);l.c.a(d,"click",function(a){Kd("dismiss",l.name,{kind:"firstLaunch",sharing:!1});G(k);a.stopPropagation()})}}function c(){var a;var b=document.querySelector(".en-context-card-holder");a=document.querySelectorAll(".en-context-item").length||0;var c=document.querySelector(".en-context-item");if(null==b||null==c)a=null;else{var b=Math.round(K(b).width),d=Yb(c),k=Math.round(c.offsetWidth+
(parseInt(d["margin-left"],10)+parseInt(d["margin-right"],10)));a={Ne:b,df:a,Qe:k,vf:Math.round(c.offsetHeight+(parseInt(d["margin-top"],10)+parseInt(d["margin-bottom"],10))),Re:Math.floor(b/k)}}c=document.querySelector(".en-context-card-holder");null!=a&&null!=c&&(b=Math.min(a.df,a.Re),0>=b?T(c,"left","0px"):T(c,"left",(a.Ne-a.Qe*b)/2+"px"))}function d(a){if(!0!==x&&!1!==k.showPopup&&null==v&&null!=n&&null!=a&&null!=a.items&&0!==a.items.length){var b=a.items,c=a.toastNotificationHeaderLabel||"FIX HEADER";
a=a.toastNotificationFooterLabel||"FIX FOOTER";var d=ya(b[0].title||"Untitled"),m=J("div",{"class":"en-context-popup-header"});m.textContent=c;c="en-context-popup-body";null!=b[0].kind&&(c+=" "+b[0].kind);b=J("div",{"class":c});b.textContent=d;d=J("div",{"class":"en-context-popup-footer"});d.textContent=a;d.appendChild(J("div",{"class":"en-context-popup-down-arrow"}));v=J("div",{"class":"en-context-popup"},[J("div",{"class":"en-context-popup-wrapper"},[m,b,d])]);n.parentNode.insertBefore(v,n.nextSibling);
l.c.timeout(function(){F(v,"en-context-popup-visible")},1);l.c.a(v,"mousedown",function(){l.c.remove(t)});l.c.a(v,"mouseup",function(){var a=K(n);wc(a.top-15,240);Ab(v,"en-context-popup-visible");T(v,"pointer-events","none")});t=l.c.timeout(function(){Ab(v,"en-context-popup-visible");T(v,"pointer-events","none");l.c.timeout(function(){lc(v,!1)},250)},5500,t)}}function e(a,b,c){l.c.a(a,"click",function(){a.textContent===b?(f(a,c),Md(!1)):a.textContent===c&&(g(a,b),Md(!0));h(!0)})}function g(a,b){var c=
U(".en-context-card-holder",n),d=U(".en-context-fle-container",n);1!==c.length?u.error("Couldnt find card holder?!"):(c=c[0],a.textContent=b,Ab(a,"en-context-show-label"),F(a,"en-context-hide-label"),lc(c,!0),null!=d&&1===d.length&&lc(d[0],!0))}function f(a,b){var c=U(".en-context-card-holder",n),d=U(".en-context-fle-container",n);1!==c.length?u.error("Couldnt find card holder?!"):(c=c[0],a.textContent=b,Ab(a,"en-context-hide-label"),F(a,"en-context-show-label"),lc(c,!1),null!=d&&1===d.length&&lc(d[0],
!1))}function h(a){function b(){var a=n.querySelector(".en-context-item");null!=a&&xc(a,100)&&!1===x&&(x=!0,Ld())}null==a&&(a=!1);a?b():q=l.c.timeout(b,100,q)}function m(a,b,c){var d=a.link||"#",k=a.kind||"undefined",m=document.createTextNode(ya(a.text||"")),e=a.thumbnail||"",h=""!==e,n=ya(a.title||"Untitled"),f=a.sourceName||"",g=a.sourceId||"",t=a.date||"",v=a.author||"";a=a.canShare;var q=J("div",{"class":h?"en-context-item-title":"en-context-item-title en-context-wide",href:d,name:k});q.textContent=
n;n=J("span",{"class":"en-context-author"});""!==v&&(n.textContent=v);var x=J("span",{"class":"en-context-separator"});x.textContent="|";var Dc=J("span",{"class":"note"===k?"en-context-note-date":"en-context-news-date"});""!==t&&(Dc.textContent=t);d=[];"news"===k?""!==t?(d.push(Dc),""!==v&&(d.push(x),d.push(n))):""!==v&&d.push(n):(""!==t&&d.push(Dc),d.push(m));m="en-context-item-body";h||(m+=" en-context-wide");"news"===k?m+=" en-context-item-body-one":"note"===k&&"evernote.business"===g?m+=" en-context-item-body-two":
"people"===k&&(m+=" en-context-body-italics");t=J("div",{"class":m},d);m=J("div",{"class":"en-context-graphic-clipper"});d="en-context-graphic";a&&(d+=" en-context-graphic-blur");e=J("img",{"class":d,alt:"graphic",src:e});d="en-context-graphic-hover";h||(d+=" en-context-graphic-hover-solid");b=J("div",{"class":d},[J("div",{"class":"en-context-workchat"}),J("div",{"class":"en-context-share-text"},["people"===k?c:b])]);h&&m.appendChild(e);a&&(m.appendChild(b),l.c.a(m,"click",function(a){Kd(q.getAttribute("href"),
l.name,{kind:q.getAttribute("name"),sharing:!0});a.stopPropagation()}));h=g;"dowjones.wsj"===h&&(h="wsj");"profile.linkedin"===h&&(h="linkedin");if("profile.evernote.business"===h||"evernote.business"===h)h="evernote-business";"profile.factiva"===h&&(h="factiva");c="";if("profile.evernote.business"===g||"evernote.business"===g)c="en-context-source-text-blue";b=J("div",{"class":"en-context-source-img "+h});c=J("div",{"class":"en-context-source-text "+c});c.textContent="dowjones.wsj"===g?"":"evernote.business"===
g?v:f;f=J("div",{"class":"en-context-source"});-1!==p.indexOf(h)&&f.appendChild(b);f.appendChild(c);v=[q,t];v.push(m);("news"===k||"people"===k||"company"===k||"note"===k&&"evernote.business"===g)&&v.push(f);k=J("div",{"class":"en-context-item"},v);l.c.a(k,"click",function(a){Kd(q.getAttribute("href"),l.name,{kind:q.getAttribute("name"),sharing:!1});a.preventDefault()});return k}var l=this;this.name="context";w(this instanceof ge,"Use new for this");var p="factiva fastcompany inc lifehacker linkedin pandodaily techcrunch theverge evernote-business wsj forbes nikkei".split(" "),
k,n=null,v=null,t,x=!1,q;this.d=function(b){var d=document.querySelector(".en-note-container");n=J("div",{"class":"en-context",id:"en-context",style:"display:none;"});null!=d?(d.parentNode.insertBefore(n,d.nextSibling),l.c.a(window,"scroll",h),l.c.a(window,"resize",h),h(!0),l.c.a(window,"resize",c),k=D(b,{showPopup:!0,maxRows:9999},!1),this.c.b({name:"context",action:a,enabled:E})):u.error("Couldnt find note container! Bailing.")};this.r=function(){G(n);G(v);t=0;n=null;x=!1}};function he(){function a(a){if(!(null==a||r(a)&&""===a||ea(a)&&0===Object.keys(a).length)){ma("The FLE functionality has been merged into the context-info command. Please switch to that API.");var k=db(a),m=k.expanded;null==m&&(m=!1);var l=k.headline||"Get more Context with Premium",t=k.subHeadline||"Go Premium to view notes, articles, and people related to what you're working on.";a=k.goPremiumLabel||"Go Premium";var x=k.hideIndicatorLabelWhenExpanded||"Hide",k=k.hideIndicatorLabelWhenCollapsed||
"Show";Gb(f);lc(f,!0);h=J("div",{"class":"en-context-upsell-body"});f.appendChild(h);var q=J("div",{"class":m?"en-context-upsell-hide-label":"en-context-upsell-show-label"});f.appendChild(q);m?c(q,x):d(q,k);b(q,x,k);m=J("div",{"class":"en-context-upsell-headline"});m.textContent=l;h.appendChild(m);l=J("div",{"class":"en-context-upsell-subheadline"});l.textContent=t;h.appendChild(l);t=J("div",{"class":"en-context-upsell-go-premium"});t.textContent=a;h.appendChild(t);g.c.a(t,"click",function(a){Kd("http://evernote.com",
"context",{kind:"upsell",sharing:!0});bd(a)});e(!0)}}function b(a,b,m){g.c.a(a,"click",function(){a.textContent===b?(d(a,m),Md(!1)):a.textContent===m&&(c(a,b),Md(!0));e(!0)})}function c(a,b){null!=h&&(a.textContent=b,Ab(a,"en-context-upsell-show-label"),F(a,"en-context-upsell-hide-label"),lc(h,!0))}function d(a,b){null!=h&&(a.textContent=b,Ab(a,"en-context-upsell-hide-label"),F(a,"en-context-upsell-show-label"),lc(h,!1))}function e(a){function b(){xc(f,75)&&!1===m&&(m=!0,Ld())}null==a&&(a=!1);a?b():
l=g.c.timeout(b,100,l)}var g=this;this.name="context-upsell";w(this instanceof he,'Use "new" to create the Context Upsell Plugin');var f=null,h=null,m=!1,l;this.d=function(b){var c=document.querySelector(".en-note-container");f=J("div",{"class":"en-context-upsell",id:"en-context-upsell",style:"display:none;"});null!=c?(c.parentNode.insertBefore(f,c.nextSibling),g.c.a(window,"scroll",e),g.c.a(window,"resize",e),e(!0),a(b),this.c.b({name:"context-upsell",action:a,enabled:E})):u.error("Couldnt find note container! Bailing.")};
this.r=function(){G(f);h=f=null;m=!1}};function ie(){function a(a){if(!(null==a||r(a)&&""===a||ea(a)&&0===Object.keys(a).length)){var m=db(a),k=m.showLogo||!1,e=m.headline||"HEADLINE",h=m.infoSections||[];a=m.buttonLabel||"BUTTONLABEL";var t=m.hideOnButtonClick||!1;Gb(g);lc(g,!0);m=J("div",{"class":"en-context-info-logo"});k&&g.appendChild(m);k=J("div",{"class":"en-context-info-headline"});k.textContent=e;g.appendChild(k);f=J("div",{id:"en-context-info-body"});g.appendChild(f);if(3===h.length){for(e=0;e<h.length;e++)f.appendChild(b(h[e])),
f.appendChild(document.createTextNode(" "));h=J("div",{"class":"en-context-info-stretcher"});f.appendChild(h)}h=J("div",{"class":"en-context-info-button"});h.textContent=a;g.appendChild(h);d.c.a(h,"click",function(a){Kd("http://evernote.com","context",{kind:"info",sharing:!0});t&&lc(g,!1);bd(a)});c(!0)}}function b(a){null!=a&&r(a.type)&&r(a.title)&&r(a.text)||u.error("Incomplete section info for context-info!");for(var b=!1,c=0;c<e.length;c++)a.type===e[c]&&(b=!0);!1===b&&u.error("Invalid type given for context-info: ",
a.type);b=J("div",{"class":"en-context-info-section"});c=J("div",{"class":"en-context-info-section-image "+a.type});b.appendChild(c);c=J("div",{"class":"en-context-info-section-title"});c.textContent=a.title;b.appendChild(c);c=J("div",{"class":"en-context-info-section-text"});c.textContent=a.text;b.appendChild(c);return b}function c(a){function b(){xc(g,75)&&!1===h&&(h=!0,Ld())}null==a&&(a=!1);a?b():m=d.c.timeout(b,100,m)}var d=this;this.name="context-info";w(this instanceof ie,'Use "new" to create the Context Info Plugin');
var e=["note","article","person"],g=null,f=null,h=!1,m;this.d=function(b){var m=document.querySelector(".en-note-container");g=J("div",{"class":"en-context-info",style:"display:none;"});null!=m?(m.parentNode.insertBefore(g,m.nextSibling),d.c.a(window,"scroll",c),d.c.a(window,"resize",c),c(!0),a(b),this.c.b({name:"context-info",action:a,enabled:E})):u.error("Couldnt find note container! Bailing.")};this.r=function(){G(g);f=g=null;h=!1}};function je(){function a(a){var c=D(db(a),{highlight:t,excludeMatches:v,limit:k,value:null});a=f;c.value&&(a=d.find(c.value,+c.limit));l=c.highlight;b();p||(p=d.c.g("findContentChanged",function(){d.c.remove(p);p=null}));if(c.excludeMatches){var c={},m;for(m in a)"items"!==m&&(c[m]=a[m]);a=c}return JSON.stringify(a)}function b(){"all"===l&&g?bb("findChanged",{items:g,selected:h}):"single"===l&&m?bb("findChanged",{items:[m],selected:0}):bb("findClear")}function c(a){a=db(a).value;if("next"===a)d.e(h+
1);else if("prev"===a)d.e(h-1);else if("first"===a)d.e(0);else if("last"===a)d.e(-1);else if("clear"===a)bb("findClear"),f=g=e=null,h=-1,m=null;else{a=parseInt(a,10);if(isNaN(a))return!1;d.e(a)}return!0}var d=this;d.name="find";w(this instanceof je,"Use `new` to instantiate this class");var e=null,g=null,f=null,h=-1,m=null,l=null,p=null,k,n,v,t;d.d=function(b){b=D(b,{limit:100,excludeMatches:!1,highlight:"none",selector:"#en-note"});k=0<+b.limit?+b.limit:100;n=r(b.selector)?b.selector:"#en-note";
v=b.excludeMatches;t=b.highlight;f=g=e=null;h=-1;m=null;d.c.b({name:"find",action:c,value:a,enabled:E})};d.j=function(a,b){var c={start:a.from,end:a.to},d=Tc(c,b);if(!d)return null;d.top&&(d.string=a.string,d.length=a.length,d.from=c.start,d.to=c.end);return d};d.e=function(a){g&&0<g.length&&(a>=g.length?a-=g.length:0>a&&(a+=g.length),h=a=Math.max(0,Math.min(g.length-1,a)),m=g[a],f.index=h,b())};d.find=function(a,b){if(0>=a.length)return null;b||(b=k);var c=b,l=[a.trim()].map(sa).join("|"),t=new RegExp(l,
"gi"),v=[],la=!1,W=-1,ab=-1;U(n).forEach(function(a){for(var c=a.textContent,k,e=!1;(k=t.exec(c))&&0<k.length;){var l=k.index,h=t.lastIndex,l={string:c.slice(l,h),length:h-l,from:l,to:h},l=d.j(l,a);if(null!==l){if(0>=b--){la=!0;break}m&&p&&m.from===l.from&&0===l.string.indexOf(m.string)&&(ab=v.length);e||(h=document.body.scrollTop,yc(l.top-h,l.bottom-h)&&(e=!0,W=v.length));v.push(l)}}});p&&a===e||(e=a,g=v,h=0,-1<W&&(h=W),-1<ab&&(h=ab),m=0<v.length?v[h]:null);return f=c={limit:c,hasMore:la,count:v.length,
items:v,index:h}}};function ke(){function a(a,b){w(!0===a.ta,"Only commands supported due to optimizations");a.ta=a.ta||!0;a.shiftKey=!!a.shiftKey;a.which=a.charCode||a.key.charCodeAt(0);a.Fa=b;l.push(a)}function b(a){var b=p[a.keyCode];return b?b(a)?bd(a):!0:!0}function c(a){a=f(a);return 2===a?Z.execCommand("deleteword"):4===a?Z.execCommand("deleteline"):Z.execCommand("delete")}function d(a){a=f(a);return 2===a?Z.execCommand("forwarddeleteword"):4===a?Z.execCommand("forwarddeleteline"):Z.execCommand("forwarddelete")}
function e(a){var b=!1;a=f(a);0===a?b=Z.execCommand("insertparagraph"):1===a?b=Z.execCommand("insertlinebreak"):2===a?b=Z.execCommand("inserttodo","toggle"):4!==a&&6!==a&&(b=!0);return b}function g(a){var b=!1;a=f(a);0===a?b=Z.execCommand("tab",""):1===a&&(b=Z.execCommand("tab","true"));return b}function f(a){return(a.shiftKey?1:0)+(a.altKey?2:0)+(a.metaKey?4:0)+(a.ctrlKey?8:0)}function h(a){if(a.ctrlKey||a.metaKey)for(var b=l.length-1;0<=b;b--){var c=l[b];if(c.ta===(a.ctrlKey||a.metaKey)&&a.which===
c.which&&a.shiftKey===c.shiftKey)return c.Fa.call(null),a.preventDefault(),!1}return!0}var m=this;w(this instanceof ke,"Use `new` to instantiate this class");m.name="keyboard";var l=[],p={};m.d=function(k){k=D(k,{shortcuts:!0,editing:!0,custom:null,root:null});var n=k.root||document.body;k.shortcuts&&(a({key:"z",ta:!0},Z.execCommand.bind(Z,"undo")),a({key:"z",ta:!0,shiftKey:!0},Z.execCommand.bind(Z,"redo")),a({key:"y",ta:!0},Z.execCommand.bind(Z,"redo")),a({key:"b",ta:!0},Z.execCommand.bind(Z,"bold")),
a({key:"i",ta:!0},Z.execCommand.bind(Z,"italic")),a({key:"u",ta:!0},Z.execCommand.bind(Z,"underline")));k.editing&&(p[9]=g,p[13]=e,p[46]=d,p[8]=c,m.c.a(n,"keydown",b));if(k.custom){var f=k.custom;w(da(k.custom),"Expected an Array for custom keyboard definitions");for(k=0;k<f.length;k++){var t=f[k],x=t.key,t=t.fn;w(r(x)&&"function"==ca(t),'Expected "key" and "fn"');a({key:x,ta:!0,shiftKey:x.toUpperCase()===x},t)}}l&&m.c.a(n,"keypress",h)};m.r=function(){l=[]}};function le(){var a=this;a.name="context";a.d=function(b){function c(){var b=a.a();m&&b&&m.startContainer===b.startContainer&&m.endContainer===b.endContainer&&m.startOffset===b.startOffset&&m.endOffset===b.endOffset||(f={},h={},m=b?b.cloneRange():null)}var d=b.root;w(H(d),"We expect a valid root element",d);a.root=d;var e=b.wc||X(a.root)||null,g=!1;a.J={};a.i=function(b){return a.J[b]||{}};var f={},h={},m=null;a.Ce=function(){return!(!Object.keys(f).length&&!Object.keys(h).length)};a.fc=function(a){c();
return f[a]};a.sd=function(a,b){c();f[a]=b};a.wd=function(a){c();delete f[a]};a.gc=function(a){c();return h[a]};a.td=function(a,b){c();h[a]=b;"backcolor"===a?h.Oe=b:"highlight"===a&&(h.$e=b)};a.Me=function(a){c();delete h[a];"backcolor"===a?delete h.Oe:"highlight"===a&&delete h.$e};a.ye=function(){a.$b("getActiveRangeStartContainerComputedStyle",function(){var b=a.a();return b&&b.startContainer?Yb(b.startContainer):null})};var l={};a.a=function(){return e};a.ya=function(b){Lc(e,b)||(e=b||null,g=!0,
a.e())};a.Xc=function(b,c){e.setStart(b,c);g=!0;a.e()};a.Vc=function(b,c){e.setEnd(b,c);g=!0;a.e()};a.M=function(){a.ya(X(d)||null);g=!1};a.He=function(){a.ca()};a.ca=function(){g&&(Ec(e,d),a.M(),a.e())};a.Zc=function(b){e||(e=d.ownerDocument.createRange());e.selectNode(b);g=!0;a.e()};a.g=function(b,c,m,l){e||(e=d.ownerDocument.createRange());e.setStart(b,c);m?e.setEnd(m,l||0):e.setEnd(b,c);g=!0;a.e()};a.q=function(b,c,d){c&&-1===d&&(d=c.childNodes.length);var m=b.parentNode,l=L(b);w(!!e,"Global range expected");
for(var h=[[e.startContainer,e.startOffset],[e.endContainer,e.endOffset]],p=h.length,f=0;f<p;f++){var g=h[f];g[0]===c&&g[1]>d&&g[1]++;g[0]!==m||g[1]!==l&&g[1]!==l+1||(c?(g[0]=c,g[1]+=d-l):g[1]>l&&0<g[1]&&--g[1]);g[0]===m&&g[1]>l+1&&g[1]--;!c&&Ub(g[0],b)&&(g[0]=b.parentNode,g[1]=L(b))}c?c.childNodes.length===d?c.appendChild(b):c.insertBefore(b,c.childNodes[d]):G(b);a.g(h[0][0],h[0][1],h[1][0],h[1][1]);a.e()};a.qe=function(b,c,d){w(b!==c,"Do not move into itself");for(var m;m=b.firstChild;)a.q(m,c,
0>d?-1:d++)};a.insertBefore=function(b,c,d){a.q(b,c,d?L(d):-1)};a.hb=function(b,c){a.q(b,c,-1)};a.removeNode=function(b){a.q(b)};a.rd=function(b){for(;b.firstChild;)a.removeNode(b.firstChild);a.e()};a.S=function(b,c){if(b&&b.tagName.toLowerCase()===c.toLocaleLowerCase())return b;var d=b.parentNode;if(!d)return b;for(var m=J(c),l=0;l<b.attributes.length;l++)m.setAttributeNS(b.attributes[l].namespaceURI,b.attributes[l].name,b.attributes[l].value);a.q(m,d,L(b));a.qe(b,m,0);a.removeNode(b);return m};
a.hasFocus=function(){return dc(d)&&!!X(d)};var p=!1;a.de=function(a){p=!0===a};a.Oa=function(){return p};a.e=function(){l={}};a.t=function(a,b){l[a]=b};a.j=function(a){return l[a]};a.$b=function(a,b){var c=l[a];void 0===c&&(c=b(a),l[a]=c);return c};a.dump=function(){var b;if(b=a.a()){var c=Ad(d,b);b=d.cloneNode(!0);if(c=Bd(b,c)){if(c.startContainer.nodeType==Node.TEXT_NODE||c.startContainer.nodeType==Node.COMMENT_NODE)c.collapsed?c.startContainer.insertData(c.startOffset,"[]"):c.startContainer.insertData(c.startOffset,
"[");else{var m=c.collapsed?"{}":"{";c.startOffset!=c.startContainer.childNodes.length&&c.startContainer.childNodes[c.startOffset].nodeType==Node.TEXT_NODE?c.startContainer.childNodes[c.startOffset].insertData(0,m):0!=c.startOffset&&c.startContainer.childNodes[c.startOffset-1].nodeType==Node.TEXT_NODE?c.startContainer.childNodes[c.startOffset-1].appendData(m):c.startContainer.insertBefore(document.createTextNode(m),c.startContainer.childNodes.length==c.startOffset?null:c.startContainer.childNodes[c.startOffset])}c.collapsed||
(c.endContainer.nodeType==Node.TEXT_NODE||c.endContainer.nodeType==Node.COMMENT_NODE?c.endContainer.insertData(c.endOffset,"]"):c.endOffset!=c.endContainer.childNodes.length&&c.endContainer.childNodes[c.endOffset].nodeType==Node.TEXT_NODE?c.endContainer.childNodes[c.endOffset].insertData(0,"}"):0!=c.endOffset&&c.endContainer.childNodes[c.endOffset-1].nodeType==Node.TEXT_NODE?c.endContainer.childNodes[c.endOffset-1].appendData("}"):c.endContainer.insertBefore(document.createTextNode("}"),c.endContainer.childNodes.length==
c.endOffset?null:c.endContainer.childNodes[c.endOffset]))}b=b.innerHTML}else b=d.innerHTML;return b}};a.r=function(){a.root=null}};function me(){var a=this,b=this;b.name="block";b.d=function(){var c=b.b("context"),d=b.b("query"),e=b.b("format"),g=c.root;a.Ia=function(a){if((a=d.A(a))&&(d.h(a)||d.pa(a)))if(d.Bb(a)){var b=a.getElementsByTagName("object");if(0<b.length){var l=!1,b=b[b.length-1];pc(b.lastChild||b,function(a){return l=Q(a)||d.C(a)},a);l||c.hb(J("br"),a)}}else c.rd(a),d.Cb(a)?c.hb(Qb(),a):c.hb(J("br"),a)};a.R=function(b){if(d.h(b))if(d.Ja(b).every(function(a){return!d.v(b,a)||!d.B(b,a)})){var m=I(b);"dd"===m||"dt"===
m?e.ra([b],function(a){return P(a,"dl")&&!a.attributes.length},function(){return J("dl")}):d.B("p",d.zb(b))&&d.ub(b)&&("div"!==m&&(b=c.S(b,"div"),a.R(b)),na(b.childNodes).filter(d.ub).forEach(function(b){var c=e.L([b]);a.O([b]);e.F(c)}))}else if(!d.B(b,b.parentNode)){for(m=e.L([b]);!d.B(b,b.parentNode);)a.O([b]);e.F(m)}};a.Ka=function(a){if(P(a,"li")&&d.h(a)&&d.h(a.parentNode)){for(var b=function(a){return O(a,"ol,ul")},l=!1,e=null;na(a.childNodes).some(b);){var k=a.lastChild;b(k)||!e&&sc(k)?(e=null,
c.q(k,a.parentNode,1+L(a)),l=!0):d.D(k)?c.removeNode(k):(e||(e=J("li"),a.parentNode.insertBefore(e,a.nextSibling)),c.q(k,e,0),l=!0)}l&&d.Aa(a,0)&&c.removeNode(a)}};a.j=function(){if(!c.a()||0===g.getElementsByTagName("li").length)return null;var a=d.Q(c.a()),a=d.ma(a,function(a){return d.h(a)&&!d.$a(a)&&(O(a,"ol,ul")||O(a.parentNode,"ol,ul")||d.B(a,"li"))});return a.length?a:null};a.oa=function(){var b=a.j();if(!b)return"none";for(var c=[],l=!0,e=!1,k=[],f=b.length;f--;){var g=b[f],t=!1,x=!1;if(H(g)){var q=
d.sb(g);null!==q&&(0>c.indexOf(q)&&c.push(q),t=!0);var A=d.Be(g);A&&0<A.length&&(x=!0,null!==q&&(-1<A.indexOf(q)&&A.splice(A.indexOf(q),1),0<A.length&&(t=!1)))}g=g.parentNode;0>k.indexOf(g)&&(k.push(g),q=d.sb(g),null!==q&&(0>c.indexOf(q)&&c.push(q),t=!0),P(g.parentNode,"li")&&(g=d.sb(g.parentNode),null!==g&&(0>c.indexOf(g)&&c.push(g),t=!0)));l=l&&t;e=e||t||x;if(!l&&e)return"mixed"}return 0===c.length?"none":!l||1!==c.length&&1!==b.length?"mixed":c[0]};a.dc=function(a){ac(a)||(a=cc(a,g));if(!a||1!==
a.nodeType)return"left";var b=Yb(a).textAlign.replace(/^-(moz|webkit)-/,"").replace(/^auto$/,"start");return"start"===b?"ltr"===d.Fc(a)?"left":"right":"end"===b?"ltr"===d.Fc(a)?"right":"left":-1!==["center","justify","left","right"].indexOf(b)?b:"left"};a.xe=function(b){void 0===b&&(b={});var m="blockMerging"in b?Boolean(b.tf):!0,l="stripWrappers"in b?Boolean(b.Wb):!0,p="direction"in b?b.direction:"forward";if(c.a()){a.mb(c.a().startContainer,c.a().startOffset,!1);a.mb(c.a().endContainer,c.a().endOffset,
!1);b=d.tc(c.a().startContainer,c.a().startOffset);var k=b[0],f=b[1];b=d.Pb(c.a().endContainer,c.a().endOffset);var g=b[0],t=b[1];if("after"!==d.tb(g,t,k,f))c.a().collapse("forward"===p);else{3===k.nodeType&&0==f&&(f=L(k),k=k.parentNode);3===g.nodeType&&t==M(g)&&(t=1+L(g),g=g.parentNode);c.g(k,f,g,t);for(var x=c.a().startContainer;d.v(x,x.parentNode)&&d.o(x);)x=x.parentNode;if(!d.m(x)&&!d.pa(x)||!d.B("span",x)||O(x,"td,th"))x=null;for(var q=c.a().endContainer;d.v(q,q.parentNode)&&d.o(q);)q=q.parentNode;
if(!d.m(q)&&!d.pa(q)||!d.B("span",q)||O(q,"td,th"))q=null;b=e.te();if(k==g&&d.h(k)&&3===k.nodeType)k.deleteData(f,t-f),a.mb(k,f,!1),c.a().collapse("forward"===p);else{d.h(k)&&3===k.nodeType&&k.deleteData(f,M(k)-f);for(var A=d.ma(c.a(),function(a){return d.h(a)&&!O(a,"thead,tbody,tfoot,tr,th,td")}),z=0;z<A.length;z++){var y=A[z];if(f=y.parentNode)if(f.removeChild(y),a.Ia(f),l||!Ub(k,f)&&f!=k)for(;d.h(f)&&d.o(f)&&0==M(f);)y=f.parentNode,y.removeChild(f),f=y}d.h(g)&&3===g.nodeType&&g.deleteData(0,t);
a.mb(c.a().startContainer,c.a().startOffset,!1);a.mb(c.a().endContainer,c.a().endOffset,!1);if(m&&x&&q&&d.v(x,q)&&x!=q){1===x.children.length&&d.Ac(x.firstChild)&&x.removeChild(x.firstChild);if(Ub(q,x)){for(m=q;m.parentNode!=x;)m=m.parentNode;c.g(x,L(m));if(!q.hasChildNodes()){for(;d.h(q)&&1==q.parentNode.childNodes.length&&q.parentNode!=x;)f=q,f.removeChild(q),q=f;d.h(q)&&!d.o(q)&&d.o(q.previousSibling)&&d.o(q.nextSibling)&&q.parentNode.insertBefore(J("br"),q.nextSibling);d.h(q)&&q.parentNode.removeChild(q);
e.Ca(b);return}if(!d.o(q.firstChild)){e.Ca(b);return}l=[];for(l.push(q.firstChild);!Q(l[l.length-1])&&d.o(l[l.length-1].nextSibling);)l.push(l[l.length-1].nextSibling);for(m=e.L(l);Ub(x,l[0])&&l[0].parentNode!=x;)a.O(l);d.h(l[0].previousSibling)&&Q(l[0].previousSibling)&&l[0].parentNode.removeChild(l[0].previousSibling)}else if(Ub(x,q)){c.g(x,M(x));for(m=x;m.parentNode!=q;)m=m.parentNode;d.o(m.nextSibling)&&Q(x.lastChild)&&x.removeChild(x.lastChild);l=[];m.nextSibling&&!d.m(m.nextSibling)&&l.push(m.nextSibling);
l.length&&!Q(l[l.length-1])&&l[l.length-1].nextSibling&&!d.m(l[l.length-1].nextSibling)&&l.push(l[l.length-1].nextSibling);m=e.L(l);l.forEach(function(a){c.q(a,x,-1)})}else{c.g(x,M(x));d.o(q.firstChild)&&Q(x.lastChild)&&x.removeChild(x.lastChild);for(m=e.L(na(q.childNodes));q.hasChildNodes();)c.q(q.firstChild,x,-1);for(;!(q.hasChildNodes()||0<=["td"].indexOf(q.tagName.toLowerCase()));)f=q.parentNode,f.removeChild(q),q=f}for(var C=x;d.Ae(C).some(function(a){return d.v(C,a)&&(P(a,"ol")&&P(a.nextSibling,
"ol")||P(a,"ul")&&P(a.nextSibling,"ul"))&&d.v(C,a.nextSibling)});){for(;!(P(C,"ol")&&P(C.nextSibling,"ol")&&d.v(C,C.nextSibling)||P(C,"ul")&&P(C.nextSibling,"ul")&&d.v(C,C.nextSibling));)C=C.parentNode;for(;C.nextSibling.hasChildNodes();)c.q(C.nextSibling.firstChild,C,-1);C.parentNode.removeChild(C.nextSibling)}e.F(m);a.Ia(x);e.Oc(x)}else c.a().collapse("forward"===p)}e.Ca(b)}}};a.O=function(a){var b=a[0].parentNode;if(d.h(b)&&b.parentNode){-1!==a.indexOf(b.firstChild)&&e.Rc(b);var l=-1!==a.indexOf(b.firstChild)&&
d.ac(b),p=-1!==a.indexOf(b.lastChild)&&d.yb(b);if(-1===a.indexOf(b.firstChild)&&-1!==a.indexOf(b.lastChild)){for(var k=a.length-1;0<=k;k--)c.q(a[k],b.parentNode,1+L(b));p&&!d.yb(a[a.length-1])&&a[a.length-1].parentNode.insertBefore(J("br"),a[a.length-1].nextSibling);e.Oc(b)}else{if(-1===a.indexOf(b.firstChild))for(k=b.cloneNode(!1),b.removeAttribute("id"),b.parentNode.insertBefore(k,b);a[0].previousSibling;)c.q(b.firstChild,k,k.childNodes.length);for(k=0;k<a.length;k++)c.q(a[k],b.parentNode,L(b));
l&&!d.ac(a[0])&&a[0].parentNode.insertBefore(J("br"),a[0]);d.o(a[a.length-1])&&!Q(a[a.length-1])&&Q(b.firstChild)&&!d.o(b)&&b.removeChild(b.firstChild);d.Aa(b,0)?(a=a[a.length-1],G(b),p&&!d.yb(a)&&a.parentNode.insertBefore(J("br"),a.nextSibling)):e.Rc(b)}}};a.Gb=function(b){d.Bb(b)?a.O(na(b.childNodes)):c.removeNode(b)};a.e=function(a,b,c){if(0==a)return"";if(1==a&&!b&&!c)return" ";if(1==a)return"\u00a0";var d="",e;for(e=b?"\u00a0 ":" \u00a0";3<a;)d+=e,a-=2;return 3==a?d+(b||c?b&&!c?"\u00a0\u00a0 ":
!b&&c?" \u00a0\u00a0":b&&c?"\u00a0 \u00a0":"impossible":" \u00a0 "):d+(b||c?b&&!c?"\u00a0 ":!b&&c?" \u00a0":b&&c?"\u00a0\u00a0":"impossible":"\u00a0 ")};a.mb=function(b,c,e){void 0===e&&(e=!0);if(d.h(b)||d.pa(b)){for(;;)if(0<=c-1&&d.v(b,b.childNodes[c-1]))b=b.childNodes[c-1],c=M(b);else if(0==c&&!d.ac(b)&&d.v(b,b.parentNode))c=L(b),b=b.parentNode;else if(3===b.nodeType&&-1==["pre","pre-f.wrap"].indexOf(Yb(b.parentNode).whiteSpace)&&0!=c&&/[ \xa0]/.test(b.data[c-1]))c--;else break;for(var p=b,k=c,
f=0,g=0==c&&d.ac(b);;)if(k<p.childNodes.length&&d.v(p,p.childNodes[k]))p=p.childNodes[k],k=0;else if(k==M(p)&&!d.yb(p)&&d.v(p,p.parentNode))k=1+L(p),p=p.parentNode;else if(3===p.nodeType&&-1==["pre","pre-f.wrap"].indexOf(Yb(p.parentNode).whiteSpace)&&k!=M(p)&&/[ \xa0]/.test(p.data[k]))e&&g&&" "==p.data[k]?p.deleteData(k,1):(g=" "==p.data[k],k++,f++);else break;e&&b===p&&Tb(b)&&c===k&&(g=(g=b.textContent.match(/^\s+/))?g[0]:"",g=g.length,g>=c&&(b.deleteData(0,g),c=k=0));if(e)for(;"before"==d.tb(b,
c,p,k);)if(0<=k-1&&k-1<p.childNodes.length&&d.v(p,p.childNodes[k-1]))p=p.childNodes[k-1],k=M(p);else if(0==k&&d.v(p,p.parentNode))k=L(p),p=p.parentNode;else if(3===p.nodeType&&-1==["pre","pre-f.wrap"].indexOf(Yb(p.parentNode).whiteSpace)&&k==M(p)&&" "==p.data[p.data.length-1]&&d.yb(p))k--,f--,p.deleteData(k,1);else break;for(e=a.e(f,0==c&&d.ac(b),k==M(p)&&d.yb(p));"before"==d.tb(b,c,p,k);)c<b.childNodes.length?(b=b.childNodes[c],c=0):3!=b.nodeType||c==M(b)?(c=1+L(b),b=b.parentNode):(f=e[0],e=e.slice(1),
f!=b.data[c]&&(b.insertData(c,f),b.deleteData(c+1,1)),c++)}};a.Gc=function(a){T(a,"margin-left",d.Ab(a)+40+"px")};a.Db=function(){return c.$b("isSelectionAtList",function(){return!(!c.a()||!N(c.a().startContainer,"ul,ol",e.qb()))})};a.je=function(){return c.$b("isSelectionAtTable",function(){return!(!c.a()||!N(c.a().startContainer,"table",e.qb()))})};a.kc=function(){return a.je()||a.Db()};var f=".en-crypt-revealed",f=f+",.en-crypto-revealed";a.qa=function(){return c.$b("isSelectionAtCryptUnveiled",
function(){var a=c.a();return Ic(a,f,g)||0<Pc(a,f).length})};a.t=function(){return c.$b("isSelectionAtModule",function(){return Ic(c.a(),"div.en-module",g)})}}};function ne(){var a=this,b=this;b.name="query";b.d=function(){var c=b.b("context").root;a.nextNode=function(b){return b.hasChildNodes()?b.firstChild:a.fa(b)};a.previousNode=function(a){if(a.previousSibling){for(a=a.previousSibling;a.hasChildNodes();)a=a.lastChild;return a}return a.parentNode&&1===a.parentNode.nodeType?a.parentNode:null};a.fa=function(a){for(;a&&!a.nextSibling;)a=a.parentNode;return a?a.nextSibling:null};a.Ja=function(a){for(var b=[];a.parentNode;)b.unshift(a.parentNode),a=a.parentNode;
return b};a.Ae=function(b){return a.Ja(b).concat(b)};a.bc=function(b){for(var c=[],g=a.fa(b);(b=a.nextNode(b))&&b!=g;)c.push(b);return c};a.Fc=function(b){return"ltr"==b.dir?"ltr":"rtl"==b.dir?"rtl":P(b.parentNode)?a.Fc(b.parentNode):"ltr"};a.tb=function(b,c,g,f){if(b==g){if(c==f)return"equal";if(c<f)return"before";if(c>f)return"after"}if(g.compareDocumentPosition(b)&4){f=a.tb(g,f,b,c);if("before"==f)return"after";if("after"==f)return"before"}if(g.compareDocumentPosition(b)&8){for(;g.parentNode!=
b;)g=g.parentNode;if(L(g)<c)return"after"}return"before"};a.t=function(a){for(;null!=a.parentNode;)a=a.parentNode;return a};a.jc=function(b,c){var g=a.tb(b,0,c.startContainer,c.startOffset),f=a.tb(b,M(b),c.endContainer,c.endOffset);return a.t(b)==a.t(c.startContainer)&&"after"==g&&"before"==f};a.ma=function(b,c){"undefined"==typeof c&&(c=function(){return!0});var g=b.startContainer;g.hasChildNodes()&&b.startOffset<g.childNodes.length?g=g.childNodes[b.startOffset]:g=b.startOffset==M(g)?a.fa(g):a.nextNode(g);
var f=b.endContainer;f.hasChildNodes()&&b.endOffset<f.childNodes.length?f=f.childNodes[b.endOffset]:f=a.fa(f);for(var h=[];g.compareDocumentPosition(f)&4;)a.jc(g,b)&&c(g)?(h.push(g),g=a.fa(g)):g=a.nextNode(g);return h};a.ob=function(b,c){"undefined"==typeof c&&(c=function(){return!0});var g=b.startContainer;g.hasChildNodes()&&b.startOffset<g.childNodes.length?g=g.childNodes[b.startOffset]:g=b.startOffset==M(g)?a.fa(g):a.nextNode(g);var f=b.endContainer;f.hasChildNodes()&&b.endOffset<f.childNodes.length?
f=f.childNodes[b.endOffset]:f=a.fa(f);for(var h=[];g.compareDocumentPosition(f)&4;)a.jc(g,b)&&c(g)&&h.push(g),g=a.nextNode(g);return h};a.ub=function(a){return O(a,Za)};a.m=function(a){return!(!a||a!==c&&!ac(a))};a.o=function(b){return!(!b||a.m(b))};a.Aa=function(b,c){var g=0;null==c&&(c=1);var f=a.bc(b);0===f.length&&(f=[b]);for(var h=f.length-1;0<=h;h--){var m=f[h];if(Tb(m)&&!sc(m)||Q(m)&&++g>=c+1||a.ea(m))return!1}return!0};a.h=function(b){return!(!b||!a.za(b)||1!==b.nodeType&&1!==b.parentNode.nodeType)};
a.Yd=function(b){for(var c=0;c<b.childNodes.length;c++)if(a.h(b.childNodes[c])||a.Yd(b.childNodes[c]))return!0;return!1};a.hc=function(b){if(!Q(b))return!1;var e=a.A(b),g=!1,f=!1;pc(b,function(b){if(a.m(b)||e!==a.A(b))return!0;if(Q(b))return f=!0;g=g||a.j(b);return!1},c);return!g&&!f};a.j=function(b){return 3===b.nodeType&&!sc(b)||a.ea(b)};a.Za=function(b){if(!Q(b))return!1;for(var e=b;(e=e.parentNode)&&!(1<e.childNodes.length||e===c);){if("li"===I(e))return!1;if(a.m(e))break}var e=b,g=a.A(b),f=!1,
h=!1;qc(e,function(b){if(a.m(b)||g!==a.A(b))return!0;if(Q(b))return h=!0;f=f||a.j(b);return!1},c);var m=!1,l=!1;pc(e,function(b){if(a.m(b)||g!==a.A(b))return!0;if(Q(b))return l=!0;m=m||a.j(b);return!1},c);return l||m||h||f?l||m?!1:f&&!m?!0:h?!1:!0:"li"===I(g)};a.ea=function(a){return 3!==a.nodeType&&(-1!==["img","embed","object","input","hr"].indexOf(I(a))||zb(a,"en-media"))};a.Ic=function(b){if(!sc(b))return!1;if(""==b.data)return!0;var c=b.parentNode;if(!c)return!0;for(;!a.m(c)&&c.parentNode;)c=
c.parentNode;for(var g=b;g!=c;){g=a.previousNode(g);if(a.m(g)||Q(g))return!0;if(3==g.nodeType&&!sc(g)||a.ea(g))break}g=b;for(b=a.fa(c);g!=b;){g=a.nextNode(g);if(a.m(g)||Q(g))return!0;if(g&&3==g.nodeType&&!sc(g)||a.ea(g))break}return!1};a.ke=function(b){if(!b)return!1;if(a.m(b)||3===b.nodeType&&!a.Ic(b)||a.ea(b))return!0;for(var c=0;c<b.childNodes.length;c++)if(a.ke(b.childNodes[c]))return!0;return!1};a.C=function(b){if(!b)return!1;if(a.m(b)||a.ea(b)||3===b.nodeType&&!a.Ic(b)||Q(b)&&!a.Za(b))return!0;
for(var c=0;c<b.childNodes.length;c++)if(a.C(b.childNodes[c]))return!0;return!1};a.Bb=function(b){return Cb(b).some(function(b){return a.C(b)})};a.D=function(b){return!!b&&!a.C(b)};a.Ac=function(b){if(a.hc(b)&&!a.Za(b))return!0;if(!a.o(b)||1!=b.nodeType)return!1;for(var c=!1,g=0;g<b.childNodes.length;g++){if(!a.D(b.childNodes[g])&&!a.Ac(b.childNodes[g]))return!1;a.Ac(b.childNodes[g])&&(c=!0)}return c};a.Ha=function(a){return-1!==Ta.indexOf(I(a))};a.B=function(b,c){if((-1!==Wa.indexOf(c)||-1!==Wa.indexOf(I(c)))&&
"object"===typeof b&&3===b.nodeType&&!/^[ \t\n\f\r]*$/.test(b.data)||!(-1===Xa.indexOf(c)&&-1===Xa.indexOf(I(c))||"object"===typeof b&&3===b.nodeType)||"object"===typeof b&&(9===b.nodeType||11===b.nodeType||10===b.nodeType))return!1;P(b)&&(b=I(b));if(!r(b))return!0;if(P(c)){for(var g=c;g;){if("a"===b&&P(g,"a")||-1!==Sa.indexOf(b)&&a.Ha(g)||/^h[1-6]$/.test(b)&&P(g)&&/^h[1-6]$/.test(I(g)))return!1;g=g.parentNode}c=I(c)}if("object"===typeof c&&(1===c.nodeType||11===c.nodeType))return!0;if(!r(c))return!1;
switch(c){case "colgroup":return"col"===b;case "table":return-1!=="caption col colgroup tbody td tfoot th thead tr".split(" ").indexOf(b);case "tbody":case "thead":case "tfoot":return-1!==["td","th","tr"].indexOf(b);case "tr":return-1!==["td","th"].indexOf(b);case "dl":return-1!==["dt","dd"].indexOf(b);case "dir":case "ol":case "ul":return-1!==["dir","li","ol","ul"].indexOf(b);case "hgroup":return/^h[1-6]$/.test(b)}if(-1!=="body caption col colgroup frame frameset head html tbody td tfoot th thead tr".split(" ").indexOf(b)||
-1!==["dd","dt"].indexOf(b)&&"dl"!==c||"li"===b&&"ol"!==c&&"ul"!==c)return!1;for(var g=[[["a"],["a"]],[["dd","dt"],["dd","dt"]],["h1 h2 h3 h4 h5 h6".split(" "),"h1 h2 h3 h4 h5 h6".split(" ")],[["li"],["li"]],[["nobr"],["nobr"]],[Ta,Sa],[["td","th"],"caption col colgroup tbody td tfoot th thead tr".split(" ")]],f=0;f<g.length;f++)if(-1!==g[f][0].indexOf(c)&&-1!==g[f][1].indexOf(b))return!1;return!0};a.da=function(b){return a.h(b)&&a.C(b)&&(3===b.nodeType||a.ea(b)||Q(b))};a.$a=function(a){if(!P(a))return!1;
var b=I(a);return"blockquote"===b?!0:"div"!==b?!1:"0px"!==Yb(a)["margin-left"]?!0:!1};a.Eb=function(b){if(!a.$a(b))return!1;for(var c=0;c<b.attributes.length;c++)if(-1===["style","dir"].indexOf(b.attributes[c].name))return!1;for(c=0;c<b.style.length;c++)if(!/^(-[a-z]+-)?(margin|border|padding)/.test(b.style[c]))return!1;return!0};a.Ra=function(a){return O(a,"address,div,h1,h2,h3,h4,h5,h6,listing,p,pre,xmp")};a.Jc=function(b){return a.Ra(b)||O(b,"li,dt,dd")};a.A=function(b){for(;b&&!a.m(b);)b=b.parentNode;
return b};a.H=function(b,c){var g=!1;b?0===c?g=a.m(b)||!b.parentNode:0<=c-1&&c-1<b.childNodes.length&&(g=a.C(b.childNodes[c-1])&&a.m(b.childNodes[c-1])||Q(b.childNodes[c-1])):g=!0;return g};a.w=function(b,c){var g=!1;b?c===M(b)?g=!b.parentNode&&c===M(b)||a.m(b):c<b.childNodes.length&&(g=a.C(b.childNodes[c])&&a.m(b.childNodes[c])):g=!0;return g};a.e=function(b,c){return a.H(b,c)||a.w(b,c)};a.Q=function(b){var c=b.startContainer,g=b.startOffset,f=b.endContainer;b=b.endOffset;var h=a.Ja(c).concat(c).filter(function(a){return P(a,
"li")}).slice(-1);h.length&&(g=L(h[0]),c=h[0].parentNode);if(!a.H(c,g)){do 0<=g-1&&H(c.childNodes[g-1])&&c.childNodes[g-1].hasChildNodes()?(c=c.childNodes[g-1],g=M(c)):0==g?(g=L(c),c=c.parentNode):g--,Tb(c)&&(g=L(c),c=c.parentNode);while(!a.e(c,g))}for(;0==g&&c.parentNode&&a.h(f);)g=L(c),c=c.parentNode;h=a.Ja(f).concat(f).filter(function(a){return P(a,"li")}).slice(-1);h.length&&(b=1+L(h[0]),f=h[0].parentNode);if(!a.w(f,b)){do b<M(f)&&H(f)&&f.hasChildNodes()?(f=f.childNodes[b],b=0):b>=M(f)?(b=1+L(f),
f=f.parentNode):b++,Tb(f)&&(b=1+L(f),f=f.parentNode);while(!a.e(f,b))}for(;b==M(f)&&f.parentNode&&a.h(f);)b=1+L(f),f=f.parentNode;return Cc(c,g,f,b)};a.ac=function(b){for(var c=0;!a.e(b,c);){if(0<=c-1&&c-1<b.childNodes.length&&a.C(b.childNodes[c-1]))return!1;0!=c&&b.hasChildNodes()?(b=b.childNodes[c-1],c=M(b)):(c=L(b),b=b.parentNode)}return!0};a.yb=function(b){for(var c=M(b);!a.e(b,c);){if(c<b.childNodes.length&&a.C(b.childNodes[c]))return!1;c!=M(b)&&b.hasChildNodes()?(b=b.childNodes[c],c=0):(c=1+
L(b),b=b.parentNode)}return!0};a.Ab=function(a){return a&&a.style?wd(a.style.marginLeft).value||0:0};a.lc=function(b,c){if(!b||a.pa(b)||!H(b))return!0;var g=b.style;if(g)for(var f=0;f<g.length;f++){var h=null,m=null,h=g[f],m=g.getPropertyValue(h);if(-1===Va.indexOf(m)&&m&&-1===Ua.indexOf(h))return!1}return c?a.lc(b.parentNode):!0};a.Fe=function(b){return!!N(b,"li,ol,ul,dl,dd,dt",a.zb(b))};a.sb=function(a){var b=I(a);return"ul"===b&&zb(a,"en-todo-list")?"tl":"ol"===b||"ul"===b?b:null};a.Be=function(b){var c=
[];b=b.querySelectorAll("ol,ul");for(var g=b.length;g--;){var f=a.sb(b[g]);null!==f&&0>c.indexOf(f)&&c.push(f)}return c};a.ce=function(b,c){return a.sb(b)===c};a.ic=function(a,b){return!(!a.isPointInRange(b.startContainer,b.startOffset)&&!a.isPointInRange(b.endContainer,b.endOffset))};a.T=function(b,c){return 0===M(b)?null:c===M(b)&&b.parentNode&&a.o(b)?[b.parentNode,1+L(b)]:0<=c&&c<b.childNodes.length&&0!==M(b.childNodes[c])&&a.o(b.childNodes[c])?[b.childNodes[c],0]:null};a.ha=function(b,c){return 0==
M(b)?null:0==c&&b.parentNode&&a.o(b)?[b.parentNode,L(b)]:0<=c-1&&c-1<b.childNodes.length&&0!=M(b.childNodes[c-1])&&a.o(b.childNodes[c-1])?[b.childNodes[c-1],M(b.childNodes[c-1])]:null};a.Pb=function(b,c){for(var g;g=a.ha(b,c);)b=g[0],c=g[1];return[b,c]};a.tc=function(b,c){for(var g;g=a.T(b,c);)b=g[0],c=g[1];return[b,c]};a.Cb=function(b){var e;!(e=c===b)&&(e=b&&Ub(b,c))&&(e=!!(b&&H(b)&&(zb(b,"en-container")||P(b,"td")||a.m(b)&&!a.lc(b,!1))));return e?!0:!1};a.pa=function(a){return c===a};a.zb=function(b){return Ub(b,
c)||a.pa(b)?c:null};a.za=function(a){return Ub(a,c)};a.v=function(b,c){return!(!a.zb(b)||a.zb(b)!=a.zb(c))}}};function oe(a){var b=U("*[id]:not(.en-module):not(.en-container):not(.en-todo):not(.en-media):not(.en-object-placeholder),*[class]:not(.en-module):not(.en-container):not(.en-todo):not(.en-media):not(.en-object-placeholder)",a);a=U(".en-resource *",a);for(var c=a.length;c--;)b.splice(b.indexOf(a[c]),1);for(c=b.length-1;0<=c;c--){var d=b[c];-1===Ya.indexOf(I(d))&&"en-editor-last-insertion-point"!==d.id&&d.removeAttribute("id");d.removeAttribute("class");d.attributes&&0<d.attributes.length&&na(d.attributes).forEach(function(a){0===
a.name.indexOf("data-")&&d.removeAttribute(a.name)})}}function pe(a){V("span",a).forEach(function(a){a.hasAttributes()||Ib(a)})}
function qe(a){var b=a.ownerDocument.createNodeIterator(a,136,null,!1),c;for(a=[];c=b.nextNode();)a.push(c);for(b=a.length-1;0<=b;b--)if(c=a[b],8===c.nodeType)if(0==c.data.indexOf("[CDATA[")){var d=c.nextSibling;c=Hb(c,document.createTextNode(c.data.substr(7)));c.data.lastIndexOf("]]")!=c.data.length-2&&d&&3==d.nodeType?(d.data=d.data.replace(/^(.*?)\]\]\>(.*?)$/gi,"$1$2"),c.data+=">"):c.data=c.data.replace(/^(.*?)\]\](.*?)$/gi,"$1$2")}else c.parentNode.removeChild(c);else Hb(c,document.createTextNode(c.data))}
function re(a){a=a.querySelectorAll("*[style*='line-height']");for(var b=a.length-1;0<=b;b--){var c=a[b];c.style.lineHeight&&S(c,"line-height")}}var se=["javascript"];function te(a){var b=a;try{b=decodeURIComponent(b)||b}catch(c){ha("Could't decode invalid URI:",a),b="#"}b=b.replace(/[\x00-\x20]+/,"");b=b.replace(/<\!\-\-.*?\-\-\>/g,"");return(b=b.match(/^([a-zA-Z]+)\:/))?0<=se.indexOf(b[1].toLowerCase())?"#":a.trim()||"#":a||"#"}
function ue(a){V("span[style*='-evernote-last-insertion-point']",a).forEach(function(a){Ib(a)})}function ve(){return J("span",{style:"-evernote-last-insertion-point:true;",id:"en-editor-last-insertion-point"})}
function we(a){for(var b=Ra.concat("id","contenteditable"),c=na(a.attributes||[]).map(function(a){return a.name.toLowerCase()}),d=0;d<c.length;d++){var e=c[d];-1===b.indexOf(e)&&a.removeAttribute(e)}ic(a);S(a,"height");S(a,"width");S(a,"max-height");S(a,"max-width");S(a,"min-height");S(a,"min-width");jc(a)}
function xe(a,b){for(var c='<div id="en-note"',d=0;d<Ra.length;d++){var e=Ra[d].toLowerCase();if(a.hasAttribute(e)){var g=a.getAttribute(e);if("lang"!==e||""!==g)c+=" "+e+'="'+g.replace(xa["&"],"&amp;").replace(xa["<"],"&lt;").replace(xa[">"],"&gt;").replace(xa['"'],"&quot;").replace(xa["'"],"&apos;")+'"'}}return c+">"+b+"</div>"};function ye(){var a=this,b=this;b.name="format";b.d=function(){var c=b.b("context"),d=b.b("query"),e=c.root,g={};g.createlink=g.unlink=function(a){for(;a&&(!P(a)||"a"!==I(a)||!a.hasAttribute("href"));)a=a.parentNode;return a?a.getAttribute("href"):null};g.backcolor=function(a){for(;a&&a!==e&&d.o(a);){if(a.style){var b=a.style.backgroundColor;if(b&&"rgba(0, 0, 0, 0)"!==b&&""!==b&&"transparent"!==b)return Yb(a).backgroundColor}a=a.parentNode}return null};g.highlight=function(a){for(;a&&a!==e&&d.o(a);){if(a.style&&
("rgb(255, 250, 165)"===a.style.backgroundColor||"true"===R(a,"-evernote-highlight")||"true"===R(a,"-evernote-highlighted")))return"rgb(255, 250, 165)";a=a.parentNode}return null};g.subscript=g.superscript=function(a){for(var b=!1,c=!1;d.o(a);)P(a,"sub")?b=!0:P(a,"sup")&&(c=!0),a=a.parentNode;return b&&c?"mixed":b?"subscript":c?"superscript":null};g.strikethrough=function(a){return N(a,function(a){var b=I(a);return"s"===b||"strike"===b||"del"===b?!0:a.style&&(a=a.style.textDecoration)?-1!==a.indexOf("line-through"):
!1},c.root)?"line-through":null};g.underline=function(a){return N(a,function(a){return"u"===I(a)?!0:a.style&&(a=a.style.textDecoration)?-1!==a.indexOf("underline"):!1},c.root)?"underline":null};g.tt=function(a){return N(a,"tt",c.root)?"tt":null};a.Rc=function(a){var b=a.previousSibling;if(b){for(;b.hasChildNodes();)b=b.lastChild;for(;d.D(b)&&!d.Za(b)&&b!=a.parentNode;)b=d.previousNode(b);d.h(b)&&d.Za(b)&&b.parentNode.removeChild(b)}};a.Oc=function(a){for(var b=a;b.hasChildNodes();)b=b.lastChild;for(;d.D(b)&&
!d.Za(b)&&b!=a;)b=d.previousNode(b);if(d.h(b)&&d.Za(b)){for(;d.h(b.parentNode)&&d.D(b.parentNode);)b=b.parentNode;b.parentNode.removeChild(b)}};a.Ra=function(b){a.Rc(b);a.Oc(b)};a.ra=function(b,l,e){"undefined"==typeof l&&(l=function(){return!1});"undefined"==typeof e&&(e=function(){return null});if(b.every(d.D)&&!b.some(function(a){return Q(a)})||!b[0].parentNode)return null;for(d.o(b[b.length-1])&&!Q(b[b.length-1])&&Q(b[b.length-1].nextSibling)&&b.push(b[b.length-1].nextSibling);d.D(b[0].previousSibling);)b.unshift(b[0].previousSibling);
for(;d.D(b[b.length-1].nextSibling);)b.push(b[b.length-1].nextSibling);e=d.h(b[0].previousSibling)&&l(b[0].previousSibling)?b[0].previousSibling:d.h(b[b.length-1].nextSibling)&&l(b[b.length-1].nextSibling)?b[b.length-1].nextSibling:e();if(!e)return null;if(!e.parentNode){b[0].parentNode.insertBefore(e,b[0]);var k=c.a();k.startContainer==e.parentNode&&k.startOffset==L(e)&&c.Xc(k.startContainer,k.startOffset+1);k.endContainer==e.parentNode&&k.endOffset==L(e)&&c.Vc(k.endContainer,k.endOffset+1)}k=b[0].parentNode;
if(e.compareDocumentPosition(b[0])&4){!d.o(e)&&d.o([].filter.call(e.childNodes,d.C).slice(-1)[0])&&d.o(b.filter(d.C)[0])&&!Q(e.lastChild)&&e.appendChild(J("br"));for(var f=0;f<b.length;f++)c.q(b[f],e,-1)}else for(!d.o(e)&&d.o([].filter.call(e.childNodes,d.C)[0])&&d.o(b.filter(d.C).slice(-1)[0])&&!Q(b[b.length-1])&&e.insertBefore(J("br"),e.firstChild),f=b.length-1;0<=f;f--)c.q(b[f],e,0);d.h(k)&&!k.hasChildNodes()&&k.parentNode.removeChild(k);if(d.h(e.nextSibling)&&l(e.nextSibling)){for(!d.o(e)&&d.o(e.lastChild)&&
d.o(e.nextSibling.firstChild)&&!Q(e.lastChild)&&e.appendChild(J("br"));e.nextSibling.hasChildNodes();)c.q(e.nextSibling.firstChild,e,-1);c.removeNode(e.nextSibling)}a.Ra(e);return e};a.H=function(b,c){return c.collapsed?!1:d.jc(b,c)||b==c.startContainer&&3===b.nodeType&&M(b)!=c.startOffset||b==c.endContainer&&3===b.nodeType&&0!=c.endOffset||!(!b.hasChildNodes()||![].every.call(b.childNodes,function(b){return a.H(b,c)})||Ub(c.startContainer,b)&&3==c.startContainer.nodeType&&0!=c.startOffset||Ub(c.endContainer,
b)&&3==c.endContainer.nodeType&&c.endOffset!=M(c.endContainer))?!0:!1};a.Xa=function(b,c){"undefined"==typeof c&&(c=function(){return!0});if(b.collapsed)return null;for(var e=b.startContainer;a.H(e.parentNode,b);)e=e.parentNode;for(var k=d.fa(b.endContainer);!k&&e||k&&e.compareDocumentPosition(k)&4;){if(a.H(e,b)&&c(e))return e;e=d.nextNode(e)}return null};a.la=function(b,c){"undefined"==typeof c&&(c=function(){return!0});if(b.collapsed)return[];for(var e=b.startContainer;a.H(e.parentNode,b);)e=e.parentNode;
for(var k=d.fa(b.endContainer),f=[];!k&&e||k&&e.compareDocumentPosition(k)&4;)a.H(e,b)&&c(e)&&f.push(e),e=d.nextNode(e);return f};a.ha=function(a){if(!P(a))return!1;var b=a.tagName.toUpperCase();if(-1!="B EM I S SPAN STRIKE STRONG SUB SUP U".split(" ").indexOf(b)&&(0==a.attributes.length||1==a.attributes.length&&a.hasAttribute("style")))return!0;if("FONT"==b||"A"==b){var c=a.attributes.length;a.hasAttribute("style")&&c--;"FONT"==b&&(a.hasAttribute("color")&&c--,a.hasAttribute("face")&&c--,a.hasAttribute("size")&&
c--);"A"==b&&a.hasAttribute("href")&&c--;if(0==c)return!0}return!1};a.T=function(a){if(!P(a))return!1;var b=a.tagName.toUpperCase();return-1=="A B EM FONT I S SPAN STRIKE STRONG SUB SUP U".split(" ").indexOf(b)?!1:0==a.attributes.length?!0:1<a.attributes.length?!1:a.hasAttribute("style")&&0==a.style.length||"A"==b&&a.hasAttribute("href")||"FONT"==b&&(a.hasAttribute("color")||a.hasAttribute("face")||a.hasAttribute("size"))||("B"==b||"STRONG"==b)&&a.hasAttribute("style")&&1==a.style.length&&""!=a.style.fontWeight||
("I"==b||"EM"==b)&&a.hasAttribute("style")&&1==a.style.length&&""!=a.style.fontStyle||("A"==b||"FONT"==b||"SPAN"==b)&&a.hasAttribute("style")&&1==a.style.length&&""==a.style.textDecoration||-1!="A FONT S SPAN STRIKE U".split(" ").indexOf(b)&&a.hasAttribute("style")&&(1==a.style.length||4==a.style.length&&"MozTextBlink"in a.style&&"MozTextDecorationColor"in a.style&&"MozTextDecorationLine"in a.style&&"MozTextDecorationStyle"in a.style)&&("line-through"==a.style.textDecoration||"underline"==a.style.textDecoration||
"overline"==a.style.textDecoration||"none"==a.style.textDecoration)?!0:!1};a.j=function(a,b,d){return null===b&&null===d||r(b)&&r(d)&&b==d&&!c.i(a).La||r(b)&&r(d)&&c.i(a).La&&c.i(a).La(b,d)?!0:!1};a.t=function(b,c,d){return a.j(b,c,d)?!0:!1};a.s=function(b,d){if(1!==b.nodeType&&(!b.parentNode||1!=b.parentNode.nodeType))return null;if(1!==b.nodeType)return a.s(b.parentNode,d);var f=g[d];if(f)return f(b);w(!!c.i(d).W,"Bug: no relevantCssProperty for "+d+" in f.getEffectiveCommandValue");f=c.i(d).W;
return f?Xb(b)?b.style&&null!==b.style[f]&&""!==b.style[f]?b.style[f]:Yb(b)[f]:(u.warn("We are not on rendered DOM for fontSize retieval",b),vc(b,f,e)):""};a.e=function(a,b){if(("backcolor"===b||"highlight"===b)&&ac(a))return null;var d=I(a);if("createlink"===b||"unlink"===b)return"a"===d&&a.hasAttribute("href")?a.getAttribute("href"):null;if("subscript"===b||"superscript"===b)return"sup"===d?"superscript":"sub"===d?"subscript":null;if("strikethrough"===b&&""!=a.style.textDecoration)return-1!=a.style.textDecoration.indexOf("line-through")?
"line-through":null;if("strikethrough"===b&&("s"===d||"strike"===d||"del"===d))return"line-through";if("underline"===b&&""!=a.style.textDecoration)return-1!=a.style.textDecoration.indexOf("underline")?"underline":null;if("underline"===b&&"u"===d)return"underline";if("highlight"===b&&"mark"===d)return"rgb(255, 250, 165)";if("tt"==d)return"tt";var k=c.i(b),f=k.W;if(null===f)return null;var h=a.style[f];if(""!=h)return(d=k.V)&&d.length?("highlight"===b&&(h=ld(h)),-1!==d.indexOf(h)?h:null):h;if("font"===
d){if("color"==f&&a.hasAttribute("color"))return a.color;if("fontFamily"==f&&a.hasAttribute("face"))return a.face;if("fontSize"==f&&a.hasAttribute("size"))return Xb(a)?Yb(a).fontSize.toString():(u.warn("We are not on rendered DOM for fontSize retieval",a),vc(a,"fontSize",e))}return"fontWeight"!=f||"b"!=d&&"strong"!=d?"fontStyle"!=f||"i"!=d&&"em"!=d?null:"italic":"bold"};a.za=function(b,d,e){for(var k=b;a.ha(k)&&1==k.childNodes.length&&a.ha(k.firstChild)&&(!a.T(k)||!a.j(d,a.e(k,d),e));)k=k.firstChild;
if(k!=b&&a.T(k)&&a.j(d,a.e(k,d),e)&&a.t(d,a.s(k,d),e)){for(;k.hasChildNodes();)c.q(k.firstChild,k.parentNode,L(k));b.parentNode.insertBefore(k,b.nextSibling);c.q(b,k,-1)}};a.L=function(b){var c=[];b.forEach(function(b){"subscript forecolor highlight backcolor fontname fontsize bold italic strikethrough underline tt".split(" ").forEach(function(d){var e=b;1!=e.nodeType&&(e=e.parentNode);for(;e&&1==e.nodeType&&null===a.e(e,d);)e=e.parentNode;e&&1==e.nodeType?c.push([b,d,a.e(e,d)]):c.push([b,d,null])})});
return c};a.F=function(b){b.forEach(function(b){var c=b[0],d=b[1];b=b[2];var e=c;e&&1==e.nodeType||(e=e.parentNode);for(;e&&1==e.nodeType&&null===a.e(e,d);)e=e.parentNode;null===b&&e&&1==e.nodeType?a.Ha(c,d,null):(e&&1==e.nodeType&&!a.j(d,a.e(e,d),b)||(!e||1!=e.nodeType)&&null!==b)&&a.w(c,d,b)})};a.Ec=function(b,e){if(d.h(b)&&null!==a.e(b,e))if(a.T(b)){for(var f=Array.prototype.slice.call(b.childNodes),k=0;k<f.length;k++)c.q(f[k],b.parentNode,L(b));b.parentNode.removeChild(b)}else"strikethrough"===
e&&-1!=b.style.textDecoration.indexOf("line-through")&&("line-through"==b.style.textDecoration?b.style.textDecoration="":b.style.textDecoration=b.style.textDecoration.replace("line-through","")),"underline"===e&&-1!=b.style.textDecoration.indexOf("underline")&&("underline"==b.style.textDecoration?b.style.textDecoration="":b.style.textDecoration=b.style.textDecoration.replace("underline","")),null!==c.i(e).W&&(b.style[c.i(e).W]=""),P(b,"font")&&("forecolor"===e&&b.removeAttribute("color"),"fontname"===
e&&b.removeAttribute("face"),"fontsize"===e&&b.removeAttribute("size")),!P(b,"a")||"createlink"!==e&&"unlink"!==e||b.removeAttribute("href"),""==b.getAttribute("style")&&b.removeAttribute("style"),null===a.e(b,e)||c.S(b,"span")};a.Ha=function(b,c,e){if(b.parentNode&&1==b.parentNode.nodeType&&!a.t(c,a.s(b,c),e)){for(var k=b.parentNode,f=[];d.h(k)&&1==k.nodeType&&!a.t(c,a.s(k,c),e);)f.push(k),k=k.parentNode;if(f.length){var h=a.e(f[f.length-1],c);if(null!==h||h==e)if(null===e||a.t(c,a.s(f[f.length-
1].parentNode,c),e))for(;f.length;)for(k=f.pop(),null!==a.e(k,c)&&(h=a.e(k,c)),e=Array.prototype.slice.call(k.childNodes),null!==a.e(k,c)&&a.Ec(k,c),k=0;k<e.length;k++){var g=e[k];g!=b&&(1!=g.nodeType||null===a.e(g,c)||a.j(c,h,a.e(g,c)))&&g!=f[f.length-1]&&a.w(g,c,h)}}}};a.w=function(b,e,f){if(b.parentNode&&null!==f&&(d.B(b,"span")&&(a.za(b.previousSibling,e,f),a.za(b.nextSibling,e,f),a.ra([b],function(b){return a.T(b)&&a.j(e,a.e(b,e),f)&&a.t(e,a.s(b,e),f)},function(){return null})),!d.D(b)&&!a.t(e,
a.s(b,e),f)&&b.parentNode))if(!d.B(b,"span")){for(var k=[],h=0;h<b.childNodes.length;h++){if(1==b.childNodes[h].nodeType){var g=a.e(b.childNodes[h],e);if(null!==g&&!a.j(e,f,g))continue}k.push(b.childNodes[h])}for(h=0;h<k.length;h++)a.w(k[h],e,f)}else if(!a.t(e,a.s(b,e),f)){k=null;if("bold"!==e||"bold"!==f&&"700"!==f)if("italic"===e&&"italic"===f)k=J("i");else if("strikethrough"===e&&"line-through"==f)k=J("s");else if("underline"===e&&"underline"===f)k=J("u");else if("tt"===e&&"tt"===f)k=J("tt");else if("createlink"===
e||"unlink"===e)for(k=J("a"),k.setAttribute("href",f),h=b.parentNode;h;)P(h,"a")&&(h=c.S(h,"span")),h=h.parentNode;else"subscript"!==e&&"superscript"!==e||"subscript"!==f?"subscript"!==e&&"superscript"!==e||"superscript"!==f||(k=J("sup")):k=J("sub");else k=J("b");k||(k=J("span"));b.parentNode.insertBefore(k,b);h=c.i(e).W;null===h||k.style[h]===f||a.t(e,a.s(k,e),f)||(k.style[h]=f,"highlight"===e&&T(k,"-evernote-highlight","true"));"forecolor"===e&&md(f)&&k.style.color!==f&&(k.style.color=f);"fontname"===
e&&null!=f&&k.style.fontFamily!==f&&(k.style.fontFamily=f);"fontsize"===e&&null!=f&&k.style.fontSize!==f&&(k.style.fontSize=f);"strikethrough"===e&&"line-through"==f&&"line-through"!=a.s(k,"strikethrough")&&(k.style.textDecoration="line-through");"underline"===e&&"underline"==f&&"underline"!=a.s(k,"underline")&&(k.style.textDecoration="underline");c.q(b,k,k.childNodes.length);if(1===b.nodeType&&!a.j(e,a.s(b,e),f)){c.q(b,k.parentNode,L(k));k.parentNode.removeChild(k);k=[];for(h=0;h<b.childNodes.length;h++){if(1==
b.childNodes[h].nodeType&&(g=a.e(b.childNodes[h],e),null!==g&&!a.j(e,f,g)))continue;k.push(b.childNodes[h])}for(h=0;h<k.length;h++)a.w(k[h],e,f)}}};a.G=function(b,e,f){var k=!1;void 0===f&&(f=c.a(),k=!0);if(null===a.Xa(f,d.da))c.i(b).V&&c.sd(b,-1!=c.i(b).V.indexOf(e)),"subscript"===b&&c.wd("superscript"),"superscript"===b&&c.wd("subscript"),null===e?c.Me(b):("createlink"===b||c.i(b).value)&&c.td(b,e);else{if(d.h(f.startContainer)&&3==f.startContainer.nodeType&&0!=f.startOffset&&f.startOffset!=M(f.startContainer)){var h;
if(f.startContainer==f.endContainer){var g=f.endOffset-f.startOffset;h=f.startContainer.splitText(f.startOffset);f.setEnd(h,g)}else h=f.startContainer.splitText(f.startOffset);f.setStart(h,0)}d.h(f.endContainer)&&3==f.endContainer.nodeType&&0!=f.endOffset&&f.endOffset!=M(f.endContainer)&&(h=[f.startContainer,f.startOffset],g=[f.endContainer,f.endOffset],f.endContainer.splitText(f.endOffset),f.setStart(h[0],h[1]),f.setEnd(g[0],g[1]));k&&c.ya(f);a.la(f,function(a){return d.h(a)&&1===a.nodeType}).forEach(function(c){a.Ec(c,
b)});a.la(f,d.h).forEach(function(c){a.Ha(c,b,e);d.B(c,"span")&&a.w(c,b,e)})}};var f="bold italic strikethrough subscript superscript underline highlight tt".split(" "),h=["fontname","fontsize","forecolor"];a.Fb=function(){var a=[];void 0!==c.gc("createlink")&&a.push(["createlink",c.gc("createlink")]);f.forEach(function(b){void 0!==c.fc(b)&&a.push([b,c.fc(b)])});h.forEach(function(b){void 0!==c.gc(b)&&a.push([b,c.gc(b)])});return a};a.te=function(b){var e=[],g=a.Xa(c.a(),d.da);!g&&b&&(b=c.a())&&(g=
Jc(b));if(!g)return e;e.push(["createlink",a.s(g,"createlink")]);f.forEach(function(b){var d=a.s(g,b);-1!=c.i(b).V.indexOf(d)?e.push([b,!0]):e.push([b,!1])});h.forEach(function(a){e.push([a,c.i(a).value()])});return e};a.Ca=function(b){var e=a.Xa(c.a(),d.da);if(null!==e)for(var f=0;f<b.length;f++){var k=b[f][0],h=b[f][1];"boolean"===typeof h&&c.i(k).state()!==h?c.i(k).action(h):r(h)&&!a.j(k,a.s(e,k),h)&&c.i(k).action(h);e=a.Xa(c.a(),d.da)||e}else for(f=0;f<b.length;f++)k=b[f][0],h=b[f][1],"boolean"==
typeof h&&c.sd(k,h),r(h)&&c.td(k,h)};a.Ge=function(b){var d=a.te(!0);b();c.ca();a.Ca(d)};a.qb=function(){return c.root}}};function ze(){var a=this;a.name="normalize";var b=/\n\r|\r\n|\r|\n/gi,c=/\s/gi;a.d=function(){function d(a,b,c){if(0>a||0>b){var d=c.style.marginLeft?c.style.marginLeft:"0",e=c.style.marginTop?c.style.marginTop:"0";a=c.style.left?c.style.left:"0";b=c.style.top?c.style.top:"0";if(0===d.indexOf("-")||0===e.indexOf("-"))e=ud(e).value,d=ud(d).value,0>c.offsetTop&&0>e&&(Rd(c),T(c,"margin-top",e-c.offsetTop+"px")),0>c.offsetLeft&&0>d&&(Rd(c),T(c,"margin-left",d-c.offsetLeft+"px"));if(0===b.indexOf("-")||
0===a.indexOf("-"))b=ud(b).value,a=ud(a).value,0>c.offsetTop&&0>b&&(Rd(c),T(c,"top",b-c.offsetTop+"px")),0>c.offsetLeft&&0>a&&(Rd(c),T(c,"left",a-c.offsetLeft+"px"))}}function e(a){var b=Yb(a)||{},b={fontWeight:b.fontWeight,We:b.fontFamily,fontSize:wd(b.fontSize).value||0,marginTop:wd(b.marginTop).value||0,marginBottom:wd(b.marginBottom).value||0},c=Yb(a.parentNode)||{};a=q.S(a,"div");b.fontWeight&&"normal"!==b.fontWeight&&400!=b.fontWeight&&(a.style.fontWeight=b.fontWeight);b.fontFamily&&b.We!==
c.fontName&&(a.style.fontFamily=b.fontFamily);b.fontSize&&b.fontSize!==(wd(c.fontSize).value||0)&&(a.style.fontSize=b.fontSize.toString()+"px");0<=1*b.marginTop-(wd(c.fontSize).value||0)&&(A.Fe(a)?(a.appendChild(J("br")),a.appendChild(J("br"))):(b=Qb(),q.q(b,a.parentNode,L(a)),ic(b),l(b),jc(b)));return a}function g(a){if(!a)return a;ac(a)&&(a=q.S(a,"div"));Rd(a);S(a,"white-space");S(a,"word-wrap");S(a,"word-break");for(var d=Cb(a),e,k,h=q.a(),l=0;l<d.length;l++){var m=d[l];if(Tb(m)){for(var z=m.textContent.split(b),
n=J("div"),p=0;p<z.length;p++){var A=z[p].replace(c,"\u00a0").replace(la,"\u00a0 ");A&&n.appendChild(document.createTextNode(A));p<z.length-1&&n.appendChild(J("br"))}if(h.startContainer===m||Ub(m,h.startContainer))e=f(n,h.startOffset);if(h.endContainer===m||Ub(m,h.endContainer))k=f(n,h.endOffset);Hb(m,n);Ib(n)}else g(m)}e&&null!==e[0]&&q.Xc(e[0],e[1]);k&&null!==k[0]&&q.Vc(k[0],k[1]);return a}function f(a,b){for(var c=0,d=null,e=0,f=0;f<a.childNodes.length;f++){var k=a.childNodes[f],h=k.length||1;
if(c<b)c+=h,e=h-(c-b),d=k;else{c==b&&(e=0,d=k);break}}return[d,e]}function h(){if(!v(C,!0)&&A.Aa(C)){Gb(C);var a=Qb();C.appendChild(a);q.g(a,0)}}function m(a){if(H(a)&&(a=a.getElementsByTagName("*")))for(var b=a.length-1;0<=b;b--){var c=a[b];c.hasChildNodes()||ac(c)||A.ea(c)||Q(c)||q.removeNode(c)}}function l(a){(a=tc(a))&&x(a,"div>div,div>table,div>ol,div>ul").forEach(function(a){var b=a.parentNode;if(b&&!A.Cb(b)){if(P(a,"div")){["text-align"].forEach(function(c){if(!a.style[c]){var d=b.style[c];
d&&(a.style[c]=d)}});var c=A.Ab(b)+A.Ab(a);0<c?T(a,"margin-left",c+"px"):S(a,"margin-left")}var c=[a],d=z.L(c);y.O(c);z.F(d);p(A.A(a))}})}function p(a){var b=a&&a.nextSibling;b&&!v(b)&&q.removeNode(b);(a=a&&a.previousSibling)&&!v(a)&&q.removeNode(a)}function k(a){if(O(a,"ul,ol")&&A.h(a)&&A.lc(a,!0))for(var b=null,c=a.childNodes.length-1;0<=c;c--){var d=a.childNodes[c];O(d,"li,ol,ul")?b=null:ac(d)?q.S(d,"li"):sc(d)?q.removeNode(d):(b||(b=J("li"),q.insertBefore(b,d.parentNode,d.nextSibling)),q.q(d,
b,0))}}function n(a){w(!!a,"expected node");if("hr"===I(a)){var b=J("div");b.appendChild(a);return b}do{var c=Cc(a,0),c=A.Q(c);if(c.collapsed)return null;for(;A.m(b=c.startContainer.childNodes[c.startOffset]);)c.setStart(b,0);b=A.ma(c);if(0>=b.length)return Kc(c);for(var c=b[0].parentNode,d=A.m(c)&&b[0]===c.firstChild&&b[b.length-1]===c.lastChild;b.length&&sc(b[0]);)q.removeNode(b.shift());var e=A.Cb(c);if(d){if(!e)break;if(0>=b.length||!Cb(c).some(function(a){return v(a)})){y.Ia(c);break}}b.length&&
(d=z.L(b),c=z.ra(b,function(){return!1},function(){return J("div")}),z.F(d),y.R(c))}while(0);return c}function v(a,b){if(!a)return!1;if(3===a.nodeType&&!A.Ic(a)||A.ea(a)||O(a,"table,tr,td,th,li")||Q(a)&&(b?!A.hc(a):!A.Za(a)))return!0;for(var c=0;c<a.childNodes.length;c++)if(v(a.childNodes[c],b))return!0;return!1}function t(a,b){for(var c=[];a&&a!==C;)-1!==b.indexOf(I(a))&&c.unshift(a),a=a.parentNode;return c}function x(a,b){for(var c=[];a&&a!==C;)O(a,b)&&c.unshift(a),a=a.parentNode;return c}var q=
a.b("context"),A=a.b("query"),z=a.b("format"),y=a.b("block"),C=q.root,la=/\u00a0\u00a0/gi,W={dl:function(a){if(a){for(var b=a.getElementsByTagName("dt"),c=b.length;c--;)e(b[c]);b=a.getElementsByTagName("dd");for(c=b.length;c--;)y.Gc(e(b[c]));return e(a)}return a}};W.h1=W.h2=W.h3=W.h4=W.h5=W.h6=W.p=e;W.center=function(a){a=e(a);T(a,"text-align","center")};W.blockquote=function(a){a=e(a);a.style.marginLeft="";y.Gc(a);Cb(a).forEach(l);return a};W.th=function(a){a=q.S(a,"td");var b=document.createRange();
b.selectNodeContents(a);z.G("bold","bold",b);return a};W.ol=W.ul=function(a,b){b||(V("li div",a).forEach(function(a){A.Cb(a)||y.Gb(a)}),V("li",a).forEach(y.Ka),V('li[style*="list-style:"]',a).forEach(function(a){if("none"===R(a,"list-style")){for(;sc(a.previousSibling);)q.removeNode(a.previousSibling);O(a.previousSibling,"li")?(q.qe(a,a.previousSibling,-1),q.removeNode(a)):a.removeAttribute("style")}}));k(a);return a};W.pre=function(a){return g(a)};var ab=Object.keys(W);a.e=function(a){if(!a)return null;
a=tc(a);var b=!1,c=!1;t(a,ab).forEach(function(a){var d=I(a),e=W[d];e&&(e(a,b,c),"pre"===d?c=!0:-1!==["ul","ol"].indexOf(d)&&(b=!0))});x(a,"*[style]").forEach(function(a){var b=R(a,"white-space");if("pre"===b||"pre-wrap"===b)a=g(a),c=!0;for(var b=["line-height","max-width","min-width"],e=b.length;e--;){var f=b[e];R(a,f)&&(Rd(a),S(a,f))}if(0>a.offsetTop||0>a.offsetLeft||a.style&&a.style.position)if(b=R(a,"position"),"fixed"!==b||a.offsetParent&&a.offsetParent!==C||(Rd(a),T(a,"position","relative")),
"absolute"===b&&a.offsetParent===C&&(a.offsetParent.offsetHeight<a.offsetTop+a.offsetHeight&&a.style.top&&(Rd(a),T(a,"position","relative"),S(a,"top")),a.offsetParent.offsetWidth<a.offsetLeft+a.offsetWidth&&a.style.left&&(Rd(a),T(a,"position","relative"),S(a,"left"))),0>a.offsetTop||0>a.offsetLeft){b=a.offsetParent;e=a.offsetTop;for(f=a.offsetLeft;null!==b&&b!==C;){b.offsetLeft&&(f+=b.offsetLeft);b.offsetTop&&(e+=b.offsetTop);var k=R(b,"position");"absolute"!==k&&"fixed"!==k||b.offsetParent!==C||
(Rd(b),0>b.offsetLeft||0>b.offsetTop?d(b.offsetTop,b.offsetLeft,b):T(b,"position","relative"));b=b.offsetParent}d(e,f,a)}});b||c||(a=tc(a),a=n(a));a=tc(a);Rd(a);l(a);if(a=A.A(a))m(a),p(a);Sd();return a};a.ab=function(){a.e(Jc(q.a()));h()};a.se=function(){a.e(Kc(q.a()));h()};a.Kc=function(){q.a().collapsed||a.se();a.ab()};a.Ie=function(){for(var b=Jc(q.a()),c,d=2;b&&0<d;)sc(b)?c=Rb(b,C):A.o(b)?(--d,c=a.e(b),c=qc(c,function(a){return A.o(a)&&A.A(c)!==A.A(a)},C)):c=Rb(b,C),w(c!==b,"iterate!",c,b),b=
c;h()};a.re=function(b,c){q.a()||q.g(C,0);var d=0;c||(c=E);var e=z.qb();V("td:empty,th:empty",e).forEach(function(a){q.hb(Qb(),a)});V("li:empty",e).forEach(function(a){q.hb(J("br"),a)});V("hr",e).forEach(function(a){a.parentNode!==e&&y.O([a])});for(var f=b||e.firstChild,k;f&&c(f)&&1111>d++;){f=tc(f);if(sc(f)&&1<M(f.parentNode))k=Sb(f,e),q.removeNode(f);else if(A.o(f)||O(f,"td,li,div")){var g=f.nextSibling;(k=a.e(f))||(k=g);k=pc(k,function(a){return A.o(a)&&A.A(k)!==A.A(a)},e)}else k=Sb(f,e);f=k}h();
0>=d&&u.error("Normalization reached safety limit, this probably indicates that the current document failed to get normalized and may behave unexpectedly.")};a.wb=function(){q.a().collapsed?a.ab():a.re(Jc(q.a()),function(a){var b=q.a();return b&&!(a.compareDocumentPosition(Kc(b))&2)})}}};function Ae(){var a=this;a.name="editor";a.d=function(){function b(a,b){var d=!1;0==f&&null!=a?c.ya(a):0==f&&(c.M(),d=!0);f++;var e=Ma(function(){return b()});f--;d&&c.ca();return e}var c=a.b("context"),d=a.b("query"),e=a.b("format");a.b("block");var g=c.J;vd(c.root);var f=0;a.execCommand=function(c,d,e,f){if(1===arguments.length||4<=arguments.length&&null==d)d=!1;if(2>=arguments.length||4<=arguments.length&&null==e)e="";return b(f,function(b,c,d){return function(){if(!(b in g&&a.queryCommandEnabled(b,
d)))return!1;var c=g[b],e=c.action(""===d?null:d);c.Ga&&a.b("spellcheck").Ga(b);if(!0!==e&&!1!==e)throw"execCommand() didn't return true or false: "+e;return!1!==e}}(c,d,e))};a.queryCommandEnabled=function(a,d,e){return b(e,function(a,b){return function(){return a in g?c.i(a).enabled?c.i(a).enabled(b):c.hasFocus():!1}}(a,d))};a.queryCommandIndeterm=function(a,d){return b(d,function(a){return function(){return c.i(a).ga?g[a].ga():!1}}(a))};a.queryCommandState=function(a,d){return b(d,function(a){return function(){var b=
c.i(a);return b.state?null!=c.fc(a)?c.fc(a):b.state():!1}}(a))};a.queryCommandSupported=function(a){return a in g};a.queryCommandValue=function(a,d,e){return b(e,function(){return c.i(a).value?g[a].value(d):""})};c.Hb=function(){Object.keys(g).forEach(function(a){c.i(a).W||(g[a].W=null);c.i(a).V&&!c.i(a).ga&&(g[a].ga=function(){if(!c.a())return!1;var b=e.la(c.a(),d.da).map(function(b){return e.s(b,a)}),f=b.filter(function(b){return-1!=g[a].V.indexOf(b)});return 1<=f.length&&1<=b.length-f.length});
c.i(a).V&&(g[a].state=function(){var b=c.a();if(!b)return!1;c.ye();return-1!==g[a].V.indexOf(e.s(b.startContainer,a))});c.i(a).he&&(g[a].ga=function(){if(!c.a())return!1;for(var b=e.la(c.a(),d.da).map(function(b){return e.s(b,a)}),f=1;f<b.length;f++)if(b[f]!==b[f-1])return!0;return!1},g[a].value=function(){if(!c.a())return"";var b=e.Xa(c.a(),d.da);null==b&&(b=c.a().startContainer);b=e.s(b,a);return null===b?"":b});if(c.i(a).I){var b=g[a].action;g[a].action=function(a){var d=e.Fb();a=b(a);c.ca();c.a().collapsed&&
e.Ca(d);return a}}})};a.Xe=function(){return g}}};function Be(){function a(){z=t.c.timeout(function(){var a=-y;y=K(A).width;a+=y;0!==a&&B(A.querySelectorAll("table"),function(a){k(a)})},100,z)}function b(a){n(a.target);k(a.target);d(a)}function c(a){d(a)}function d(a){v(a.target);g(a.target)}function e(a,b){var c=[],d=-1,e=N(a,"table"),f=N(a,"tr");null==b&&(b=0);if(null==e||null==f)return u.warn("Couldn't find tr or table for a td! <$>"),[];for(var f=f.querySelectorAll("td"),k=0;k<f.length;k++)f[k]===a&&(d=k);if(-1===d)return u.warn("Couldn't find td within its tr! <%>"),
[];d+=b;if(0>d||d>f.length-1)return[];B(e.querySelectorAll("tr"),function(a){a=a.querySelectorAll("td");null!=a[d]&&c.push(a[d])});return c}function g(a){if(!1!==h(a)&&!1!==f(a)){var b=q.cc(a);"right"===b?p(a):("center"===b&&p(a),l(a));m(a)}}function f(a){var b=na(a.querySelectorAll("colgroup")),c=b[0]||null,d;if(0===b.length)return!0;d=V("col",c);for(var e=0;e<b.length;e++)if(null!=d[e].getAttribute("style"))return!1;for(e=0;e<d.length;e++)if(null!=d[e].getAttribute("style"))return!1;k(a);G(c);return!0}
function h(a){if(N(a.parentElement,"table")||null!=a.querySelector("table"))return!1;var b=!1;B(x.na(a),function(a){zb(a,"table-edge")&&(b=!0)});return b?!1:!0}function m(a){var b=a.querySelector("tr").querySelectorAll("td");B(b,function(c){if(c!==b[b.length-1]){var d=x.ib(c,"tableColumnEdge");F(d,"table-edge");var f=J("div",{"class":"line"});d.appendChild(f);var h,g,l,m,z,p,y=e(c),t=e(c,1),q=K(d).width;x.mc(d,function(){n(a);var b=K(y[0]),c=K(t[0]);h=b.width;g=c.width;l=window.innerWidth-b.left-
35;m=window.innerWidth-c.right+35;z=K(a).width;p=parseInt(R(d,"right"),10);F(d,"no-hide-element")},function(a){a=p-a;a>l-q&&(a=l-q);a<m&&(a=m);d.style.right=a+"px"},function(b){b<-h+35&&(b=-h+35);b>g-35&&(b=g-35);var c=(g-b)/z*100;y[0].style.width=(h+b)/z*100+"%";t[0].style.width=c+"%";Ab(d,"no-hide-element");x.Rd(d);k(a);Y(A,"setDirty",{Rb:!0});x.Ba()},"cursor: col-resize;")}})}function l(a){var b,c,d,e=35*a.querySelector("tr").querySelectorAll("td").length,f=q.cc(a),h=x.ib(a,"rightEdge");F(h,"table-edge");
h.appendChild(J("div",{"class":"line"}));var g=K(h).width,l;x.mc(h,function(){n(a);var e=K(a);b=e.width;c=window.innerWidth-e.left;l=parseInt(R(h,"right"),10);d=K(a.parentNode).width;F(h,"no-hide-element")},function(a){if("center"===f){a=l-a;var d=c-(g+e+b)/2;a>d&&(a=d)}else a=l-a,a>c-g-e&&(a=c-g-e);0>a&&(a=0);h.style.right=a+"px"},function(c){b="center"===f?b+2*c:b+c;b<e&&(b=e);c=b/d*100;100<c&&(c=100);Ab(h,"no-hide-element");a.style.width=c+"%";k(a);Y(A,"setDirty",{Rb:!0});x.Ba()},"cursor: col-resize;")}
function p(a){var b,c,d,e=35*a.querySelector("tr").querySelectorAll("td").length,f=q.cc(a),h=x.ib(a,"leftEdge");F(h,"table-edge");h.appendChild(J("div",{"class":"line"}));var g=K(h).width,l;x.mc(h,function(){n(a);var e=K(a);b=e.width;c=e.right;l=parseInt(R(h,"left"),10);d=K(a.parentNode).width;F(h,"no-hide-element")},function(a){if("center"===f){a=l+a;var d=c-(b+e+g)/2;a>d&&(a=d)}else a=l+a,a>c-g-e&&(a=c-g-e);0>a&&(a=0);h.style.left=a+"px"},function(c){b="center"===f?b-2*c:b-c;b<e&&(b=e);c=b/d*100;
100<c&&(c=100);Ab(h,"no-hide-element");a.style.width=c+"%";k(a);Y(A,"setDirty",{Rb:!0});x.Ba()},"cursor: col-resize;")}function k(a){var b=K(a).width,c=35/b*100,d=[],e=0,f=0,k=a.querySelector("tr");if(null!=k&&(k=k.querySelectorAll("td"),0!==k.length)){b<35*k.length&&(b=35*k.length);var h=K(a.parentNode).width,h=Math.max(0,Math.min(100,b/h*100)),g=R(a,"width"),l=null;null!=g&&(l=ud(g||""));l&&l.fb&&"%"===l.fb?T(a,"width",h+"%"):T(a,"width",b+"px");var m=[];B(k,function(a){a=K(a).width;m.push(a/b*
100+"%")});B(k,function(a){var b=K(a).width,k=m.shift();null==k&&(u.error("Length of first row magically changed <$>"),k="0%");T(a,"width",k);35>=b?(T(a,"width",c+"%"),f++):d.push(a);e+=parseInt(R(a,"width"),10)});if(0!==d.length&&0!==f){a=f*c;var z=e-a,n=100-a;B(d,function(a){var b=parseInt(R(a,"width"),10),b=b/z*n;T(a,"width",b+"%")})}}}function n(a){T(a,"table-layout","fixed")}function v(a){B(x.na(a),function(a){zb(a,"table-edge")&&x.detach(a)});B(a.querySelectorAll("td"),function(a){B(x.na(a),
function(a){zb(a,"table-edge")&&x.detach(a)})})}var t=this,x=null,q=null,A=null;t.name="ui-table";var z,y=null;t.d=function(){A=t.b("context").root;F(A,"en-ui-table-on");x=t.b("layer");q=t.b("table");x.Je(function(a,b){function c(b){g(a);b.stopPropagation();return!1}cd()?(console.log("setting up with onmouseenter"),b.ba=t.c.a(a,"mouseenter",c)):(console.log("setting up with onmouseover"),b.ba=t.c.a(a,"mouseover",c))},function(a,b){b.ba&&t.c.remove(b.ba)});t.c.K(A,"TABLE_ALIGN",d);t.c.K(A,"TABLE_INSERT_ROW",
c);t.c.K(A,"TABLE_DELETE_ROW",d);t.c.K(A,"TABLE_INSERT_COLUMN",c);t.c.K(A,"TABLE_DELETE_COLUMN",b);y=K(A).width;t.c.a(window,"resize",a)};t.r=function(){Ab(A,"en-ui-table-on");B(A.querySelectorAll("table"),function(a){v(a)});A=null}};function Ce(){var a=this;a.name="copy";a.d=function(){function b(){var a=X(p);return!(!a||a.collapsed)}function c(){Y(p,"beforeGetContent");u.warn("The copy/cut action will only work if a ClipboardEvent is passed. Limited to WEB right now and highly experimental!")}function d(){var a=X(p);return(a=e(p,a,{html:!0,raw:!0,resources:!0,plain:!0}))?JSON.stringify(a):""}function e(b,c,d){d=D(d,{plain:!0,html:!1,raw:!1,xhtml:!1,resources:!1});if(!c||c.collapsed)return null;var e=Pd.rc("rte").U(),f=e.rc("query"),
l=e.rc("table"),p=f.Pb(c.startContainer,c.startOffset),z=N(c.startContainer,"td.en-selected",b),e=0;null!==z&&(p=f.Pb(z,0),z=l.gd(z),0<z.column&&(e=z.column));c.setStart(p[0],p[1]);z=N(c.endContainer,"td.en-selected",b);p=0;if(null!==z){var y=f.tc(z,M(z));c.setEnd(y[0],y[1]);z=l.gd(z);(l=l.Kd(z.table))&&l.columns>z.column&&(p=l.columns-z.column-1)}z=c.cloneContents();l=document.createElement("body");l.appendChild(z);(z=a.Wa("crypt"))&&z.vd(l);for(z=c.commonAncestorContainer;z&&f.h(z)&&f.o(z);)H(z)&&
Ob(l,z.cloneNode(!1)),z=z.parentNode;if(Cb(l).some(function(a){return O(a,"li,tr,td")})&&(b=N(c.startContainer,"table,ul,ol",b)))for(b=b.cloneNode(!1),l.insertBefore(b,l.firstChild);;)if((c=l.children[1])&&O(c,"li,ol,ul,tr,td"))b.appendChild(c);else break;if(0<e||0<p){z=U("tr",l);if(0<e&&0<z.length)for(y=z[0],b=0;b<e;b++)c=y.firstChild.cloneNode(!1),f=J("div",{},[J("br")]),c.appendChild(f),y.insertBefore(c,y.firstChild);if(0<p&&0<z.length)for(e=z[z.length-1],b=0;b<p;b++)c=e.lastChild.cloneNode(!1),
f=J("div",{},[J("br")]),c.appendChild(f),e.appendChild(c)}var C={};d.plain&&uc(l.cloneNode(!0),function(a){a=(a=(a.innerText||a.textContent).replace(wa,""))?a.replace(/\u00A0/g," "):"";C.plain=a});d.resources&&(C.resources=g(l)||[]);d.raw&&(e=l.cloneNode(!0),oe(e),C.raw=Ha(e.outerHTML).replace(wa,""));d.html&&(a.b("transform").Dc(l,3),h(l),oe(l),m(l),C.html=Ha(l.outerHTML).replace(wa,""));return C}function g(a){if(!a)return null;try{var b=[],c=a.querySelectorAll("embed[id],img[id]");for(a=0;a<c.length;a++){var d=
c[a],e=(d.getAttribute("id")||"").split(":");if(3<=e.length&&"en-media"===e[0]){var f=e[2];f&&(d.setAttribute("src","?hash="+f),-1===b.indexOf(f)&&b.push(f))}}return b}catch(h){u.error("Exception in collectResourcesAction <$>",h.toString())}return null}function f(a){a=(a||"").split(":");return 3<=a.length&&"en-media"===a[0]?a[2]:null}function h(a){V("embed[src][id]",a).forEach(function(b){var c=f(b.id);c&&(c=Lb(a,"object",{type:"application/x-apple-msg-attachment",data:"cid:"+c}),Hb(b,c))});V("img[src]",
a).forEach(function(a){var b=f(a.id);b&&(a.setAttribute("src","cid:"+b),a.removeAttribute("class"),a.removeAttribute("id"),a.removeAttribute("data-en-resource-reference"))})}function m(a){var b={},c={};a instanceof Element&&(b=Yb(a));b&&b["font-family"]||(b=Yb(document.body));b&&(c["font-family"]=b["font-family"],c["font-size"]=b["font-size"]);for(var b=Cb(a),d=b.length-1;0<=d;d--){var e=b[d];if(3===e.nodeType){if(0===e.textContent.length)continue;var f=J("span");a.insertBefore(f,e);f.appendChild(e);
e=f}for(var h in c)f=c[h],null===R(e,h)&&void 0!==f&&T(e,h,f)}}var l=a.b("context"),p=l.root;a.ze=e;a.c.b({name:"copy",action:function(){c();return!0},value:function(){if(b())return d()},enabled:function(){return b()}});a.c.b({name:"cut",action:function(){a.b("undo").ua(function(){c();a.b("edit").u()});return!0},value:function(){var c=null;b()&&a.b("undo").ua(function(){c=d();null!=c&&a.b("edit").u()});return c},enabled:function(){return l.hasFocus()&&b()}})}};function De(){var a=this;a.name="paste";a.d=function(){function b(b,c){c=D(c,{value:"",selection:"",source:""},!1);c=D(db(b),c,!0);var f=c.mode,h=c.type,g=c.value,m=c.selection,p=c.source;m&&(Dd(e.root,m),e.M());if(r(g)){if(m="raw"!==f)m=g.trim(),Ga.lastIndex=0,m=r(m)&&Ga.test(m);if(m)return f=J("a",{href:g.trim()},[g]),a.insertNode(f,!0,!1,p);"pre"===f&&(g=g.replace(/\t/gi,"    ").replace(/[^\S\r\n]/gi,"\u00a0").replace(/\u00a0\u00a0/gi,"\u00a0 "));if("plain"===h)return a.e(g);d(!0);m=Kb(g,l);if(!m)return!0;
if("raw"===f)return a.insertNode(g,!0,!1,p);if("html"===h&&("plain"===f||"pre"===f||"simple"===f)){h=a.b("simpletext");if(h="simple"===f?h.we(m):h.Pd(m))g=h.ownerDocument.createRange(),g.selectNodeContents(h),m=g.cloneContents();if("plain"===f||"pre"===f)return a.e(m)}return a.insertNode(m,!0,"rich"===f||"simple"===f,p)}return!0}function c(a){var b={};if(N(e.a().startContainer,"li")&&O(a.firstChild,"ol,ul,li")){var b={Mc:[],lastChild:null},c=N(e.a().startContainer,"li");g.Aa(c,1)&&Gb(c);for(var c=
V("ol,ul",a),d=0;d<c.length;d++){var f=c[d];if(null!=f){for(var h=!0,l=f.parentNode;l;){if(-1!==["ol","ul"].indexOf(I(l))){h=!1;break}l=l.parentNode}h&&Ib(f)}}c=a.querySelector("li");O(c.parentNode,"ol,ul")||Ib(c);b.lastChild=a.lastChild;b.Mc=g.bc(a)}else b.lastChild=a.lastChild,b.Mc=g.bc(a);e.a().insertNode(a);return b}function d(a){var b=e.a();b||(b=Cc(),b.selectNodeContents(l),b.collapse(!1),e.ya(b),e.ca());a||m.u();return e.a()}var e=a.b("context"),g=a.b("query"),f=a.b("block"),h=a.b("normalize"),
m=a.b("edit"),l=e.root,p=e.J;a.e=function(a){m.u({Wb:!1});if(!e.a())return u.warn("insertPlainText did fail due to missing content"),!1;var b;r(a)&&(b=a);var c;a instanceof DocumentFragment?c=a:a instanceof Node&&(c=document.createDocumentFragment(),c.appendChild(a));c&&uc(document.createElement("body"),function(a){a.appendChild(c);b=(a.innerText||a.textContent||"").replace(/\u00A0/g," ")});a=b.split(/\n/gi);for(var d=e.i("insertparagraph").action,f=0;f<a.length;f++){var h=a[f];0<f&&d&&d();if(h&&
h.length){var l=e.a(),z=l.startContainer,l=l.startOffset;0<=l-1&&l-1<z.childNodes.length&&3===z.childNodes[l-1].nodeType&&(z=z.childNodes[l-1],l=M(z));0<=l&&l<z.childNodes.length&&3===z.childNodes[l].nodeType&&(z=z.childNodes[l],l=0);g.m(z)&&g.Aa(z)&&(l=g.tc(z,l),z=l[0],l=l[1]);e.g(z,l);h.trim()&&(3===z.nodeType?(z.insertData(l,h),e.g(z,l+h.length)):(1===z.childNodes.length&&g.hc(z.firstChild)&&z.removeChild(z.firstChild),z=document.createTextNode(h),e.a().insertNode(z),e.g(z,h.length)))}}e.a().collapse(!1);
return!0};a.insertNode=function(b,m,p,t){function x(a){[].filter.call(a.childNodes,function(a){return g.h(a)&&!g.ke(a)&&L(a)>=e.a().startOffset}).forEach(function(a){a.parentNode.removeChild(a)})}if(!b)return u.warn("insertNode failed due to missing content"),!1;var q=d(),A;m&&(A=document.createTextNode("\u00a0"),q.insertNode(A),q.selectNode(A),e.i("removeformat").action(),e.g(A,1));var z;r(b)?z=Kb(b,l):b instanceof DocumentFragment?z=b:b instanceof Node&&(z=document.createDocumentFragment(),z.appendChild(b));
p&&(a.b("transform").lb(z,3,t?{info:{source:t}}:void 0),h.ab());if(0<Pc(q,"table").length||N(q.startContainer,"table")||N(q.endContainer,"table"))if(p=U("table",z),0<p.length)for(t=a.b("simpletext"),b=0;b<p.length;b++){var y=p[b],C=y.nextSibling,la=y.parentNode,W=t.Pd(y);Ub(y,la)&&la.removeChild(y);C?la.insertBefore(C,W):la.appendChild(W)}q.collapse(!1);e.ya(q);e.ca();if(null==z.childNodes||0===z.childNodes.length)return u.warn("insertNode failed to empty content argument"),!1;g.m(e.a().startContainer)?
x(e.a().startContainer):m&&g.m(e.a().startContainer.parentNode)&&x(e.a().startContainer.parentNode);q=c(z);m=q.Mc;q=q.lastChild;e.g(q.parentNode,L(q)+1);f.Ia(e.a().startContainer);f.Ia(q);for(b=0;b<m.length;b++)f.R(m[b]);A&&1===A.length&&e.removeNode(A);e.ca();h.ab();q&&q.parentNode&&e.g(q.parentNode,L(q)+1);return!0};p.inserthtml={k:!0,I:!0,action:function(b){if(null!=b){var c=null;r(b)?(d(),c=Kb(b,l)):c=b;null!=c&&(a.b("transform").lb(c,3),h.ab(),a.insertNode(c,!1,!1))}return!0},value:function(){var a=
e.a();if(!a||a.collapsed)return"";var b=g.Pb(a.startContainer,a.startOffset);a.setStart(b[0],b[1]);a=a.cloneContents();return Ia(a)}};p.inserttext={k:!0,action:function(b){return a.e(b)}};p.paste={k:!0,action:function(a){return b(a,{type:"html",mode:"rich"})}};p.pasteraw={k:!0,action:function(a){ma('Please use execCommand("paste", { type: "html", mode: "raw", "value": ... })');return b(a,{type:"html",mode:"raw"})}};p.pasteplain={k:!0,action:function(a){ma('Please use execCommand("paste", { type: "plain", mode: "pre", "value": ... })');
return b(a,{type:"plain",mode:"pre"})}};p.pastesimple={k:!0,action:function(a){ma('Please use execCommand("paste", { type: "html", mode: "simple", "value": ... })');return b(a,{type:"html",mode:"simple"})}}};a.r=function(){a.j=null}};function Ee(){function a(a){a=a.toString().trim();return 0<b.f.maxLength?a.slice(0,b.f.maxLength):a}w(this instanceof Ee,"Use `new` to instantiate this class");var b=this,c=null,d=!1;b.name="textfield-"+Ja();b.f=null;b.e=null;b.Ha=null;b.d=function(d){b.f=D(d,{element:null,Qd:!1,maxLength:0,placeholder:null,fd:!1,me:!0,Hd:!0,Ad:!0,Cd:["textfield"],Nb:null,qc:null,Id:null,name:null,fontsize:null});c=b.f.element;w(!!c&&H(c),'"element" option must be an HTMLElement');b.c.Ub({Ma:b.f.Cd});b.ic(b.f.placeholder);
b.Ra(b.f.fontsize);b.setActive(b.f.Ad);w(!(b.f.Qd&&b.f.maxLength),"Max length not supported for multi line fields");0<b.f.maxLength&&b.c.a(c,"input",function(){b.j();if(c.textContent.length>b.f.maxLength){var a=c.firstChild;if(Tb(a)){var d=X(c).startOffset;a.textContent=b.j();Ec(Cc(a,Math.min(d,b.f.maxLength)))}Fd("warning",{module:"title"})}});b.f.qc&&b.f.name&&(b.c.a(c,"blur",function(){Hd(b.f.name,{focus:b.hasFocus()})}),b.c.a(c,"focus",function(){b.focus()}));b.f.Nb&&(b.c.a(c,"input",function(){b.w(!0)}),
b.c.a(c,"blur",function(){b.T()&&bb(b.f.Nb,{target:c,value:b.j(!1),blur:!0})}));b.f.Id&&b.c.a(c,"paste",function(a){if(a&&a.clipboardData){var c=a.clipboardData.getData("text/plain");b.e.ua(function(){document.execCommand("inserttext",!1,c.replace(/\s+/gi," "))});a.preventDefault()}});if(b.f.Hd){var g=function(a,d){d=D(db(a),d,!0);var e=d.value;"html"===d.type&&(e=Kb(e,c).textContent);b.e.ua(function(){document.execCommand("inserttext",!1,e.replace(/\s+/gi," "))});return!0};b.c.b({name:"paste",action:function(a){if(b.hasFocus())return g(a,
{type:"html",mode:"plain",value:""})},enabled:function(){return b.hasFocus()}});b.c.b({name:"pasteplain",action:function(a){if(b.hasFocus())return ma('Please use execCommand("textfield.paste", { type: "plain", mode: "plain", "value": ... })'),g(a,{type:"plain",mode:"plain",value:""})},enabled:function(){return b.hasFocus()}});var f=function(){var a=X(c);return a&&!a.collapsed};b.c.b({name:"copy",value:function(){return f()?{plain:X(c).toString().replace(wa,"")}:null},enabled:f});b.c.b({name:"inserttext",
action:function(a){if(b.hasFocus())return b.e.ua(function(){document.execCommand("inserttext",!1,a)}),!0},enabled:function(){return b.hasFocus()}});b.c.b({name:"delete",action:function(a){return"selection"===a?(document.execCommand("delete"),!0):!1},enabled:function(a){if("selection"===a)return b.hasFocus()}})}b.f.me&&(b.e=new de,b.U().d(b.e,{element:c}),b.c.b({name:"undo",action:function(){b.e.le();return!0},state:function(){return b.e.Ea()},value:function(){return b.e.ne()},enabled:function(){return b.hasFocus()&&
b.e.Ea()}}),b.c.b({name:"redo",action:function(){b.e.Zd();return!0},state:function(){return b.e.Da()},value:function(){return b.e.$d()},enabled:function(){return b.hasFocus()&&b.e.Da()}}));b.c.b({name:"content",action:function(c){!b.f.fd||c&&a(c)!==b.t()||(c="");b.ha(c);return!0},value:function(a){d=D(db(a),{resetChangesState:!0});d.resetChangesState&&b.w(!1);return b.j()||(b.f.fd?b.t():"")},enabled:E,Ya:!0});b.c.b({name:"active",action:function(a){b.setActive(cb(a))},state:function(){return b.H()},
enabled:E,Ya:!0});b.c.b({name:"focus",action:function(){b.focus();return!0},state:function(){return b.hasFocus()},enabled:E,Ya:!0});b.c.b({name:"changes",action:function(a){a=cb(a);b.w(a);return!0},state:function(){return b.T()},enabled:E,Ya:!0});b.c.b({name:"selectall",action:function(){b.za();return!0},enabled:function(){return b.hasFocus()}})};b.r=function(){b.setActive(!1);b.Ha=null;b.f=null;c.removeAttribute("data-en-placeholder");c=null};b.j=function(d){d&&b.w(!1);return b.f.multiline?c.innerText||
"":a(c.textContent)};b.ha=function(d){c.textContent=a(d);b.w(!1)};b.hasFocus=function(){if(!b.H())return!1;var a=X(c);return a&&(a=Jc(a))?!!N(a,dc):!1};b.focus=function(){c.focus();Ec(Cc(c,M(c)));b.f.qc&&b.f.name&&Hd(b.f.name,{focus:b.hasFocus()})};b.za=function(){c.focus();window.getSelection().selectAllChildren(c);b.f.qc&&b.f.name&&Hd(b.f.name,{focus:b.hasFocus()})};b.t=function(){return c.getAttribute("data-en-placeholder")||""};b.ic=function(b){null!=b?c.setAttribute("data-en-placeholder",a(b)):
c.removeAttribute("data-en-placeholder")};b.setActive=function(a){a!==b.H()&&(window.getSelection().containsNode(c,!0)&&Hc(),ec(c,a))};b.H=function(){return dc(c)};b.w=function(a){d=!!a;!0===b.T()&&b.f.Nb&&bb(b.f.Nb,{target:c,value:b.j(!1)})};b.T=function(){return d&&b.H()};b.Ra=function(a){(a=wd(a,"px","px"))&&0<a.value&&T(c,"font-size",a.Qa)}};function Fe(){function a(){ma("Please use title.focus");return f.hasFocus()}function b(a){if("placeholder"===a)return f.t();if("focus"===a)return ma("Please use title.focus"),f.hasFocus();ma("Please use title.content");return f.j()||f.t()}function c(a){a=db(a);var b=!1,c=a.active;null!=c&&(ma("Please use title.active"),f.setActive(c),b=!0);c=a.value;null!=c&&(ma("Please use title.content"),d(c),b=!0);!0===a.focus&&(ma("Please use title.focus"),f.focus(),b=!0);return b}function d(a){a&&a!==f.t()?f.j()!==
a&&f.ha(a):f.ha("");h=f.j()||f.t();f.w(!1)}w(this instanceof Fe,"Use `new` to instantiate this class");var e=this;this.name="title";var g=document.querySelector("#en-title");w(H(g),"Node for title required");var f=null,h=null;this.d=function(m){m=D(m,{active:!0,value:"",placeholder:"Untitled",fontsize:null});this.c.Ub({Ma:["title"]});f=new Ee;this.U().d(f,{element:g,Qd:!1,maxLength:255,placeholder:m.placeholder,fd:!0,me:!0,Hd:!0,Ad:m.active,Nb:"titlechanged",Cd:["title"],qc:!0,Id:m.pasteEvent,name:e.name,
fontsize:m.fontsize});this.c.i(function(){f=null});h=m.value;d(h);this.c.a(g,"keydown",function(a){var b=!1,c=(a.shiftKey?1:0)+(a.altKey?2:0)+(a.metaKey?4:0)+(a.ctrlKey?8:0);9===a.keyCode?0===c?(Z.execCommand("content.focus",{pos:"top",force:!0}),b=!0):1===c&&(Jd(e.name),b=!0):13===a.keyCode&&(0===c?(Z.execCommand("content.focus",{pos:"top",force:!0}),b=!0):1===c?(Jd(e.name),b=!0):4!==c&&6!==c&&(b=!0));return b?bd(a):!0});this.c.b({name:"title",action:c,value:b,state:a,enabled:E})}};function Ge(){var a=this;a.name="crypt";a.d=function(){function b(){var b=X(l);if(!b||b.collapsed)return u.error("No selection"),!1;b=a.b("copy").ze(l,b,{html:!0});if(!b&&!b.html)return u.error("Failed to extract content",b),!1;b=b.html;if(0< !b.length)return u.error("Extracted content is empty",b),!1;var c=g();c.plainText=b;c.length="128";c.cipher="AES";c.hint="";var e=d(c);a.b("edit").u();b=h.a();b.insertNode(e);b.selectNode(e);b.collapse(!1);h.ya(b);a.c.timeout(function(){Fd("encrypt",c)});return!0}
function c(b){var c=b.plainText;if(null!=c){var d=document.getElementById(b.id);d&&!zb(d,"en-crypt-revealed")&&(h.Zc(d),h.a()&&(d={"class":"en-crypt en-crypt-revealed en-container",id:b.id},d["data-en-crypt-rev"]=b.rev,b=J("div",d),Mb(b,c),a.b("transform").lb(b,3),a.b("edit").De(b),h.g(b,0)))}}function d(a){var b={src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7","class":"en-crypt en-crypt-placeholder en-object-placeholder",id:a.id};b["data-en-crypt-rev"]=a.rev;
return J("img",b)}function e(a){var b=a.id;a=a.getAttribute("data-en-crypt-rev");return b&&a?g(b,a):null}function g(a,b){a=a||"en-crypt-"+window.ENUniqueCounter++;var c=v[a];null==c&&(c={},v[a]=c);b=b||"en-crypt-rev-"+window.ENUniqueCounter++;var d=c[b];null==d&&(d={id:a,rev:b},c[b]=d);return d}var f=!1!==Sc.rte.cryptLegacy;u.log("CRYPTO LEGACY MODE",f);var h=a.b("context"),m=a.b("query"),l=h.root,p=h.J;a.c.a(l,"click",function(a){a=a.target;zb(a,"en-crypt-placeholder")&&(a=g(a.id,a.getAttribute("data-en-crypt-rev")),
Fd("decrypt",a))});if(f){var k=function(b){if(!h.a())return u.error("insertCryptoAction: No range",b),!1;a.b("edit").u();a.b("paste").insertNode(b,!1,!0);return!0},n=function(){var a=h.a();if(!a||a.collapsed)return"";var b=m.Pb(a.startContainer,a.startOffset);a.setStart(b[0],b[1]);a=a.cloneContents();return Ia(a)};p.insertcrypto={I:!0,action:k,value:n};p.revealcrypto={I:!0,nb:!0,action:k,value:n}}var v={};a.c.K(l,"beforeGetContent",function(){for(var a=l.getElementsByClassName("en-crypt-revealed"),
b=a.length-1;0<=b;b--){var c=a[b],d=e(c);if(d){var f=c.innerHTML;if(d.plainText!==f){var h=g(d.id);c.setAttribute("data-en-crypt-rev",h.rev);Aa(h,d,!0);h.plainText=f;delete h.cipherText;delete d.plainText}}}});a.c.b({name:"crypt",action:function(a){h.M();if(Fa(a))return b();a=db(a);var d,e;if(a.encrypt)d=a.encrypt.id,e=a.encrypt.rev,d=g(d,e),d.cipherText=a.encrypt.cipherText;else if(a.decrypt)d=a.decrypt.id,e=a.decrypt.rev,d=g(d,e),d.plainText=a.decrypt.plainText,c(d);else if(a.revert)d=a.revert.id,
e=a.revert.rev,d=g(d,e),d.plainText=a.revert.plainText,c(d);else return!1;h.ca();return!0},value:function(){return{count:{},items:{}}},enabled:function(a){if(!Fa(a))return!0;a=X(l);return!(!a||a.collapsed||Ic(a,".en-crypt",l)||!(0>=Pc(a,".en-crypt").length))}});a.vd=function(a){f||V(".en-crypt-revealed",a).forEach(function(a){var b=e(a);b&&(b=d(b),Hb(a,b))})};a.Y=function(a,b){1===b?V("en-crypt",a).forEach(function(a){var b;f?(b="en-crypt:"+a.textContent.trim()+":"+a.getAttribute("cipher")+":"+a.getAttribute("length")+
":"+a.getAttribute("hint"),b=J("embed",{type:"evernote/x-crypto",align:"absmiddle",id:b})):(b=g(),b.cipherText=a.textContent,b.length=a.getAttribute("length"),b.cipher=a.getAttribute("cipher"),b.hint=a.getAttribute("hint"),b=d(b));Hb(a,b)}):2===b&&(f||V('embed[type="evernote/x-crypto"]',a).forEach(function(a){var b=a.getAttribute("id").split(":"),c=g();c.cipherText=b[1];c.cipher=b[2];c.length=b[3];c.hint=b.slice(4).join(":");b=d(c);Hb(a,b)}))};a.ka=function(a,b,c){if(1===b)if(f){var d=c.crypto||{};
w(d,"Expected a crypto info on Mac here",d);U("div.en-crypt-revealed,div.en-crypto-revealed",a).forEach(function(b){var c=b.getAttribute("id");d[c]?(c=d[c].split(":"),c=Lb(a,"en-crypt",{cipher:c[2],length:c[3],hint:c.slice(4).join(":")},[c[1]]),Hb(b,c)):u.error("Found revealed crypto but not replacement. Key:",c)});V('embed[type="evernote/x-crypto"]',a).forEach(function(b){var c=b.getAttribute("id").split(":"),c=Lb(a,"en-crypt",{cipher:c[2],length:c[3],hint:c.slice(4).join(":")},[c[1]]);Hb(b,c)})}else V(".en-crypt",
a).forEach(function(b){var c=e(b);c&&null!=c.cipherText?(c=Lb(a,"en-crypt",{cipher:c.cipher,length:c.length,hint:c.hint},[c.cipherText]),Hb(b,c)):G(b)})}}};function He(){var a=this;a.name="edit";a.d=function(){function b(a){function b(a){return O(a,"ol,ul")}for(var c=null;na(a.childNodes).some(b);){var d=a.lastChild;b(d)||!c&&sc(d)?(c=null,a.parentNode.insertBefore(d,a.nextSibling)):(c||(c=J("li"),a.parentNode.insertBefore(c,a.nextSibling)),c.appendChild(d))}}function c(b){if(!b)return!1;a.u({Wb:!1});var c=k.a();if(!n.h(k.a().startContainer)&&!n.pa(k.a().startContainer))return!0;n.m(c.startContainer)&&1==c.startContainer.childNodes.length&&Q(c.startContainer.firstChild)&&
0==c.startOffset&&c.startContainer.removeChild(c.startContainer.firstChild);c.insertNode(b);k.g(b.parentNode,1+L(b));return!0}function d(a){window.getSelection().isCollapsed&&(window.getSelection().modify("extend",a?"backward":"forward","lineboundary"),k.M());return k.i(a?"delete":"forwarddelete").action()}function e(a){if(!window.getSelection().isCollapsed)return k.i("delete").action();var b=N(k.a().startContainer,"li");t.Db()&&null!=b&&n.Aa(b)||(window.getSelection().modify("extend",a?"backward":
"forward","word"),k.M());return k.i(a?"delete":"forwarddelete").action()}function g(){if(k.a().collapsed){x.Ie();var b=v.qb();if(!(n.Cb(b)&&1===M(b)&&P(b.firstChild,"div")&&1===M(b.firstChild)&&P(b.firstChild.firstChild,"br"))){t.mb(k.a().startContainer,k.a().startOffset);var c=k.a().startContainer,b=k.a().startOffset;if(!k.a().collapsed||0!==b||0!==L(c)||!P(c.parentNode,"td")&&!P(c.parentNode.parentNode,"td")||null!=N(c,"td").querySelector("li")){for(;;)if(0===b&&n.h(c.previousSibling)&&n.D(c.previousSibling))c.parentNode.removeChild(c.previousSibling);
else if(0<=b-1&&b-1<c.childNodes.length&&n.h(c.childNodes[b-1])&&n.D(c.childNodes[b-1]))c.removeChild(c.childNodes[b-1]),b--;else if(0==b&&n.o(c)||n.D(c))b=L(c),c=c.parentNode;else{if(0<=b-1&&b-1<c.childNodes.length&&n.h(c.childNodes[b-1])&&P(c.childNodes[b-1],"a")){t.Gb(c.childNodes[b-1]);return}if(0<=b-1&&b-1<c.childNodes.length&&!n.m(c.childNodes[b-1])&&!Q(c.childNodes[b-1])&&!n.ea(c.childNodes[b-1]))c=c.childNodes[b-1],b=M(c);else break}if(0<b&&3===c.nodeType){var d=1;1<b&&va(c.textContent.substring(b-
2,b))&&(d=2);k.g(c,b-d,c,b);a.u()}else if(n.h(c)&&0<=b-1&&b-1<c.childNodes.length&&(O(c.childNodes[b-1],"br,hr")||n.ea(c.childNodes[b-1])))k.g(c,b-1,c,b),a.u();else if(!n.o(c))if(O(c,"li,dt,dd")&&c==c.parentNode.firstChild&&0==b){b=[];for(d=c.parentNode;d;d=d.parentNode)P(d,"li")&&b.unshift(d);for(d=0;d<b.length;d++)t.Ka(b[d]);b=v.L([c]);t.O([c]);v.F(b);O(c,"dd,dt")&&n.Ja(c).every(function(a){return!n.v(c,a)||!n.B(c,a)})&&(c=k.S(c,"div"));t.R(c)}else{for(var d=c,e=b;;)if(0==e)e=L(d),d=d.parentNode;
else if(0<=e-1&&e-1<d.childNodes.length&&n.h(d.childNodes[e-1])&&n.D(d.childNodes[e-1]))d.removeChild(d.childNodes[e-1]),e--;else break;if(0===b&&n.lc(c,!0)&&n.Ja(c).concat(c).filter(function(a){return n.h(a)&&n.v(a,c)&&n.$a(a)}).length)if(b=Cc(c,0),b=n.Q(b),b=n.ma(b,function(a){return n.h(a)&&!n.Yd(a)}),b.filter(function(a){return 3!==a.nodeType}).length)for(d=0;d<b.length;d++)l(b[d]);else l(c);else if(!O(c,"table, .en-module, .en-crypt"))if(0<=e-1&&e-1<d.childNodes.length&&O(d.childNodes[e-1],"table, .en-module, .en-crypt"))k.g(d,
e-1,d,e);else if(0==b&&(P(d.childNodes[e-1],"hr")||Q(d.childNodes[e-1])&&(Q(d.childNodes[e-1].previousSibling)||!n.o(d.childNodes[e-1].previousSibling))))k.g(d,e-1,d,e),a.u(),k.g(c,b);else if(O(d.childNodes[e],"li,dt,dd")&&O(d.childNodes[e].previousSibling,"li,dt,dd"))d=d.childNodes[e-1],e=M(d),c=d.nextSibling,k.g(d,e,c,0),a.u();else{for(;0<=e-1&&e-1<d.childNodes.length;){var f=d.childNodes[e-1];n.h(f)&&n.D(f)?(d.removeChild(f),e--):O(f,"hr")?e--:(d=f,e=M(d))}k.g(d,e,c,b);a.u({direction:"backward"})}}}}}else a.u()}
function f(a){x.wb();for(var b=n.Q(k.a()),b=n.ob(b,function(a){return 1===a.nodeType&&n.h(a)&&(a.hasAttribute("align")||""!=a.style.textAlign)}),c=0;c<b.length;c++){var d=b[c];d.removeAttribute("align");S(d,"text-align")}if("left"!=a)for(b=n.Q(k.a()),b=n.ma(b,function(a){return n.h(a)&&P(a,"div")});b.length;)b.shift().setAttribute("style","text-align: "+a)}function h(a){var b=a.toLowerCase(),c="tl"===b,d=c?"ul":b,e=k.a();if(e){x.wb();var f=t.oa()===b?"disable":"enable",h=function(a){return n.ce(a,
b)},g=function(a){return!h(a)&&O(a,"ol,ul")},p=[];(function(){for(var a=e.endContainer;a!==e.commonAncestorContainer;a=a.parentNode)P(a,"li")&&p.unshift(a);for(a=e.startContainer;a;a=a.parentNode)P(a,"li")&&p.unshift(a)})();p.forEach(t.Ka);a=n.Q(e);"enable"===f&&n.ob(a,function(a){return n.h(a)&&g(a)}).forEach(function(a){if(n.h(a.previousSibling)&&h(a.previousSibling)||n.h(a.nextSibling)&&h(a.nextSibling)){a=[].slice.call(a.childNodes);var b=v.L(a);t.O(a);v.ra(a,function(a){return h(a)});v.F(b)}else k.S(a,
d),Bb(a,"en-todo-list",c),T(a,"-evernote-list-type",c?"todo":null)});a=n.ma(a,function(a){return n.h(a)&&(O(a,"ol,ul")||O(a.parentNode,"ol,ul")||n.B(a,"li"))});"enable"==f&&(a=a.filter(function(a){return!O(a,"ol,ul")||O(a.parentNode,"ol,ul")}));if("disable"==f)for(;a.length;){var q=[];q.push(a.shift());if(h(q[0]))l(q[0]);else{for(;a.length&&a[0]==q[q.length-1].nextSibling&&!h(a[0]);)q.push(a.shift());f=v.L(q);t.O(q);for(var Ka=0;Ka<q.length;Ka++)t.R(q[Ka]);v.F(f)}}else for(;a.length;){for(q=[];!q.length||
a.length&&a[0]==q[q.length-1].nextSibling;)if(O(a[0],"p,div"))a[0].style.margin="",a[0].style.textAlign="",a[0].removeAttribute("align"),kc(a[0]),q.push(k.S(a[0],"li")),a.shift();else if(O(a[0],"li,ol,ul"))q.push(a.shift());else{for(f=[];!f.length||a.length&&a[0]==f[f.length-1].nextSibling&&n.o(a[0])&&n.o(f[f.length-1])&&!Q(f[f.length-1]);)f.push(a.shift());for(;f.length&&sc(f[f.length-1]);)f.pop();f.length&&q.push(v.ra(f,void 0,function(){return J("li")}))}h(q[0].parentNode)||q.every(function(a){return O(a,
"ol,ul")})||(g(q[0].parentNode)?(q=na(q[0].parentNode.childNodes),f=v.L(q),t.O(q),v.ra(q,function(a){return h(a)},function(){return m(b)}),v.F(f)):(f=v.ra(q,function(a){return h(a)},function(){if(!(n.h(q[0].parentNode)&&n.Eb(q[0].parentNode)&&n.h(q[0].parentNode.previousSibling)&&h(q[0].parentNode.previousSibling)))return m(b);var a=q[0].parentNode.previousSibling;t.Ka(a.lastChild);n.h(a.lastChild)&&h(a.lastChild)||a.appendChild(m(b));return a.lastChild}),t.R(f)))}}}function m(a){w(0<=["ul","ol",
"tl"].indexOf(a.toLowerCase()));return"tl"===a?J("ul",{"class":"en-todo-list",style:"-evernote-list-type:todo"}):J(a)}function l(a){if(n.h(a))if(P(a,"div")){var b=n.Ab(a)-40;0<b?T(a,"margin-left",b+"px"):t.Gb(a)}else if(n.Eb(a))t.Gb(a);else if(n.$a(a))a.removeAttribute("dir"),a.style.margin="",a.style.padding="",a.style.border="",""!=a.getAttribute("style")&&"border-width: initial; border-color: initial; "!=a.getAttribute("style")||a.removeAttribute("style"),k.S(a,"div");else{for(var b=a.parentNode,
c=[];n.h(b)&&1==b.nodeType&&!n.Eb(b)&&!O(b,"ol,ul");)c.push(b),b=b.parentNode;if(!n.h(b)||!n.Eb(b))for(b=a.parentNode,c=[];n.h(b)&&1==b.nodeType&&!n.$a(b)&&!O(b,"ol,ul");)c.push(b),b=b.parentNode;if(O(a,"ol,ul")&&(!n.h(b)||!n.$a(b))){a.removeAttribute("reversed");a.removeAttribute("start");a.removeAttribute("type");b=[].slice.call(a.childNodes);if(O(a.parentNode,"ol,ul")||na(a.parentNode.childNodes).every(function(){return O(a,"ol,ul")||sc(a)}))c=v.L([].slice.call(a.childNodes)),t.Gb(a),v.F(c);for(c=
0;c<b.length;c++)t.R(b[c])}else if(n.h(b)&&n.$a(b)){c.push(b);for(var d=b;c.length;){var b=c.pop(),e=a.parentNode==b?a:c[c.length-1];n.o(e)&&!Q(e)&&Q(e.nextSibling)&&e.parentNode.removeChild(e.nextSibling);var f=[].slice.call(b.childNodes,1+L(e));p([].slice.call(b.childNodes,0,L(e)));p(f)}l(d)}}}function p(a){if(a.length){var b=a[0];if(O(b.parentNode,"ol,ul")){var c=n.sb(b.parentNode);v.ra(a,function(a){return n.ce(a,c)},function(){return m(c)})}else for(;a.length;)b=a.shift(),P(b,"div")?t.Gc(b):
(b=v.ra([b],function(a){return n.Eb(a)?!0:!1},function(){return J("div",{style:"margin-left:40px;"})}),t.R(b))}}var k=a.b("context"),n=a.b("query"),v=a.b("format"),t=a.b("block"),x=a.b("normalize"),q=k.J;a.u=function(b){if(k.a()){x.Kc();var c=0<Pc(k.a(),"td").length;t.xe(b);c&&a.e();x.ab()}};a.e=function(){for(var a=U("td",k.root),b=0;b<a.length;b++)if(0===M(a[b])){var c=J("div",{},[J("br")]);a[b].appendChild(c)}};q.deleteword={k:!0,Ga:!0,I:!0,action:function(){return e(!0)}};q.forwarddeleteword=
{k:!0,Ga:!0,I:!0,action:function(){return e(!1)}};q.deleteline={k:!0,Ga:!0,I:!0,action:function(){return d(!0)}};q.forwarddeleteline={k:!0,Ga:!0,I:!0,action:function(){return d(!1)}};q["delete"]={Ga:!0,action:function(b){v.Ge(function(){"selection"===b?a.u():"word"===b?e(!0):"line"===b?d(!0):g()});return!0}};q.forwarddelete={Ga:!0,I:!0,action:function(b){"selection"===b?a.u():"word"===b?e(!1):"line"===b?d(!1):k.a().collapsed?(b=k.a(),window.getSelection().modify("extend","forward","character"),window.getSelection().collapseToEnd(),
k.M(),Lc(b,k.a())||k.i("delete").action()):a.u();return!0}};q.indent={k:!0,I:!0,action:function(){x.wb();for(var a=[],b=k.a().endContainer;b!=k.a().commonAncestorContainer;b=b.parentNode)P(b,"li")&&a.unshift(b);for(b=k.a().startContainer;b!=k.a().commonAncestorContainer;b=b.parentNode)P(b,"li")&&a.unshift(b);for(b=k.a().commonAncestorContainer;b;b=b.parentNode)P(b,"li")&&a.unshift(b);for(b=0;b<a.length;b++)t.Ka(a[b]);a=n.Q(k.a());a=n.ma(a,function(a){return n.h(a)&&O(a,"div,li")});b=a.filter(n.C)[0];
if(P(b,"li")&&O(b.parentNode,"ol,ul")){for(b=b.previousSibling;n.D(b);)b=b.previousSibling;P(b,"li")&&t.Ka(b)}for(;a.length;){b=[];for(b.push(a.shift());a.length&&a[0]==b[b.length-1].nextSibling;)b.push(a.shift());p(b)}return!0},enabled:function(){return k.hasFocus()&&!t.qa()}};q.outdent={k:!0,I:!0,action:function(){x.wb();var a=v.qb(),b=[];(function(){for(var a=k.a().endContainer;a!=k.a().commonAncestorContainer;a=a.parentNode)P(a,"li")&&b.unshift(a);for(a=k.a().startContainer;a;a=a.parentNode)P(a,
"li")&&b.unshift(a)})();b.forEach(t.Ka);for(var c=n.Q(k.a()),c=n.ma(c,function(a){return n.h(a)&&(!n.bc(a).some(n.h)||O(a,"ol,ul")||P(a,"li")&&O(a.parentNode,"ol,ul"))}),d=[];c.length;){for(;c.length&&P(cc(c[0],a),"div");){var e=cc(c.shift(),a);if(-1===d.indexOf(e)){d.push(e);var f=n.Ab(e)-40;0<f?T(e,"margin-left",f+"px"):(S(e,"margin-left"),S(e,"margin"))}}for(;c.length&&(O(c[0],"ol,ul")||!O(c[0].parentNode,"ol,ul"));)l(c.shift());if(!c.length)break;e=[];for(e.push(c.shift());c.length&&c[0]==e[e.length-
1].nextSibling&&!O(c[0],"ol,ul");)e.push(c.shift());f=v.L(e);t.O(e);e.forEach(t.R);v.F(f)}return!0},enabled:function(){return k.hasFocus()&&!t.qa()}};q.inserthorizontalrule={k:!0,I:!0,action:function(){if(t.kc())return!1;k.i("insertparagraph").action();var a=J("div",{},[J("hr")]),b=n.A(k.a().startContainer);k.q(a,b.parentNode,L(b));return!0},enabled:function(){return k.hasFocus()&&!t.kc()&&!t.qa()}};a.De=c;q.insertimage={k:!0,I:!0,action:function(a){if(""===a)return!1;a=J("img",{src:te(a)});c(a);
a.removeAttribute("width");a.removeAttribute("height");return!0}};q.insertlinebreak={I:!0,action:function(){if(!t.Db())return k.i("insertparagraph").action();a.u({Wb:!1});if(!n.h(k.a().startContainer)&&!n.pa(k.a().startContainer)||1==k.a().startContainer.nodeType&&!n.B("br",k.a().startContainer)||1!=k.a().startContainer.nodeType&&!n.B("br",k.a().startContainer.parentNode))return!0;if(3==k.a().startContainer.nodeType&&0==k.a().startOffset){var b=k.a().startContainer.parentNode,c=L(k.a().startContainer);
k.g(b,c)}3==k.a().startContainer.nodeType&&k.a().startOffset==M(k.a().startContainer)&&(b=k.a().startContainer.parentNode,c=1+L(k.a().startContainer),k.g(b,c));b=J("br");k.a().insertNode(b);k.g(b.parentNode,1+L(b));n.hc(b)&&(k.a().insertNode(J("br")),k.g(b.parentNode,1+L(b)));return!0}};q.insertparagraph={k:"before",I:!0,action:function(){var b=a.Wa("todo");a.u();var c=k.a().startContainer,d=k.a().startOffset;if(!n.h(c)&&!n.pa(c))return!0;3===c.nodeType&&0!==d&&d!==M(c)&&c.splitText(d);3===c.nodeType&&
d===M(c)&&(d=1+L(c),c=c.parentNode);3===c.nodeType&&(d=L(c),c=c.parentNode);k.g(c,d);for(var e=c;!n.Jc(e)&&n.h(e.parentNode)&&n.v(c,e.parentNode);)e=e.parentNode;if(n.h(e)&&n.Jc(e)&&n.v(c,e.parentNode)&&O(e,"p,div")){for(var f=e;!O(f,"dd,dt,li")&&n.h(f.parentNode);)f=f.parentNode;O(f,"dd,dt,li")&&(e=f)}if(!n.h(e)||!n.v(e,c)||!n.Jc(e)){f=n.Q(k.a());f=n.ma(f,function(a){return n.B(a,"p")}).slice(0,1);if(!f.length){if(!n.B("div",k.a().startContainer))return!0;e=Qb();k.a().insertNode(e);k.g(e,0);return!0}for(;f[f.length-
1].nextSibling&&n.B(f[f.length-1].nextSibling,"p");)f.push(f[f.length-1].nextSibling);e=v.ra(f,Pa,function(){return J("div")})}var f=!1,h=b?b.$c(e):null;if(b&&null!=h){if(b.Ee(e))return Gb(e),e.appendChild(J("br")),k.g(e,0),!0;f=!0}if(O(e,"address,listing,pre"))return b=J("br"),k.a().insertNode(b),k.g(c,d+1),Ub(n.nextNode(b),e)||(k.a().insertNode(J("br")),k.g(c,d+1)),!0;O(e,"li,dt,dd")&&t.Ka(e);if(O(e,"li,dt,dd")&&n.Aa(e))return t.O([e]),n.Bb(e)||(k.rd(e),e.appendChild(J("br"))),O(e,"dd,dt")&&n.Ja(e).every(function(a){return!n.v(e,
a)||!n.B(e,a)})&&(e=k.S(e,"div")),t.R(e),!0;for(d=Cc(k.a().startContainer,k.a().startOffset,e,M(e));0===d.startOffset&&!n.ub(d.startContainer);)d.setStart(d.startContainer.parentNode,L(d.startContainer));for(;d.startOffset===M(d.startContainer)&&!n.ub(d.startContainer);)d.setStart(d.startContainer.parentNode,1+L(d.startContainer));var c=n.ma(d),h=!c.length||1===c.length&&Q(c[0]),c=Jc(k.a()),g=v.qb(),c=N(c,function(a){return"a"!==I(a)},g)||c,c=v.L([c]),l;O(e,"h1,h2,h3,h4,h5,h6")&&h?l="div":P(e,"dt")&&
h?l="dd":P(e,"dd")&&h?l="dt":l=e.tagName.toLowerCase();var m=J(l);for(l=0;l<e.attributes.length;l++)m.setAttributeNS(e.attributes[l].namespaceURI,e.attributes[l].name,e.attributes[l].value);m.removeAttribute("id");m.removeAttribute("class");e.parentNode.insertBefore(m,e.nextSibling);h=n.ob(d);d=d.extractContents();g=n.bc(d);for(l=0;l<g.length;l++)1===g[l].nodeType&&-1===h.indexOf(g[l])&&g[l].removeAttribute("id");for(l=d.childNodes.length-1;0<=l;l--)h=d.childNodes[l],Tb(h)?sc(h)&&G(h):n.Aa(h)&&G(h);
for(m.appendChild(d);n.ub(e.lastChild);)e=e.lastChild;for(;n.ub(m.lastChild);)m=m.lastChild;n.Bb(e)||(e.appendChild(J("br")),v.F(c.map(function(a){a[0]=e;return a})));if(n.Bb(m))m.children&&1===m.children.length&&Q(m.children[0])&&v.F(c.map(function(a){a[0]=m;return a}));else{if(f)return Gb(m),b=b.Hc(m),k.g(b.parentNode,M(b)+1),v.F(c.map(function(a){a[0]=m;return a})),!0;m.appendChild(J("br"));v.F(c.map(function(a){a[0]=m;return a}))}l=0;f&&!b.$c(m)&&(w(3!==m.nodeType,"newContainer for checkbox insertion cannot be text"),
b.Hc(m),l++);b=n.tc(m,l);m=b[0];l=b[1];k.g(m,l);return!0}};q.insertorderedlist={k:!0,I:!0,action:function(){h("ol");return!0},ga:function(){return"mixed"===t.oa()},value:function(){return t.oa()},state:function(){return"ol"===t.oa()},enabled:function(){return k.hasFocus()&&!t.qa()}};q.insertunorderedlist={k:!0,I:!0,action:function(){h("ul");return!0},ga:function(){return"mixed"===t.oa()},value:function(){return t.oa()},state:function(){return"ul"===t.oa()},enabled:function(){return k.hasFocus()&&
!t.qa()}};q.inserttodolist={k:!0,I:!0,action:function(){h("tl");return!0},ga:function(){return"mixed"===t.oa()},value:function(){return t.oa()},state:function(){return"tl"===t.oa()},enabled:function(){return k.hasFocus()&&!t.qa()}};[{name:"justifyfull",mode:"justify"},{name:"justifyleft",mode:"left"},{name:"justifycenter",mode:"center"},{name:"justifyright",mode:"right"}].forEach(function(a){q[a.name]={k:!0,I:!0,action:function(){f(a.mode);return!0},ga:function(){if(!k.a())return!1;var b=n.ob(n.Q(k.a()),
function(a){return n.h(a)&&n.C(a)&&!a.hasChildNodes()});return b.some(function(b){return t.dc(b)==a.mode})&&b.some(function(b){return t.dc(b)!=a.mode})},state:function(){if(!k.a())return!1;var b=n.ob(n.Q(k.a()),function(a){return n.h(a)&&n.C(a)&&!a.hasChildNodes()});return b.length&&b.every(function(b){return t.dc(b)==a.mode})},value:function(){if(!k.a())return"";var a=n.ob(n.Q(k.a()),function(a){return n.h(a)&&n.C(a)&&!a.hasChildNodes()});return a.length?t.dc(a[0]):"left"},enabled:function(){return k.hasFocus()&&
!t.Db()&&!t.qa()}}});q.selectall={action:function(){window.getSelection().selectAllChildren(k.root);return!0},enabled:E,nb:!0};q.tab={k:!0,I:!0,action:function(b){var c="true"===b||1===+b;if(t.Db()||!k.a().collapsed)return k.i(c?"outdent":"indent").action();if(t.je()){var d=a.Wa("table");d&&(b=d.l(),d=d.ec(),c?(b=qc(d,"td",b))&&k.g(b,0):(c=pc(d,"td",b),c||(k.i("inserttablerow").action("after"),c=pc(d,"td",b)),k.g(c,0)))}else c||k.i("inserthtml").action("\u00a0\u00a0\u00a0\u00a0\u00a0");return!0},
enabled:function(){return k.hasFocus()&&!t.qa()}};a.Y=function(a){V('div[style~="margin-left:"]>ul,div[style~="margin-left:"]>ol',a).forEach(function(b){var c=b.parentElement;if(O(c,"div")){for(var d=R(c,"margin-left"),d=+d.replace(/(\d+)em/gi,"$1"),e=null;0<d;){var f=Lb(a,b.tagName);e?e.appendChild(f):c.insertAdjacentElement("afterEnd",f);e=f;d-=2}e&&(Jb(c,e),G(c))}});V('li[style*="list-style:"]',a).forEach(function(a){"none"===R(a,"list-style")&&Ib(a)});V("li",a).forEach(b);V("ol,ul",a).forEach(function(b){var c=
null;na(b.childNodes).forEach(function(b){-1!==["li","ol","ul"].indexOf(I(b))?c=null:sc(b)?G(b):ac(b)?Pb(b,"li"):(c||(c=Lb(a,"li"),b.parentNode.insertBefore(c,b.nextSibling)),c.appendChild(b))})});V('ul[style*="-evernote-list-type"]',a).forEach(function(a){F(a,"en-todo-list");Cb(a).forEach(function(a){if(P(a,"li")){var b=!1,c=U("object.en-todo",a).shift();c&&(b=zb(c,"en-todo-checked"),G(c));Ab(a,"en-todo-over");Bb(a,"en-todo-checked",b)}})})};a.ka=function(a){V("ul.en-todo-list",a).forEach(function(b){Cb(b).forEach(function(b){if(P(b,
"li")){var c=Lb(a,"object",{"class":"en-todo"});Bb(c,"en-todo-checked",zb(b,"en-todo-checked"));b.insertBefore(c,b.firstChild)}})});V("ol>ul,ul>ol,ul>ul,ol>ol",a).forEach(function(b){var c=b.previousSibling;P(c,"li")?c.appendChild(b):(c=Lb(a,"li",{style:"display:inline;list-style:none;"}),b.parentNode.insertBefore(c,b),c.appendChild(b))})}}};function Ie(){function a(a){return J("object",{"class":"en-emoticon"},a)}this.name="typebehind-emoticon-"+Ja();this.sc=function(){return"emoticon"};this.Tc=function(){return/^[\s\S]*:\)[\xa0 ]$/gi};this.be=function(b){var c=a("\ud83d\ude03");b=Cc(b.startContainer,b.startOffset-1);b=b.insertNode(c)||c;var c=b.previousSibling,d=c.textContent.replace(/:\)$/,"");0<d.length?c.textContent=d:G(c);Ec(Cc(b.nextSibling,1))};this.Y=function(b){nc(b).forEach(function(b){Hb(b,a(b.textContent))})};this.ka=function(a){V("object.en-emoticon",
a).forEach(function(a){Hb(a,J("span",{style:"-evernote-sentoj-emoji:true"},a.textContent))})};this.d=function(a){w(!0===a,"typebehind.emoticon only accepts true as opt")}};function Je(){var a=this;a.name="typebehind-url-"+Ja();a.sc=function(){return"url"};a.Tc=function(){return/(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?((?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,}))))(?::\d{2,5})?(?:\/\S*)?/gi};
a.be=function(b){var c=b.startContainer;b=Cc(b.startContainer,b.startOffset-1);var d=J("a");b.insertNode(d);var e=c.textContent.match(a.Tc());b=null;null!=e&&(b=e[0]);w(null!=b,"typebehind: should be impossible for","replacements to run without regex match.");e=d.previousSibling;c=c.textContent.replace(b,"");0<c.length?e.textContent=c:G(e);r(b)&&(d.setAttribute("href",b),d.textContent=b);Ec(Cc(d.nextSibling,1))};a.d=function(a){w(!0===a,"typebehind.url only accepts true as opt")}};function Ke(){var a=this;a.name="typebehind";a.d=function(b){var c=a.b("context"),d=D(b,{emoticon:!1,url:!1}),e=a.b("undo"),g=c.root,f=a.U(),h=new Na;h.set("emoticon",new Ie);h.set("url",new Je);h.P.forEach(function(a){a=Oa(h,a);var b=a.sc(),c=d[b];null!=c&&!1!==c&&f.d(a,d[b])});var m=!1;a.c.a(g,"keypress",function(a){m=32===a.keyCode});a.c.a(g,"keyup",function(){if(m){m=!1;var a=X(g);if(a&&a.collapsed){var b=a.endContainer,c=null;Tb(b)&&(c=b.textContent.substring(0,a.endOffset));if(null!=c)for(b=
0;b<h.P.length;b++){var d=Oa(h,h.P[b]),f=d.Tc();f.lastIndex=0;if(d.N&&f.test(c)){e.ua(function(){d.be(a)});break}}}}});a.Y=function(a){h.P.forEach(function(b){b=Oa(h,b);var c=d[b.sc()];null!=c&&!1!==c&&null!=b.Y&&b.Y(a)})};a.ka=function(a){h.P.forEach(function(b){b=Oa(h,b);var c=d[b.sc()];null!=c&&!1!==c&&null!=b.Y&&b.ka(a)})}}};function Le(){var a=this;a.name="enml";var b=/ +xmlns="(http:\/\/www.w3.org\/1999\/xhtml)?"/g,c=/<en-todo([^>]*?)><\/en-todo>/g,d=/<en-media([^>]*?)><\/en-media>/g,e=/<en-(todo|media)([^>]*?)\/>/g;a.d=function(g){var f=D(g,{root:null}).root||a.b("context").root;a.xc=function(b){b=b.replace(e,"<en-$1$2></en-$1>");var c=null,c=(new DOMParser).parseFromString(b,"text/html");if(null==c)return u.error("Was not able to parse",b),!1;var d=c.body&&c.body.firstElementChild;null==d&&(d=c.querySelector("en-note"));
if(null==d)return u.error("Was not able to extract corrrect node",c),!1;if("en-note"!==I(d))return u.error("Invalid ENML. Expected en-note root node.",d),!1;Ra.forEach(function(a){d.hasAttribute(a)?f.setAttribute(a,d.getAttribute(a)):f.removeAttribute(a)});a.b("transform").lb(d,1);b=f.ownerDocument.importNode(d,!0);Nb(b,f);Y(f,"setDirty",!1);return!0};a.Sc=function(e){var g=D(e,{crypto:null,contentElement:f}),l=g.contentElement;e=document.implementation.createDocument("http://www.w3.org/1999/xhtml",
"en-note",document.implementation.createDocumentType("en-note","","http://xml.evernote.com/pub/enml2.dtd"));var p=e.documentElement;if(l.hasAttributes())for(var k=0;k<l.attributes.length;k++)-1!==Ra.indexOf(l.attributes[k].name.toLowerCase())&&p.setAttribute(l.attributes[k].name.toLowerCase(),l.attributes[k].value);Y(f,"beforeGetContent");k=e.importNode(l,!0);null!=k&&Jb(k,p);a.b("transform").Dc(p,1,g);a.xb.g().forEach(function(a){"transform"!==a.name&&(a.pf?a.pf(p,g):a.ka&&a.ka(p))});l=p.querySelectorAll("*[id],*[class],*[data-en-overlay-id]");
for(k=l.length-1;0<=k;k--){var n=l[k];n.removeAttribute("id");n.removeAttribute("class");n.removeAttribute("data");na(n.attributes).forEach(function(a){0===a.name.indexOf("data-")&&n.removeAttribute(a.name)})}return(new XMLSerializer).serializeToString(e).replace(wa,"").replace(b,"").replace(c,"<en-todo$1 />").replace(d,"<en-media$1 />")};a.c.b({name:"enml",action:function(b){if(!a.xc(b))return!1;(b=a.Wa("undo"))&&b.clear();return!0},value:function(b){return a.Sc(db(b))},enabled:E})}};function Me(){function a(){e.c.a(f,"click",function(a){if(O(a.target,"img:not(.en-object-placeholder)")){var b={};b.src=a.target.getAttribute("src")||"";b.name=a.target.getAttribute("name")||"";a=b||{};a.tagname="img";Fd("clicked",a)}});e.c.a(f,"dblclick",function(a){if(O(a.target,"img:not(.en-object-placeholder)")){var b={};b.src=a.target.getAttribute("src")||"";b.name=a.target.getAttribute("name")||"";a=b||{};a.tagname="img";Fd("doubleClicked",a)}})}function b(a){null!=a&&a!=={}&&(m=a);U("img:not(.en-object-placeholder)",
f).forEach(function(a){!0===a.complete?c(a):e.c.a(a,"load",function(){c(a)})})}function c(a){e.Xd(a);var b=d(a),c=b.width,b=b.height;null==c&&null==b?a.style.height="auto":null!=c&&null!=b&&Math.round(a.naturalHeight/a.naturalWidth*10)===Math.round(b/c*10)&&(a.style.height="auto")}function d(a){var b;null!=a.getAttribute("width")?b=parseInt(a.getAttribute("width"),10):(b=parseInt(a.style.width,10),isNaN(b)&&(b=null));null!=a.getAttribute("height")?a=parseInt(a.getAttribute("height"),10):(a=parseInt(a.style.height,
10),isNaN(a)&&(a=null));return{width:b,height:a}}var e=this;e.name="img";var g,f,h,m=null;e.Sd=function(a){if(null==m)return a.naturalWidth;var b;if(null==m["images-dpi"][a.getAttribute("src")])return a.naturalWidth;b=m["images-dpi"][a.getAttribute("src")][0];a=a.naturalWidth;return 144===b?Math.round(a/(b/72)):a};e.e=function(a){if(null==m)return a.naturalHeight;var b;if(null==m["images-dpi"][a.getAttribute("src")])return a.naturalHeight;b=m["images-dpi"][a.getAttribute("src")][1];a=a.naturalHeight;
return 144===b?Math.round(a/(b/72)):a};e.Xd=function(a){var b=a.naturalWidth,c=e.Sd(a),f=a.naturalHeight,g=e.e(a),h=d(a);null==h.height&&null==h.width&&(b!==c&&T(a,"width",c+"px"),f!==g&&T(a,"height",g+"px"))};e.d=function(c){g=e.b("context");f=g.root;h=D(c,{imageClickEvents:!1,images:null});!0===h.imageClickEvents&&a();b(h.images);e.c.b({name:"images",action:function(a){null==a||ea(a)&&0===Object.keys(a).length||""===a?a=null:a=db(a);b(a);return!0},enabled:E})}};function Ne(){function a(a){if(null==a)return null;c.lastIndex=0;return(a=c.exec(a))&&a[1]?a[1]:null}var b=this;b.name="inline";var c=/^[\'\"]?(.*?)[\'\"]?(,|$)/;b.d=function(){function c(a){var b="";r(a)&&(-1<a.indexOf("+")||-1<a.indexOf("-"))&&(b=a[0],a=a.slice(1));a=wd(a,"px","px");var f=null;if(a&&0<a.value){if(""===b)return f=a.Qa,h.G("fontsize",f),!0;var g=e(a.Ob);if(""!==g&&("+"===b?f=(parseInt(g,10)+a.value).toString()+a.Ob:"-"===b&&(f=(parseInt(g,10)-a.value).toString()+a.Ob),f))return c(f)}return!1}
function e(a,b){a||(a="px");if(!b){var c=g.a();if(!c)return"";var d=null;c.collapsed||(d=h.Xa(c,f.da));null===d&&(d=c.startContainer);b=h.s(d,"fontsize")}return(c=wd(b,a))&&c.value?c.value.toString():"0"}var g=b.b("context"),f=b.b("query"),h=b.b("format"),m=b.b("block"),l=b.b("editor"),p=g.root,k=g.J,n=!1,v=null,t=null;b.c.a(p,"compositionstart",function(){n=!0;g.M();v=h.Fb()});b.c.a(p,"compositionend",function(){n=!1});b.c.K(p,"selectionChanged",function(a){n||(v=null,a=a.wc,null!=a&&(t=Mc(a)))});
b.c.a(p,"input",function(){if(!n&&t)if(v&&(g.M(),h.Ca(v)),v=null,g.Ce()){var a=Nc(t);if(null!=a){var b=X(p),a=Cc(a.startContainer,a.startOffset,b.startContainer,b.startOffset);t=null;a&&(b=h.Fb(),g.ya(a),g.a().collapsed||(h.Ca(b),a=g.a(),a.collapse(!1),g.ya(a),g.ca()))}}else t=null});k.bold={k:!0,aa:!0,action:function(a){a=null==a?!l.queryCommandState("bold"):+a;h.G("bold",a?"bold":"normal");return!0},V:["bold","600","700","800","900"],W:"fontWeight",La:function(a,b){return a==b||"bold"==a&&"700"==
b||"700"==a&&"bold"==b||"normal"==a&&"400"==b||"400"==a&&"normal"==b}};k.italic={k:!0,aa:!0,action:function(a){a=null==a?!l.queryCommandState("italic"):+a;h.G("italic",a?"italic":"normal");return!0},V:["italic","oblique"],W:"fontStyle"};k.underline={k:!0,aa:!0,action:function(a){a=null==a?!l.queryCommandState("underline"):+a;h.G("underline",a?"underline":null);return!0},V:["underline"]};k.strikethrough={k:!0,aa:!0,action:function(a){a=null==a?!l.queryCommandState("strikethrough"):+a;h.G("strikethrough",
a?"line-through":null);return!0},V:["line-through"]};k.tt={k:!0,aa:!0,action:function(a){a=null==a?!l.queryCommandState("tt"):+a;h.G("tt",a?"tt":null);return!0},V:["tt"]};k.fontname={k:!0,aa:!0,action:function(a){h.G("fontname",a);return!0},value:function(){var b=g.a();if(!b)return"";var c=null;b.collapsed||(c=h.Xa(b,f.da));null===c&&(c=b.startContainer);b=h.s(c,"fontname");return a(b)||""},W:"fontFamily",La:function(b,c){return a(b)===a(c)}};k.fontsize={k:!0,aa:!0,action:function(a){return c(a)},
ga:function(){return 2<=h.la(g.a(),f.da).map(function(a){return h.s(a,"fontsize")}).filter(function(a,b,c){return-1==c.slice(0,b).indexOf(a)}).length},value:function(a,b){return e(a,b)},W:"fontSize",La:function(a,b){if(a===b)return!0;var c=a;0<a.indexOf("pt")?c=wd(a,"px").Qa:0>a.indexOf("p")&&(c=a+"px");var d=b;0<b.indexOf("pt")?d=wd(b,"px").Qa:0>b.indexOf("p")&&(d=b+"px");return c===d}};k.forecolor={k:!0,aa:!0,action:function(a){/^([0-9a-fA-F]{3}){1,2}$/.test(a)&&(a="#"+a);if(!/^(rgba?|hsla?)\(.*\)$/.test(a)&&
!md(a)&&"transparent"!=a.toLowerCase())return!1;h.G("forecolor",a);return!0},he:!0,W:"color",La:function(a,b){return ld(a)===ld(b)}};k.backcolor={k:!0,aa:!0,action:function(a){/^([0-9a-fA-F]{3}){1,2}$/.test(a)&&(a="#"+a);if(!/^(rgba?|hsla?)\(.*\)$/.test(a)&&!md(a)&&"transparent"!=a.toLowerCase())return!1;h.G("backcolor",a);return!0},ga:function(){return 2<=h.la(g.a(),function(a){return f.h(a)&&3===a.nodeType}).map(function(a){return h.s(a,"backcolor")}).filter(function(a,b,c){return-1==c.slice(0,
b).indexOf(a)}).length},he:!0,W:"backgroundColor",La:function(a,b){return ld(a)===ld(b)}};k.highlight={k:!0,aa:!0,action:function(a){a=null==a?!l.queryCommandState("highlight"):+a;h.G("highlight",a?"rgb(255, 250, 165)":null);return!0},V:["rgb(255, 250, 165)","rgb(255, 204, 102)","rgb(246, 238, 150)"],W:"backgroundColor",La:function(a,b){return ld(a)===ld(b)}};var x="abbr acronym b bdi bdo big blink cite code dfn em font i ins kbd mark nobr q s samp small span strike strong sub sup tt u var".split(" ");
k.removeformat={k:!0,aa:!0,action:function(){function a(b){return f.h(b)&&-1<x.indexOf(I(b))}h.la(g.a(),a).forEach(function(a){for(;a.hasChildNodes();)g.q(a.firstChild,a.parentNode,L(a));a.parentNode.removeChild(a)});if(f.h(g.a().startContainer)&&3==g.a().startContainer.nodeType&&0!=g.a().startOffset&&g.a().startOffset!=M(g.a().startContainer))if(g.a().startContainer==g.a().endContainer){var b=g.a().endOffset-g.a().startOffset,c=g.a().startContainer.splitText(g.a().startOffset);g.g(c,0,c,b)}else g.Xc(g.a().startContainer.splitText(g.a().startOffset),
0);f.h(g.a().endContainer)&&3==g.a().endContainer.nodeType&&0!=g.a().endOffset&&g.a().endOffset!=M(g.a().endContainer)&&(c=[g.a().startContainer,g.a().startOffset],b=[g.a().endContainer,g.a().endOffset],g.Vc(document.documentElement,0),b[0].splitText(b[1]),g.g(c[0],c[1],b[0],b[1]));h.la(g.a(),f.h).forEach(function(b){for(;a(b.parentNode)&&f.v(b.parentNode,b);)m.O([b])});"subscript superscript bold tt fontname fontsize forecolor highlight backcolor italic strikethrough underline".split(" ").forEach(function(a){h.G(a,
null)});return!0}};["superscript","subscript"].forEach(function(a){k[a]={k:!0,aa:!0,action:function(b){b=null==b?!l.queryCommandState(a):+b;h.G(a,null);b&&h.G(a,a);return!0},ga:function(){var b=h.la(g.a(),f.da);return b.some(function(b){return h.s(b,a)==a})&&b.some(function(b){return h.s(b,a)!=a})||b.some(function(b){return"mixed"==h.s(b,a)})},V:[a]}});if(!0===Sc.rte.highlightMagic)try{var q=null;b.c.a(g.root,"mousedown",function(){q=Cd(g.root)});b.c.a(document,"mouseup",function(a){var b=X(g.root);
b&&!b.collapsed&&q!==Cd(g.root)&&(!a.metaKey||a.altKey||a.shiftKey||a.ctrlKey?a.metaKey&&a.altKey&&!a.shiftKey&&!a.ctrlKey&&Z.execCommand("strikethrough"):Z.execCommand("highlight"));q=null})}catch(A){u.error("Exception in <$>:",A.toString)}}};function Oe(){var a=this;a.name="io";a.d=function(){function b(a){g=!!a;!1===g&&d.flush()}var c=a.b("context"),d=a.b("undo"),e=c.root,g=!1,f;a.c.K(e,"setDirty",function(c){var d=!0;!1===c&&(d=!1);b(d);f=a.c.timeout(function(){g&&Gd("content")},1E3,f)},1);a.e=function(c){var d=D(c,{html:!1,cleanup:!1,stripNS:!1,trim:!0,titleString:null,withInsertionPoint:!1,hiddenCryptoData:null,wrap:!1,resetChangesState:!1,value:"",type:""});d.resetChangesState&&b(!1);if("enml"===(d.type||d.value||""))return a.b("enml").Sc({crypto:d.hiddenCryptoData});
var f=c=null,g=d.withInsertionPoint;Y(e,"beforeGetContent");var k=e,n=Cd(k);if(d.cleanup||g)k=e.cloneNode(!0);!1!==Sc.rte.cryptLegacy&&U("div.en-crypt-revealed,div.en-crypto-revealed",k).forEach(function(a){var b=a.id;0===b.indexOf("en-revealed-crypto:")?d.hiddenCryptoData&&d.hiddenCryptoData[b]?Hb(a,J("embed",{type:"evernote/x-crypto",id:d.hiddenCryptoData[b]})):u.error("Found revealed crypto but not replacement. Key:",b):u.error("Unsupported revealed crypto element with ID:",b)});d.cleanup&&f&&
g&&(f.insertNode(ve()),g=!1);g&&n&&(f=Bd(k,n))&&f.insertNode(ve());d.cleanup&&a.b("transform").Dc(k);d.stripNS?c=Ha(k.outerHTML):c=k.innerHTML;d.trim&&(c=c.trim());return d.html?"<html><head><title></title></head><body>"+c+"</body></html>":d.wrap?xe(k,c):c.replace(wa,"")};a.Vb=function(c,f){b(!1);f&&d.flush();var g=J("div",{},c),g=a.b("transform").lb(g,2,{Yc:!0});Nb(g,e);f?d.flush():d.clear()};a.c.b({name:"content",action:function(b){b=db(b);null!=b.value&&(ma("rte.content called with non-JSON string.",
"String used as new content."),b.content=b.value,delete b.value);b=D(b,{scrollToTop:!0,content:"",undoable:!1,type:"html",placeholder:null,resources:null});Fa(b.resources)||a.b("resource").xd(b.resources);null!=b.placeholder&&e.setAttribute("data-en-placeholder",b.placeholder);"enml"===b.type?a.b("enml").xc(b.content||""):a.Vb(b.content||"",!0===b.undoable);!0===b.scrollToTop&&wc(0,0);Id();return!0},value:function(b){return a.e(db(b))},enabled:E});a.c.b({name:"changes",action:function(a){b(cb(a));
return!0},state:function(){return g},enabled:E,Ya:!0})}};function Pe(){var a=this;a.name="link";a.e=function(a){"a"===I(a.target)&&(window.location.href=a.target.href,a.preventDefault())};a.d=function(){function b(b){if(!b)return!1;a.b("edit").u({Wb:!1});var c=d.a();if(!e.h(d.a().startContainer)&&!e.pa(d.a().startContainer))return!0;e.m(c.startContainer)&&1==c.startContainer.childNodes.length&&Q(c.startContainer.firstChild)&&0==c.startOffset&&c.startContainer.removeChild(c.startContainer.firstChild);c.insertNode(b);d.g(b.parentNode,1+L(b));return!0}function c(){if(!d.a()||
!d.a().startContainer)return null;var a=N(d.a().startContainer,"a[href]",d.root);return a?a.href:null}var d=a.b("context"),e=a.b("query"),g=a.b("format"),f=d.J;f.createlink={k:!0,action:function(a){if(!a)return!1;if(d.a().collapsed){var c=J("a",{href:te(a.toString())});c.textContent=a.toString();return b(c)}g.la(d.a()).forEach(function(b){e.Ja(b).forEach(function(b){e.h(b)&&P(b,"a")&&b.hasAttribute("href")&&b.setAttribute("href",a)})});g.G("createlink",a);return!0},value:function(){return c()||""},
state:function(){return!!c()}};f.unlink={k:!0,action:function(){for(var a=d.a(),b=[],c=a.startContainer;c;c=c.parentNode)P(c,"a")&&c.hasAttribute("href")&&b.unshift(c);for(c=a.startContainer;c!=e.fa(a.endContainer);c=e.nextNode(c))P(c,"a")&&c.hasAttribute("href")&&(e.jc(c,a)||Ub(a.endContainer,c)||c==a.endContainer)&&b.push(c);for(a=0;a<b.length;a++)g.Ec(b[a],"unlink");return!0},value:function(){return c()||""},state:function(){return!!c()}};a.Y=function(a){V("*[href]",a).forEach(function(a){var b=
a.getAttribute("href"),c=te(b);b!==c&&a.setAttribute("href",c)});V("*[src]",a).forEach(function(a){var b=a.getAttribute("src"),c=te(b);b!==c&&a.setAttribute("src",c)})}}};function Qe(){var a=this;a.name="misc";a.d=function(){var b=a.b("context"),c=a.b("normalize");b.J.normalize={nb:!0,action:function(a){if(!a||"all"===a)return c.re(),!0;if(!b.a())return u.warn("Command normalize called without selection. Value:",a),!1;if("start"===a)return c.ab(),!0;if("end"===a)return c.se(),!0;if("selection"===a)return c.wb(),!0;if("edges"===a)return c.Kc(),!0;u.warn("Command normalize called with unknown value:",a);return!1},enabled:E}};a.Y=function(a,c){if(1===c||2==c){var d=a.querySelector('*[title="CommonEditorBuild"]');
null!=d&&(d.textContent=ia().toString(),d=a.querySelector('*[title="CommonEditorDate"]'),null!=d&&(d.textContent=ja().toString()))}}};function Re(){function a(a){this.ba=Ja().toString();this.info={title:"Unknown",mime:"application/octet-stream",hash:"",filename:"",filesize:"",downloaded:"",progress:0,url:null,state:"unloaded",thumbnailURL:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"};this.i=!1;this.l(a);this.v=function(a){a.preventDefault()}}var b=this;b.name="resource";var c="img.en-media",c=c+",embed";a.prototype.A=function(){this.a||(this.a=this.m(),this.b());return this.a};a.prototype.m=function(){var a=
this.info.mime,b=-1!==["image/jpeg","image/png","image/gif","image/tiff","image/svg+xml"].indexOf(a),c="application/pdf"===a,f="application/vnd.evernote.ink"===a,h={src:this.info.url,"class":"en-media"},m=Aa({},this.info.attrs||{});delete m.hash;delete m.type;var l="en-media:"+this.info.mime+":"+this.info.hash;b?h.id=l+":"+(m.width||"none")+":"+(m.height||"none"):(f?(h.type=a,h.border="1"):h.type=c?"evernote/x-pdf":"evernote/x-attachment",h.id=l);Aa(h,m,!0);a=J(this.B?"img":"embed",h);a.setAttribute("data-en-resource-reference",
this.ba);S(a,"height");return a};a.prototype.g=function(){return this.A()};a.prototype.l=function(a){a&&(w(Ba(a)||Ba(this.info),"Info param must be dictionary."),this.info=Aa(this.info,a),this.info.url||(this.info.url="?hash="+this.info.hash),this.info.mime=this.info.mime.toLowerCase(),this.B=-1!==this.info.mime.indexOf("image/"))};a.prototype.b=function(a){this.l(a);this.a&&(this.q&&this.q.setAttribute("src",this.info.thumbnailURL),this.s&&(this.s.textContent=this.info.filename),this.u&&(this.u.textContent=
"loading"===this.info.state&&this.info.downloaded?this.info.downloaded+" / "+this.info.filesize:this.info.filesize),this.e&&(this.e.textContent=this.info.title))};a.prototype.toJSON=function(){return{hash:this.info.hash,url:this.info.url,mime:this.info.mime,rect:K(this.a),reference:this.ba,selected:this.i}};b.d=function(d){function e(a){Kd(this.info.url,"resource",{hash:this.info.hash,mime:this.info.mime,reference:this.ba,action:"open"});a.preventDefault();a.stopPropagation()}function g(a){if(!v){v=
{};for(var b in n){var c=n[b],d=v[c.info.hash];d||(v[c.info.hash]=d=[]);d.push(c)}}return v[a]||[]}function f(a){var b=H(a)?a.getAttribute("data-en-resource-reference"):a.reference,c=null;b&&(c=n[b]);c||(c=h(a));return c}function h(b){var c,d,f;if(b instanceof HTMLElement){"en-media"===I(b)?(c=b.getAttribute("hash"),d=b.getAttribute("type")):(f=b.getAttribute("id"),w(!!f,"ID for non image resources is mandatory!"),f=f.split(":"),d=f[1],c=f[2]);b.getAttribute("x-evernote-mime");f=k[c]||{};f.hash||
(f.hash=c);!f.mime&&d&&(f.mime=d);d={};if(b&&(b=b.attributes))for(c=b.length;c--;)d[b[c].name.toLowerCase()]=b[c].value;f.attrs=d}else Ba(b)&&(f=b);w(f&&f.hash,"Info data or hash inside is missing to create a resource element.");b=new a(f);n[b.ba]=b;b.v=e;return b}var m=b.b("context"),l=m.root,p=m.J,k=d.resources||{},n={},v=null;b.xd=function(a){v=null;w(Ba(a),"Expected dict for resourceInfoDefaults",a);Aa(k,a)};p.resources={k:!0,action:function(a){if(a=eb(a)){var c=!1;a.forEach(function(a){if("update"===
a.action)if(c=!0,a.reference){var d=f(a);d&&d.b(a)}else g(a.hash).forEach(function(b){b.b(a)});else if("insert"===a.action){if(m.Oa())return!1;m.hasFocus()||Z.execCommand("content.focus");m.M();m.He();var e=b.b("paste"),d=h(a),d=d.g();e.insertNode(d);Rc(d)}});c&&setTimeout(function(){b.b("layer").Ba()},0)}return!0},value:function(){var a=window.getSelection();return U(c,l).map(function(b){var c=f(b);c.i=a&&!a.isCollapsed&&a.containsNode(b,!1);return c})},enabled:E};b.Y=function(a,b){if(1===b)for(var c=
a.getElementsByTagName("en-media"),d=c.length-1;0<=d;d--){var e=c[d],f=h(e);w(!!f,"Failed to create resource for",e);Hb(e,f.g())}else V('embed[id^="en-media:"],img[id^="en-media:"]',a).forEach(function(a){var b=h(a);Hb(a,b.g())})};b.ka=function(a,b){1===b?V(c,a).forEach(function(a){var b=f(a);b&&(a=Pb(a,"en-media"),a.removeAttribute("src"),a.removeAttribute("class"),a.removeAttribute("id"),a.removeAttribute("data-en-resource-reference"),a.setAttribute("type",b.info.mime),a.setAttribute("hash",b.info.hash))}):
V('embed[id^="en-media:"],img[id^="en-media:"],.en-object-placeholder',a).forEach(function(a){a.removeAttribute("class");a.removeAttribute("data-en-resource-reference")})}}};function Se(){function a(a){n.call(this,a)}function b(a){n.call(this,a)}function c(a){n.call(this,a)}function d(a){n.call(this,a)}function e(a){n.call(this,a)}function g(a){n.call(this,a)}function f(a){n.call(this,a)}function h(a){n.call(this,a)}function m(a){a.Nd=!0;n.call(this,a)}function l(a){n.call(this,a)}function p(a){n.call(this,a)}function k(a){n.call(this,a)}function n(a){if(!(this instanceof n))return new n(a);this.a=a;this.d()}function v(a){var b=R(a.Dd,"-evernote-context-name");b&&(T(a.Td,
"-evernote-context-name",b),a.Td.textContent=a.f.jb[b+"-label"]||b)}function t(a,b){a.Dd=x(a.Va,"context");a.Td=x(a.ed,"context");var c=a.Dd,d=R(c,"-evernote-context-name");F(c,"en-editable-context");var e;Gb(c);c.appendChild(e=J("span"));e.textContent=a.f.jb[d+"-label"]||d;for(var f=[],g=0;g<b.length;g++){var h=b[g],k=J("option",{value:h},[a.f.jb[h+"-label"]||h]);h===d&&k.setAttribute("selected","selected");f.push(k)}var l=J("select",{"class":"en-editable-select-context",tabindex:"-1"},f);c.insertBefore(l,
null);y.c.a(l,"change",function(){var b=l.value;T(c,"-evernote-context-name",b);e.textContent=a.f.jb[b+"-label"]||b;if(a.f.Sb instanceof Object)try{var d=a.f.Sb[a.name];d&&d(a)}catch(f){u.error("Exception on onDidChangeActions (2)",f.toString())}a.f.Pc=a.name;la=!0});c.parentElement.style.textDecoration="none"}function x(a,b){for(var c=na(a.querySelectorAll("*[style*='x-evernote:']")),d=0;d<c.length;d++){var e=c[d];if(R(e,"x-evernote")===b)return e}return null}function q(a){var b=a.n;F(b,"en-editable");
F(b,"en-editable-"+a.type);F(b,("en-"+a.f.Kb+"-"+a.name).toLowerCase());b.setAttribute("title",(a.f.jb[a.name+"-placeholder-title"]||"...")+"\u00a0\u00a0\u00a0");ec(b,!0);z(a);a.f.nd&&b.removeAttribute("style");var c=null;y.c.a(b,"focus",function(){c=a.object.b();La(function(){window.getSelection().selectAllChildren(b)})});y.c.a(b,"input",function(){la=!0});y.c.a(b,"blur",function(){Hc();z(a);var b=!1;if(a.f.Sb instanceof Object)try{var d=a.f.Sb[a.name];d&&d(a)&&(b=!0)}catch(e){u.error("Exception on onDidChangeActions (1)",
e.toString())}d=a.object.b();if(b||c!==d)a.f.Pc=a.name,la=!0});y.c.a(b,"keydown",function(c){var d=!1;13===c.keyCode?a.Nd||(b.blur(),d=!0):8===c.keyCode&&(document.execCommand("delete"),d=!0);return d?bd(c):!1})}function A(a,b){var c=a.innerText.trim();Ea(c)?c="\u00a0":b?(c=c.split("\n"),c=c.map(function(a){return Ea(a)?"<div><br/></div>":"<div>"+Ia(a)+"</div>"}),c=c.join("")):c=Ia(c.replace(/\n/g," "));return c}function z(a){w(!!a,"We need field info");w(!!a.n,"We need an element to work on");var b=
a.n;b.innerHTML=A(b,a.Nd);Ea(b.textContent)?F(b,"en-editable-placeholder"):Ab(b,"en-editable-placeholder");a.Wc=b.innerHTML}var y=this,C=null;w(this instanceof Se,"Use `new` to instantiate this class");y.name="template";var la=!1;n.prototype.d=function(){};n.prototype.b=function(){return this.a.n.innerHTML};n.prototype.Zb=function(a){var b=this.b();this.a.Tb.innerHTML=b;a&&this.a.f.Pc===this.a.name&&this.a.Tb.insertBefore(ve(),null)};ga(k,n);ga(p,n);p.prototype.b=function(){return A(this.a.n)};ga(l,
n);l.prototype.d=function(){q(this.a)};l.prototype.b=function(){return A(this.a.n)};ga(m,l);m.prototype.b=function(){try{return A(this.a.n,!0)}catch(a){u.error("getHTML 'PlainTextArea.prototype.getHTML' failed ",a)}return null};ga(h,n);h.prototype.d=function(){this.a.n=x(this.a.Va,"value");this.a.Tb=x(this.a.ed,"value");w(!!this.a.n,"x-evernote:value element missing in phone field");q(this.a);t(this.a,"phone home work mobile main home-fax work-fax other".split(" "))};h.prototype.b=function(){return A(this.a.n)};
h.prototype.Zb=function(a){h.Xb.Zb.call(this,a);v(this.a)};ga(f,n);f.prototype.g=function(a,b){w(b instanceof Object);b.href=a;return J("a",b,[a])};f.prototype.j=function(){var a=this.a.n.textContent;return!a||Ea(a)?"":a.trim()};f.prototype.d=function(){function a(){Ab(f,"en-editable-hidden");F(e,"en-editable-hidden");Gb(g);var c=b.j();Ea(c)?(Ab(e,"en-editable-hidden"),F(f,"en-editable-hidden")):g.appendChild(b.g(c,{tabindex:"-1"}));e.textContent=c}var b=this;this.a.n=x(this.a.Va,"value");this.a.Tb=
x(this.a.ed,"value");w(!!this.a.n,"x-evernote:value element missing in LinkField");var c=this.a.n,d=this.j();S(c,"text-decoration");Gb(c);var e;c.appendChild(e=J("div"));e.textContent=d;this.a.n=e;q(this.a);var f,g;c.appendChild(f=J("div",{"class":"en-editable-preview"},[g=J("span")]));a();y.c.a(f,"click",function(){e.focus()});y.c.a(e,"focus",function(){Ab(e,"en-editable-hidden");F(f,"en-editable-hidden")});y.c.a(e,"blur",function(){a()});F(this.a.Va,"en-editable-container")};f.prototype.b=function(){var a=
this.a.n.textContent;return Ea(a)?"\u00a0":Ia(this.g(a,{}))};ga(g,f);g.prototype.d=function(){g.Xb.d.call(this);t(this.a,["email","home","work","other"])};g.prototype.Zb=function(a){g.Xb.Zb.call(this,a);v(this.a)};g.prototype.g=function(a,b){a=a.trim().replace(/^mailto:/,"");w(b instanceof Object);b.href="mailto:"+a;return J("a",b,[a])};ga(e,f);e.prototype.j=function(){var a=this.a.n.textContent;if(!a)return"";a=a.trim().replace(/^\@/,"");return Ea(a)?"":a};e.prototype.g=function(a,b){w(b instanceof
Object);b.href="http://twitter.com/"+encodeURIComponent(a);return J("a",b,["@"+a])};ga(d,f);ga(c,f);ga(b,f);b.prototype.j=function(){var a=this.a.n.textContent;if(!a)return"";a=a.trim().replace(/^\@/,"");return Ea(a)?"":a};b.prototype.g=function(a,b){w(b instanceof Object);return document.createTextNode("@"+a)};ga(a,f);a.prototype.g=function(a,b){a=a.trim();w(b instanceof Object);b.href="http://maps.google.com/?q="+encodeURIComponent(a);return J("a",b,[a])};var W={title:p,field:l,textarea:m,phone:h,
email:g,twitter:e,linkedin:d,facebook:c,weibo:b,address:a,"profile-image":k},ab=Object.keys(W);y.t=function(){C===document.body?(y.Pa=document.body.parentNode.cloneNode(!0),na(y.Pa.getElementsByTagName("head")).forEach(function(a){G(a)})):y.Pa=C.cloneNode(!0);var a=y.j(C),b=y.j(C===document.body?y.Pa.getElementsByTagName("body")[0]:y.Pa);y.$=[];for(var c=0;c<a.length;c++)try{var d=a[c];d.index=c;d.Tb=b[c].n;d.f=this.f;d.Va=d.n;d.ed=d.Tb;d.object=new W[d.type](d);y.$.push(d)}catch(e){u.error("A field failed during setup",
e.toString())}};y.ee=function(a){a=D(a,{oc:null,Kb:null,nc:null,nd:!1,od:null,pd:null,dd:{},Sb:{},jb:{},Pc:null,root:null});y.f=a;C=a.root||document.getElementById("en-note");w(C&&H(C),"Root not valid!");we(C);w(null!==y.f.oc,"Content Class is required");y.f.Kb=y.f.Kb||y.f.oc.replace(/[^\w]+/gi,"-");F(C,"en-template-style-on");F(C,y.f.Kb);y.t();y.c.K(C,"setDirty",function(a){var b=!0;!1===a&&(b=!1);la=!!b});null!==y.f.pd&&y.ld(y.f.pd);y.w=function(a){y.ld(a.value)};y.c.g("titlechanged",y.w);if(y.f.dd instanceof
Object)for(var b=0;b<y.$.length;b++)try{var c=y.$[b],d=y.f.dd[c.name];d&&d(c)}catch(e){u.error("Exception on onDidInitActions (3)",e.toString())}b=this.U();b.d(new le,{root:C});b.d(new Le);b.d(new Re);y.Hb();b=a.html;a=a.enml;w(!(null!=b&&null!=a),"You can only provide one content type: html or enml");r(b)?y.Vb(b):r(a)&&w(!1,"ENML currently not supported for Templates")};y.r=function(){Ab(C,"en-template-style-on");Ab(C,y.f.Kb);for(var a=0;a<this.$.length;a++)try{ad(this.$[a].n)}catch(b){u.error("Exception on cleanup",
b.toString())}U(".en-editable-select-context,.en-editable-preview",C).forEach(function(a){ad(a)});this.$=[]};y.hasFocus=function(){var a=X(C);return a&&(a=Jc(a))?N(a,dc):!1};y.Hb=function(){function a(b,c){c=D(db(b),c,!0);var d=c.value;"html"===c.type&&(d=Kb(d,C).textContent);document.execCommand("inserttext",!1,d.replace(/\s+/gi," "));return!0}y.c.Ub({Ma:["content","template"]});y.c.b({name:"focus",action:function(){y.focus();return!0},state:function(){return y.hasFocus()},value:function(){if(y.hasFocus())return y.name},
enabled:E});y.c.b({name:"paste",action:function(b){return a(b,{type:"html",mode:"plain",value:""})},enabled:E});y.c.b({name:"pasteplain",action:function(b){ma('Please use execCommand("template.paste", { type: "plain", mode: "plain", "value": ... })');return a(b,{type:"plain",mode:"plain",value:""})},enabled:E});y.c.b({name:"copy",enabled:E,value:function(){var a=X(C);if(!a||a.collapsed)return"";var b={},a=a.cloneContents(),c=document.createElement("div");c.appendChild(a);uc(c,function(a){b.plain=
a.innerText});return JSON.stringify(b)}});y.c.b({name:"content",action:function(a){a=db(a);null!=a.value&&(ma("rte.content called with non-JSON string.","String used as new content."),a.content=a.value,delete a.value);a=D(a,{scrollToTop:!0,content:"",type:"html",resources:null});Fa(a.resources)||y.b("resource").xd(a.resources);var b=a.content||"";"enml"===a.type?y.U().a("enml").xc(b):y.Vb(b);y.t();!0===a.scrollToTop&&wc(0,0);Id();return!0},value:function(a){return y.e(db(a))},enabled:E});y.c.b({name:"changes",
action:function(a){la=!!cb(a);return!0},state:function(){return la},enabled:E,Ya:!0})};y.focus=function(a){for(a=+a||0;a<this.$.length;a++){var b=this.$[a];if(!b.Od){b.n.focus();break}}};y.ld=function(a){if(a&&0<a.length&&255>=a.length){for(var b,c=0;c<this.$.length;c++)if(!0===this.$[c].Od){b=this.$[c];break}b&&b.n.textContent!==a&&(b.n.textContent=a,b.Wc=b.n.innerHTML)}};y.j=function(a){return na(a.querySelectorAll("*[style*='-evernote-editable:']")).map(function(a){var b=R(a,"-evernote-editable");
if(0<=ab.indexOf(b)){var c=R(a,"x-evernote"),d=this.f.od&&this.f.od===c;d&&(b="title");return d||null===this.f.nc||this.f.nc.some(function(a){return c===a})?{n:a,name:c,type:b,Od:d}:void 0}u.error("Invalid -evernote-editable field mode!",b)},this).filter(function(a){return a&&a.n})};y.Vb=function(a){var b=J("div");b.innerHTML=a;Nb(b,C)};y.e=function(a){a=D(a,{html:!1,cleanup:!1,stripNS:!1,trim:!0,withInsertionPoint:!1,titleString:"",hiddenCryptoData:null,resetChangesState:!1,wrap:!1,type:""});a.resetChangesState&&
(la=!1);r(a.titleString)&&this.ld(a.titleString);for(var b=0;b<this.$.length;b++){var c=this.$[b];try{c.object.Zb(a.withInsertionPoint)}catch(d){u.error("Unable to extract data from field",d.toString(),c)}}if("enml"===(a.type||a.value||""))return y.U().a("enml").Sc({crypto:a.hiddenCryptoData,contentElement:y.Pa.cloneNode(!0)});b="html"===I(this.Pa)||a.stripNS?this.Pa.outerHTML:this.Pa.innerHTML;a.stripNS&&(b=Ha(b));b=b.trim();return a.html?"<html><head><title></title></head><body>"+b+"</body></html>":
a.wrap?xe(C,b):b};y.d=function(a){var b=a.contentClass,c=a.title,d=a.localization;if("evernote.food.meal.2"===b)this.ee({root:a.root||null,oc:b,nc:["caption-text","meal-review"],nd:!0,od:"title",pd:c});else if("evernote.contact.1"===b){var e=function(a){return(a=a.n.textContent)?a.replace(/\s+/g," ").trim():null},f=null,g=c;this.ee({root:a.root||null,oc:b,nc:"contact-title contact-org note-body weibo twitter phone email address display-as".split(" "),nd:!1,jb:d||{"display-as-placeholder-title":"Add Name...",
"contact-title-placeholder-title":"Add Title...","contact-org-placeholder-title":"Add Company...","note-body-placeholder-title":"Add Notes...","linkedin-placeholder-title":"Add LinkedIn URL...","facebook-placeholder-title":"Add Facebook URL...","twitter-placeholder-title":"Add Twitter Name...","weibo-placeholder-title":"Add Weibo Name...","phone-placeholder-title":"Add Phone...","email-placeholder-title":"Add Email...","address-placeholder-title":"Add Address...","email-label":"Email","home-label":"Home",
"work-label":"Work","other-label":"Other","phone-label":"Phone","mobile-label":"Mobile","main-label":"Main","home-fax-label":"Home Fax","work-fax-label":"Work Fax","twitter-label":"Twitter","facebook-label":"Facebook","weibo-label":"Weibo","linkedin-label":"LinkedIn","address-label":"Address"},dd:{"display-as":function(a){f=e(a)}},Sb:{"display-as":function(a){g=Od.value("title.content");var b=!1;a=e(a);if(f&&a&&g){var c=new RegExp("\\b"+sa(f)+"\\b","g");if(c=g.replace(c,a))255<c.length&&(c=g),Od.action("title.content",
c),Od.action("title.changes",!0),b=!0,f=a}return b}}})}}};function Te(a){a=I(a);return"p"===a||"div"===a}function Ue(a){a=I(a);return"ul"===a||"ol"===a}function Ve(a){return"td"===a||"th"===a}function We(a){return a?!!N(a,function(a){return a&&a.style?"rgb(255, 250, 165)"===a.style.backgroundColor:!1}):!1}function Xe(a,b,c,d){b=b.getAttribute(c);if(null===b||void 0===b){if(void 0===d)return;b=d}a.setAttribute(c,b)}
function Ye(a,b,c){"undefined"===typeof c&&(c={});this.i=c;w(null!=this.i.Yb,"You have to provide tablePlugin config!");void 0!==c.cssBlockStyle?this.u=c.cssBlockStyle:this.u=this.ud;this.C=!!c.async;if(!a)a=document.body;else if(a instanceof DocumentFragment||!Xb(a))c=J("div"),c.appendChild(a),document.body.appendChild(c),this.M=a=c;this.l=a;this.pb=b;this.bd()}aa=Ye.prototype;aa.Bc="div";aa.ud=null;
aa.bd=function(){var a=this;this.J=this.B=this.s=this.b=this.a=null;this.q=J("div");this.F=this.m=null;this.g=!1;this.e=[];var b=Yb(document.body);this.R=b&&b.fontSize?.8*+b.fontSize.replace(/px/gi,""):16;if(this.C){this.v=this.G=this.L=0;this.A=!1;this.O=this.j=(new Date).getTime();for(var b=document.createNodeIterator(this.l,-1,null,!0),c=0;b.nextNode();)++c;this.Q=c}this.S=document.createTreeWalker(this.l,-1,{acceptNode:function(b){for(var c=0;c<a.e.length;c++)if(Ub(b,a.e[c]))return 2;return 1}},
!0);Ze(this)};function Ze(a){if(a.ca)a.r();else{for(var b;(b=a.S.nextNode())&&!(3===b.nodeType?$e(a,b):1===b.nodeType&&a.Ld(b),a.C&&(++a.L,150<(new Date).getTime()-a.j)););++a.G;if(b&&a.C){a.v=Math.min(1,a.L/a.Q);a.A||(b=((new Date).getTime()-a.O)/a.v,b+=10*(Math.ceil(a.G/a.v)-a.G),2E3<=b&&(a.A=!0));if(a.A&&a.i.onprogress)a.i.onprogress(a,a.v);window.setTimeout(function(){a.j=(new Date).getTime();Ze(a)},10)}else{a.e=null;af(a.a);if(a.A&&a.i.onprogress)a.i.onprogress(a,1);a.ad()}}}
aa.ad=function(){this.pb?Nb(this.q,this.pb):this.pb=this.q;this.r();if(this.i.onready)this.i.onready(this)};aa.r=function(){this.M&&document.body.removeChild(this.M)};
function af(a){if(a){for(var b,c=document.createNodeIterator(a,4,null,!0);(b=c.nextNode())&&!(b.textContent=b.textContent.replace(/^ /gi,""),0<b.textContent.length);)Tb(b)?b.parentNode.appendChild(J("br")):b.appendChild(J("br"));for(var c=document.createNodeIterator(a,4,null,!0),d=[];b=c.nextNode();)d.unshift(b);for(c=0;c<d.length&&!(b=d[c],b.textContent=b.textContent.replace(/\s+$/gi,""),0<b.textContent.length);c++)Tb(b)?b.parentNode.appendChild(J("br")):b.appendChild(J("br"));a.normalize()}}
aa.Lb=function(a){a=J(a?a:this.Bc);this.u&&a.setAttribute("style",this.u);return a};function bf(a){var b=a.Lb();b.appendChild(J("br"));a.q.appendChild(b);a.g=!1}function cf(a,b){var c=a.Lb();null!=b&&(r(b)?c=a.Lb(b):H(b)&&(c=b));if(a.q.hasChildNodes&&a.g){var d=a.q.lastElementChild;d&&d.textContent.length&&Te(d)&&Te(c)&&bf(a)}a.g=!1;a.q.appendChild(c);return c}function df(a){af(a.a);a.a=null;a.b=null}
function ef(a,b){var c=document.createRange();c.selectNodeContents(b);c=c.getBoundingClientRect();a.F&&c&&!Ub(b,a.b)&&Math.abs(c.top-a.F.bottom)>=a.R&&(a.g=!0);c&&(a.F=c)}function ff(a){return"div"===I(a)&&1===a.childNodes.length&&"br"===I(a.childNodes[0])}
aa.sa=function(a,b,c,d){c=!Ub(a,this.b);if(d&&c)return null;b||(b=a.cloneNode(!1));ef(this,a);c&&(H(this.b)&&(d=I(this.b),Ve(d)&&(this.g=!0)),df(this));for(c=a;c!==this.l&&(c=c.parentNode);){this.b=c;d=I(c);if("li"===d)break;if(Ve(d))break;if($b(c))break}if(N(a,"table"))if(d=N(a,"table"),c=this.i.Yb,null!=d&&null!=c&&H(d)&&"table"===I(d)){var e=c.Kd(d);-1!==e.rows&&(this.B!==d&&(this.B=d,this.J=c.Ed(e),ff(this.B.previousSibling)&&bf(this),cf(this,this.J),ff(this.B.nextSibling)&&bf(this)),d=c.gd(a),
null!=d.table&&(c=d=this.J.querySelectorAll("tr")[d.row].querySelectorAll("td")[d.column],null==d?u.warn("Something crazy happened with table simplify: <$>"):(1===d.childNodes.length&&"div"===I(d.childNodes[0])&&(c=d.childNodes[0],1===c.childNodes.length&&"br"===I(c.childNodes[0])&&Gb(c)),this.a=c)))}else u.warn("Couldn't simplify table. Look into this!");if(N(a,"li"))a:if(d=N(a,"li"),null==d)this.s=null;else{if(Tb(a)){if(-1!==a.textContent.search(/^\s*$/i))break a;a.textContent.replace(/\s+/gi," ")}if(this.m&&
this.s===d)this.a=this.m,(d=this.m.lastChild)&&!ac(d)&&a&&!ac(a)||this.a.appendChild(J("br"));else{var g=0;c=null;for(var f=d;f&&f!==this.l;)Ue(f)&&(++g,c||(c=I(f))),f=f.parentNode;g=Math.max(0,g);e=null;for(this.a&&0<this.a.childNodes.length?f=this.a:f=this.q;;){f=f.lastElementChild;if(!f)break;if(Ue(f)&&(e=f,--g,1>g))break}if(0<g&&e)g=e.lastElementChild,e=cf(this,c||"ol"),g.appendChild(e);else if(!e)null!=this.a?(e=J(c||"ol"),this.a.appendChild(e)):e=cf(this,c||"ol");else if(this.g||c&&c!==I(e))null!=
this.a?(e=J(c||"ol"),this.a.appendChild(e)):e=cf(this,c||"ol");this.a=this.Lb("li");e.appendChild(this.a);this.s=d;this.m=this.a}}a=this.Uc(a);this.a||(this.a=cf(this));this.a.appendChild(this.md(b,a));return b};
function $e(a,b){if(b){var c;if((c=Yb(b.parentNode))&&/pre/gi.test(c.whiteSpace)){var d=b.textContent.split(/\n\r|\r\n|\r|\n/gi);if(d&&0<d.length){c=d[0].replace(/\s/gi," ").replace(/\s\s/gi,"\u00a0 ");var e=a.sa(b,document.createTextNode(c));if(e)for(var g=1;g<d.length;g++){var f=e.parentNode;f.appendChild(J("br"));c=d[g].replace(/\s/gi," ").replace(/\s\s/gi,"\u00a0 ");f.appendChild(document.createTextNode(c))}}}else c=b.textContent.replace(/[\ \n\r\t]+/gi," "),d=!1,-1!==c.search(/^[\ \t\n]*$/i)&&
(d=!0),a.sa(b,document.createTextNode(c),!1,d)}else u.warn("Node missing",b)}
aa.Ld=function(a){if(a){var b=I(a);"div"===b&&/^en-revealed-crypto:\d+$/.test(a.id)?(df(this),this.sa(a,a.cloneNode(!0),!0),df(this),this.e.push(a)):"embed"===b?(b=bc(a,"type").toLowerCase(),"evernote/x-crypto"!==b&&"evernote/x-todo"!==b&&"evernote/x-attachment"!==b&&"evernote/x-pdf"!==b||this.sa(a)):"script"===b||"style"===b?this.e.push(a):"object"===b&&O(a,"object.en-todo")?this.sa(a):"img"===b&&a.src?(df(this),b=J("img"),Xe(b,a,"src"),Xe(b,a,"alt",""),Xe(b,a,"id"),this.sa(a,b,!0),df(this)):"hr"===
b?(df(this),b={},"true"===R(a,"-evernote-encp-section-break")&&(b={style:"display:none;-evernote-encp-section-break:true;"}),this.sa(a,J("hr",b),!0),df(this)):"br"===b?(df(this),bf(this)):this.a&&a&&($b(a)||!Vb(this.b,a))&&df(this)}else u.warn("Node missing",a)};
aa.Uc=function(a){for(var b={Ib:0,kb:0,Gd:0,Bd:0,Md:0,zc:0,hd:0};a||a===this.l;){var c=I(a);"del"===c||"strike"===c||"s"===c?b.hd=1:"mark"===c?b.kb=1:"a"===c&&(c=a.href+"")&&c.length&&(b.Ib=c,b.Gd=0===c.indexOf("evernote://"));if(c=Yb(a)){var d=c.backgroundColor.toLowerCase();if("rgb(255, 204, 102)"===d||"rgb(255, 250, 165)"===d||"rgb(246, 238, 150)"===d||We(a))b.kb=1;var d=c.fontWeight.toLowerCase(),e=c.fontStyle.toLowerCase(),c=c.textDecoration.toLowerCase();if("bold"===d||"bolder"===d||"700"===
d)b.Bd=1;if("italic"===e||"oblique"===e)b.Md=1;!b.Ib&&0<=c.indexOf("underline")&&(b.zc=1);0<=c.indexOf("line-through")&&(b.hd=1)}a=a.parentNode}b.Ib&&b.zc&&delete b.zc;return b};
aa.md=function(a,b){var c;b.Ib&&(c=J("a"),c.setAttribute("href",b.Ib),b.Gd&&c.setAttribute("style","color:rgb(105, 170, 53);"),c.appendChild(a),a=c);b.Bd&&(c=J("b"),c.appendChild(a),a=c);b.Md&&(c=J("i"),c.appendChild(a),a=c);b.zc&&(c=J("u"),c.appendChild(a),a=c);b.hd&&(c=J("s"),c.appendChild(a),a=c);b.kb&&(c=J("span",{style:"-evernote-highlight:true; background-color:rgb(255, 250, 165);"}),c.appendChild(a),a=c);return a};
function gf(a,b,c){if(!(this instanceof gf))return new gf(a,b,c);Ye.call(this,a,b,c)}ga(gf,Ye);function hf(a,b,c){if(!(this instanceof hf))return new hf(a,b,c);Ye.call(this,a,b,c)}ga(hf,Ye);aa=hf.prototype;aa.Bc="div";aa.ud='font-family: Courier, "Courier New", monospace;';aa.bd=function(){this.D=[];hf.Xb.bd.call(this)};aa.ad=function(){this.g=!0;for(var a=0;a<this.D.length;a++)this.a=cf(this),this.a.appendChild(this.D[a]);hf.Xb.ad.call(this)};
aa.Lb=function(){var a=J(this.Bc);this.u&&a.setAttribute("style",this.u);return a};
aa.sa=function(a,b,c,d){c=!Ub(a,this.b);if(d&&c)return null;b||(b=a.cloneNode(!1));ef(this,a);c&&(H(this.b)&&(d=I(this.b),Ve(d)&&(this.g=!0)),df(this));for(c=a;c!==this.l&&(c=c.parentNode);){this.b=c;d=I(c);if("li"===d)break;if(Ve(d))break;if($b(c))break}d=N(a,"li");if(!this.a&&d)if(this.m&&this.s===d)this.a=this.m,this.a.appendChild(J("br"));else{c=0;for(var e=d;e&&e!==this.l;)Ue(e)&&++c,e=e.parentNode;c=Math.max(0,c);this.a=cf(this);for(e="- ";1<c;)e="\u00a0 \u00a0 "+e,--c;this.a.appendChild(document.createTextNode(e));
this.s=d;this.m=this.a}else this.s=null,this.a||(this.a=cf(this));a=this.Uc(a);this.a.appendChild(this.md(b,a));return b};
aa.Ld=function(a){var b;b=I(a);"object"===b&&O(a,"object.en-todo")?(b=zb(a,"en-todo-checked"),this.sa(a,document.createTextNode(b?"[x] ":"[ ] "))):"embed"===b?(b=bc(a,"type").toLowerCase(),"evernote/x-todo"===b?(b="true"===(bc(a,"todo-checked")+"").toLowerCase(),this.sa(a,document.createTextNode(b?"[x] ":"[ ] "))):"evernote/x-attachment"!==b&&"evernote/x-pdf"!==b||this.D.push(a.cloneNode(!0))):("script"!==b&&"style"!==b||this.e.push(a),"img"!==b&&("hr"===b?df(this):"br"===b?df(this):Ve(b)?(df(this),
this.g=!0):!this.a||!$b(a)&&Vb(this.b,a)||df(this)))};aa.Uc=function(){return{}};aa.md=function(a){return a};
function jf(){var a=this;this.name="simpletext";this.d=function(){function b(b,g){var m=c.a(),l,p,k;if(m&&!m.collapsed){d.Kc();var n=Jc(m),v=Kc(m),n=Uc(n,e),v=Uc(v,e);if(n===v)p=[n,v];else if(l=oc(n),p=oc(v),l[0]!==p[0])p=[n,v];else{for(k=0;k<l.length&&k<p.length&&l[k]===p[k];k++);n=[n,v];k<l.length&&(n[0]=l[k]);k<p.length&&(n[1]=p[k]);p=n}l=p[0];n=p[1];k=n.nextSibling;p=n.parentNode;l===n?c.Zc(l):c.g(l,0,n,n.childNodes.length);l=c.a().cloneContents()}if(l){v=(new b(l,null,g)).pb.childNodes;l=v[0];
var n=v[v.length-1],t=m.startContainer,m=m.endContainer;for(k&&Tb(k)&&0===k.length&&(k=null);0<v.length;)null!==k?c.insertBefore(v[0],p,k):c.hb(v[0],p);a.b("edit").u({Wb:!0});m!==p&&m!==e&&m!==t&&c.removeNode(m);t!==e&&t!==p&&c.removeNode(t);m=Fb(n);c.g(Db(l),0,m,m.length)}else new b(e,e,g),c.g(e,0),c.ca();return!0}var c=a.b("context");a.b("query");var d=a.b("normalize"),e=c.root,g=c.J;g.simpletext={k:!0,action:function(c){null!=c&&ma("simpletext called with an argument!");return b(gf,{Yb:a.b("table")})},
enabled:E};g.plaintext={k:!0,action:function(d){var e=null,g=null,g="",e=null;d=db(d);null!=d.value&&(ma("plaintext called with non-JSON string"),d={});d=D(d,{fontStyle:"fixed width"});"fixed width"===d.fontStyle?(e=J("tt",{style:"position: absolute;"}),document.body.appendChild(e),g=Yb(e),g="font-family:"+g.fontFamily+"; font-size:"+g.fontSize+"; font-weight:"+g.fontWeight,G(e)):"none"===d.fontStyle&&c.i("removeformat").action();e={cssBlockStyle:g,Yb:a.b("table")};return b(hf,e)},enabled:E}};this.we=
function(b){return(new gf(b,null,{Yb:a.b("table")})).pb};this.Pd=function(b){return(new hf(b,null,{Yb:a.b("table"),cssBlockStyle:""})).pb}};function kf(){this.name="spellcheck";this.root=null;this.d=function(){function a(a,b){var c;null!=a&&null!=b&&3===a.nodeType&&a===b.startContainer&&a===b.endContainer&&!0!==b.collapsed&&(c=a.data.substr(b.startOffset,b.endOffset-b.startOffset),a.replaceData(b.startOffset,c.length,c))}var b=this.b("context"),c=this.b("format");this.root=b.root;this.Ga=function(){var d=c.Fb(),e,g=X(),f=Cd(b.root);null!=g&&g.startContainer===g.endContainer&&3===g.startContainer.nodeType&&!1!==g.collapsed&&(g=g.startContainer,
e=window.getSelection(),e.modify("move","backward","word"),e.modify("extend","forward","word"),e=X(),a(g,e),Dd(b.root,f),e=window.getSelection(),e.modify("move","forward","word"),e.modify("extend","backward","word"),e=X(),a(g,e),Dd(b.root,f));b.M();c.Ca(d)};return this};this.r=function(){this.root=this.Ga=null}};function lf(){var a=this;a.name="stats";a.d=function(){var b=a.b("context"),c=a.b("query"),d=a.b("todo"),e=b.root,b=b.J;a.getStats=function(a){var b={};a=D(a,{stats:["todo","firstLine"]});a=a.stats;w(da(a));-1!==a.indexOf("todo")&&(b.todo=d.Nc().length);if(-1!==a.indexOf("firstLine"))for(var h;h=Sb(h,e);)if(h&&!Ea(h.textContent)){b.firstLine=c.A(h).innerText.substr(0,255).trim();break}return b};b.stats={k:!1,value:function(b){return a.getStats(db(b))},enabled:E,nb:!0}}};function mf(){this.name="table";this.d=function(){var a=this,b=a.b("context"),c=a.b("query"),d=a.b("block"),e=b.root,g=b.J;a.l=function(){var a=b.a();if(!a)return null;var c=N(a.startContainer,"table",e),a=N(a.endContainer,"table",e);return!c||a&&a!==c?null:c};a.e=function(){return a.l()?N(b.a().startContainer,"tr",e):null};a.ec=function(){return a.l()?N(b.a().startContainer,"td",e):null};a.j=function(){var b;if(null==b&&(b=a.l(),null==b))return[];var c=window.getSelection(),d=[],e=[],g=[];B(b.querySelectorAll("td"),
function(a){c.containsNode(a,!1)?(e.push(a),g.push(a)):c.containsNode(a,!0)&&(d.push(a),g.push(a))});return g};a.gd=function(a){var b={table:null,cell:null,row:-1,column:-1},c=N(a,"table"),d=N(a,"tr");a=N(a,"td,th");if(null==c||null==d||null==a)return b;for(var e=-1,g=-1,n=c.querySelectorAll("tr"),v=0;v<n.length;v++)n[v]===d&&(e=v);if(-1===e)return b;d=d.querySelectorAll("td,th");for(v=0;v<d.length;v++)d[v]===a&&(g=v);return-1===g?b:{table:c,cell:a,row:e,column:g}};a.t=function(a){var b=Yb(a.querySelector("td")),
c=parseInt(b.borderWidth,10)||1,d=b.borderColor||"black";B(na(a.style),function(b){0<=b.indexOf("border")&&S(a,b)});a.removeAttribute("border");T(a,"border-style","solid");T(a,"border-width",c+"px");T(a,"border-color",d);T(a,"border-collapse","collapse");B(a.querySelectorAll("tr"),function(a){B(na(a.style),function(b){0<=b.indexOf("border")&&S(a,b)})});B(a.querySelectorAll("td"),function(a){B(na(a.style),function(b){0<=b.indexOf("border")&&S(a,b)});T(a,"border-style","solid");T(a,"border-width",c+
"px");T(a,"border-color",d)})};a.cc=function(a){var b=R(a,"float"),c=a.getAttribute("align"),d=a.style.marginLeft;a=a.style.marginRight;var e;null!=b?e=b:null!=c?e=c:"auto"===d&&"auto"===a?e="center":"auto"===d?e="right":"auto"===a&&(e="left");null==e&&(e="left");return e};a.Kd=function(a){if(null==a||!H(a)||"table"!==I(a)||null!=a.querySelector("table"))return{rows:-1,columns:-1};a=a.querySelectorAll("tr");if(0>=a.length)return{rows:0,columns:0};var b=a[0].querySelectorAll("td,th");return{rows:a.length,
columns:b.length}};a.Ed=function(a){for(var b=+a.columns||2,c=+a.rows||2,d=a.borderColor||"rgb(211,211,211)",e=+a.borderWidth||1,g=J("table",{style:"-evernote-table:true;border-collapse:collapse;width:100%;table-layout:fixed;"}),n=Math.round(1E4/b)/100,v=0;v<c;v++){var t=J("tr");g.appendChild(t);for(var x=0;x<b;x++){var q=J("td",{style:"border-style:solid;border-width:"+e+"px;border-color:"+d+";padding:10px;margin:0px;width:"+n+"%;"},[Qb()]);a.cellColor&&(q.style.backgroundColor=a.cellColor);t.appendChild(q)}}return g};
g.inserttable={k:!0,action:function(f){if(!b.a()||d.kc())return!1;var g={};"{"===f[0]?g=D(f,{columns:2,rows:2,borderColor:"rgb(211,211,211)",borderWidth:1,cellColor:null,alignment:"left"}):(f=f.split(","),g.columns=+f[0].trim(),g.rows=+f[1].trim());b.i("insertparagraph").action();f=g.align||"left";var g=a.Ed(g),m=c.A(b.a().startContainer);m.parentNode.insertBefore(g,m);d.R(g);b.g(g.querySelector("div"),0);b.i("tablealign").action(f);Y(e,"TABLE_ADDED",{target:g});return!0},state:function(){return!!a.l()},
enabled:function(){return b.hasFocus()&&!d.kc()&&!d.qa()}};g.inserttablerow={k:!0,action:function(c){var d=a.l();if(null==d)return!1;c="before"===c.toString().toLowerCase().trim();var g=N(b.a().startContainer,"tr",e),l=N(b.a().endContainer,"tr",e);if(!g&&!l)return!1;g=g.compareDocumentPosition(l)&(c?4:2)?g:l;if(!g)return!1;var l=g.cloneNode(!0),p=[];B(l.querySelectorAll("td"),function(a){p.push(a);Gb(a);a.appendChild(Qb())});b.q(l,g.parentNode,L(g)+(c?0:1));Y(e,"TABLE_INSERT_ROW",{target:d});return!0},
state:function(){return!!a.l()},enabled:function(){return b.hasFocus()&&!!a.l()}};g.inserttablecol={k:!0,action:function(c){var d=a.l();if(!d)return!1;var g="before"===c.toString().toLowerCase().trim();c=N(b.a().startContainer,"td",e);var l=N(b.a().endContainer,"td",e);if(!c&&!l)return!1;var p=c.compareDocumentPosition(l)&(g?4:2)?c:l;if(!p)return!1;var k=[],n=p.cellIndex;B(na(d.querySelectorAll("td")),function(a){if(a.cellIndex===n&&d===N(p,"table")){var c=a.cloneNode(!0);Gb(c);c.appendChild(Qb());
k.push(c);var e=R(a,"width"),e=window.parseFloat(e)||0;0<e&&(T(c,"width",e/2+"%"),T(a,"width",e/2+"%"));b.q(c,a.parentNode,L(a)+(g?0:1))}});Y(e,"TABLE_INSERT_COLUMN",{target:d});return!0},state:function(){return!!a.l()},enabled:function(){return b.hasFocus()&&!!a.l()}};g.deletetablerow={k:!0,action:function(){var c=a.e();if(!c)return!1;var d=a.l();if(!d)return!1;var g=U("tr",d);if(1===g.length)return b.i("deletetable").action();g.indexOf(c)===g.length-1?(g=U("td",g[g.length-2]).pop(),b.g(g,M(g))):
(g=U("td",g[g.indexOf(c)+1]).shift(),b.g(g,0));b.removeNode(c);Y(e,"TABLE_DELETE_ROW",{target:d});return!0},state:function(){return!!a.e()},enabled:function(){return b.hasFocus()&&!!a.e()}};g.deletetablecol={k:!0,action:function(){var c=a.ec();if(!c)return!1;var d=c.cellIndex,g=a.l();if(!g)return!1;var l=U("td",g);if(l.every(function(a){return a.cellIndex===d}))return b.i("deletetable").action();var p=l.filter(function(a){return a.cellIndex===d+1});p&&p.length||(p=l.filter(function(a){return a.cellIndex===
d-1}));for(var k=U("tr",g),n=0,v=0;v<k.length;v++)for(var t=U("td",k[v]),x=0;x<t.length;x++)t[x]===c&&(n=v);b.g(p[n],0);for(v=l.length-1;0<=v;v--)c=l[v],c.cellIndex===d&&b.removeNode(c);Y(e,"TABLE_DELETE_COLUMN",{target:g});return!0},state:function(){return!!a.ec()},enabled:function(){return b.hasFocus()&&!!a.ec()}};g.deletetable={k:!0,action:function(){var c=a.l();if(!c)return!1;b.g(c.parentNode,L(c),c.parentNode,L(c)+1);a.b("edit").u();Y(e,"TABLE_REMOVED",{target:c});return!0},state:function(){return!!a.l()},
enabled:function(){return b.hasFocus()&&!!a.l()}};g.tablebordercolor={k:!0,action:function(b){var c=b||"black";b=a.l();if(null==b)return!1;a.t(b);T(b,"border-color",c);B(b.querySelectorAll("td"),function(a){T(a,"border-color",c)});return!0},value:function(){var b=a.l();return null==b?"":(b=Yb(b.querySelector("td")).borderColor)?""+b:""},state:function(){return!!a.l()},enabled:function(){return b.hasFocus()&&!!a.l()}};g.tableborderwidth={k:!0,action:function(b){var c=parseInt(b,10);if(isNaN(c)||0>
c)return u.warn("Invalid value given to tableborderwidth <$>",oa(c)),!1;b=a.l();if(null==b)return!1;a.t(b);T(b,"border-width",c+"px");B(b.querySelectorAll("td"),function(a){T(a,"border-width",c+"px")});Y(e,"TABLE_BORDER_WIDTH",{target:b,value:c});return!0},value:function(){var b=a.l();if(null==b)return"";b=Yb(b.querySelector("td"));return(b=parseInt(b.borderWidth,10))?""+b:"0"},state:function(){return!!a.l()},enabled:function(){return b.hasFocus()&&!!a.l()}};g.tablealign={k:!0,action:function(b){if("left"!==
b&&"right"!==b&&"center"!==b)return u.warn("Invalid value given to tablealign <$>"),!1;var c=a.l();if(null==c)return!1;c.removeAttribute("align");S(c,"float");S(c,"margin");S(c,"margin-right");S(c,"margin-left");"left"===b?T(c,"margin-left","0px"):"right"===b?(T(c,"margin-left","auto"),T(c,"margin-right","0px")):"center"===b&&(T(c,"margin-left","auto"),T(c,"margin-right","auto"));Y(e,"TABLE_ALIGN",{target:c,value:b});return!0},value:function(){var b=a.l();return null==b?"":a.cc(b)},state:function(){return!!a.l()},
enabled:function(){return b.hasFocus()&&!!a.l()}};g.tablecellcolor={k:!0,action:function(b){b=b||"transparent";var c=a.j();if(0===c.length)return!1;B(c,function(a){S(a,"background");S(a,"background-image");S(a,"background-attachment");S(a,"background-position");S(a,"background-clip");S(a,"background-repeat");T(a,"background-color",b)});return!0},value:function(){var b=a.j();if(0===b.length)return"";b=b[0].style;return b.backgroundColor?(b=ld(b.backgroundColor),null!=b?b:""):""},state:function(){return!!a.l()},
enabled:function(){return b.hasFocus()&&!!a.l()}};a.Y=function(a,b,c){3===b&&"msexcel"===c.source&&V('table[border="0"]',a).forEach(function(a){a.setAttribute("border","1");R(a,"border")||T(a,"border","1px solid rgb(211,211,211)")})}}};function nf(){var a=this;this.name="tableselection";this.d=function(){function b(a,b){var c=[],d=[],e=Pc(a,"td");if(0<e.length)for(var f=0;f<e.length;f++){var g=e[f];b.containsNode(g,!1)?d.push(g):b.containsNode(g,!0)&&c.push(g)}return{Lc:d,vc:c}}function c(){for(var a=e.getElementsByClassName("en-selected");0<a.length;)Ab(a[0],"en-selected")}var d=this.b("context"),e=d.root,g=!1,f,h=Cc();this.c.K(e,"selectionChanged",function(){if(X(e)&&!g&&0!==e.getElementsByTagName("table").length){var a=window.getSelection(),
d=X();h=Cc(d.startContainer,d.startOffset,d.endContainer,d.endOffset);c();d&&!d.collapsed&&(a=b(d,a),1>=a.vc.length&&0===a.Lc.length||(B(e.querySelectorAll("table"),function(a){F(a,"en-selected")}),B(a.vc,function(a){F(a,"en-selected")}),B(a.Lc,function(a){F(a,"en-selected")})))}});this.c.a(document,"contextmenu",function(e){g=!0;f=a.c.timeout(function(){g=!1},1E3,f);e=e.target;var m=window.getSelection(),k=X();c();Lc(k,h)||(m=b(k,m),2!==m.vc.length&&1!==m.vc.length||0!==m.Lc.length||N(k.startContainer,
"td")===N(k.endContainer,"td")||(k=document.createRange(),k.selectNodeContents(e),d.ya(k),d.ca()));return!0});c();var m=J("style",{type:"text/css"});m.textContent="td.en-selected { background-color: "+Ud()+" !important;}";document.querySelector("head").appendChild(m)}};function of(){var a=this;this.name="texttransform";this.d=function(){function b(a){void 0===a&&(a=document.body);c(a);g(a,function(a){var b="";a=a.split(/(\W+)/gi);for(var c=0;c<a.length;c++)var d=a[c],b=0<d.length?b+(d.charAt(0).toLocaleUpperCase()+d.slice(1).toLocaleLowerCase()):b+d;return b})}function c(a){var b=Cd(a,!0);a.normalize();Dd(a,b)}function d(a){void 0===a&&(a=document.body);g(a,function(a){return a.toLocaleLowerCase()})}function e(a){void 0===a&&(a=document.body);g(a,function(a){return a.toLocaleUpperCase()})}
function g(a,b){var c;void 0===a&&(a=document.body);var d=X();if(d&&!(1>d.toString().length)){Tb(d.endContainer)&&0<d.endOffset&&d.endOffset<d.endContainer.textContent.length&&(c=d.endContainer.splitText(d.endOffset),d.setEnd(c,0));Tb(d.startContainer)&&0<d.startOffset&&(c=d.startContainer.splitText(d.startOffset),d.setStart(c,0));Ec(d);for(var e=c=null,f=window.getSelection(),d=document.createTreeWalker(a,4,{acceptNode:function(a){return f.containsNode(a,!1)?1:2}},!1);d.nextNode();)Tb(d.currentNode)&&
(d.currentNode.textContent=b(d.currentNode.textContent),c||(c=d.currentNode),e=d.currentNode);d=document.createRange();d.setStartBefore(c);d.setEndAfter(e);Ec(d)}}var f=a.b("context"),h=f.root,f=f.J;f.lowercase={k:!0,action:function(){d(h);return!0}};f.uppercase={k:!0,action:function(){e(h);return!0}};f.capitalize={k:!0,action:function(){b(h);return!0}}}};function pf(){var a=this;a.name="todo";var b;a.d=function(){function c(a,b){for(var c=0;c<a.length;c++){var d=a[c];b?F(d,"en-todo-checked"):Ab(d,"en-todo-checked")}}function d(a,c){Bb(a,"en-todo-checked");Y(b,"setDirty",{Rb:!0===c})}function e(a){var c=a.target;if(!f.Oa()){var d=U("li.en-todo-over",b);(a=g(a))&&F(c,"en-todo-over");for(var e=0;e<d.length;e++){var k=d[e];a&&k.isEqualNode(c)||Ab(k,"en-todo-over")}}}function g(a){var b=a.target;return P(b,"li")&&zb(b.parentNode,"en-todo-list")&&40>a.clientX-
b.getBoundingClientRect().left}var f=a.b("context"),h=a.b("query"),m=a.b("block"),l=a.b("normalize"),p=a.b("undo");b=f.root;var k=f.J;a.$c=function(a){var b=null;pc(a,function(a){return O(a,"object.en-todo")?(b=a,!0):sc(a)||h.o(a)?!1:!0},a);return b};a.Ee=function(b){if(!O(b,"div,li"))return!1;var c=a.$c(b);if(!c)return!1;for(var d=b.childNodes.length-1;0<=d;d--){var e=b.childNodes[d];if(e!==c&&(Tb(e)&&!sc(e)||!h.Aa(e)))return!1}return!0};a.e=function(){return J("object",{"class":"en-todo"})};a.Hc=
function(b){var c=a.e();f.q(c,b,0);m.Ia(b);return c};a.Nc=function(){return U("object.en-todo",b)};a.j=function(a){if(a&&a.parentNode){var b=a.parentNode,c=a.nextSibling;if(c&&Tb(c)){var d=c.textContent,e=d.trimLeft(d);d!==e&&(0==e.length?f.removeNode(c):c.textContent=e)}f.removeNode(a);m.Ia(b)}};a.c.a(b,"mousemove",e);a.c.a(b,"mouseout",e);a.c.a(b,"blur",e);a.c.a(b,"mouseup",function(a){if(O(a.target,"object.en-todo")||g(a))f.Oa()||p.ua(function(){d(a.target,!0)})});k.controltodos={k:!0,action:function(d){var e=
f.a();if(!e||!dc(b))return!1;var g=a.Nc();e.collapsed||(g=Pc(e,"object.en-todo"),e=Jc(e),(e=qc(e,"object.en-todo",h.A(e)||b))&&g.push(e));if(d&&"toggle"!=d)if("on"==d)c(g,!0);else if("off"==d)c(g,!1);else return!1;else for(d=g,g=0;g<d.length;g++)Bb(d[g],"en-todo-checked");return!0}};k.inserttodo={k:!0,action:function(c){var e=f.a();if(!e||!dc(b))return!1;if("toggle"===c){c=Jc(e);var g=N(c,"ul.en-todo-list > li",b);if(g||(g=qc(c,"object.en-todo",h.A(c)||b)))return d(g,!1),!0}if(e.collapsed)return c=
a.e(),a.b("paste").insertNode(c),m.Ia(c),!0;l.wb();if((c=a.Nc().filter(function(a){return e.intersectsNode(a)}).reverse())&&0<c.length)return c.map(function(b){a.j(b)}),!0;(c=U("div,li",b).filter(function(a){return e.intersectsNode(a)}))&&0<c.length&&(c.map(function(b){Ea(b.textContent)||a.Hc(b)}),e=f.a(),f.g(c[0],0,e.endContainer,e.endOffset));return!0},enabled:function(){return f.hasFocus()&&!m.qa()}}};a.Y=function(b,d){1===d?V("en-todo",b).forEach(function(b){var c=a.e();Bb(c,"en-todo-checked",
"true"==b.getAttribute("checked"));u.log("en-todo",c.outerHTML);Hb(b,c)}):V('embed[type="evernote/x-todo"]',b).forEach(function(a){var d=Lb(b,"object",{"class":"en-todo"});"true"===a.getAttribute("todo-checked")&&F(d,"en-todo-checked");Hb(a,d)})};a.ka=function(a,b){1===b&&V("object.en-todo",a).forEach(function(b){var d=Lb(a,"en-todo");zb(b,"en-todo-checked")&&d.setAttribute("checked","true");Hb(b,d)})}};function qf(){var a=this;a.name="transform";a.lb=function(b,c,d){function e(b){var d=[];3===c&&(V("meta",b).forEach(function(a){d.push(a)}),V("title,script,style,link,base,meta",b).forEach(G));var e=g.info||{};0<d.length&&(e.meta=d);a.xb.g().forEach(function(d){d!==a&&d.Y&&d.Y(b,c,e)});ue(b);1!==c&&oe(b);qe(b);re(b);pe(b);return b}var g=D(d,{info:{},Yc:3===c});if(b instanceof DocumentFragment)return g.Yc=!0,e(b);Xb(b)?(d=b.ownerDocument.createRange(),d.selectNodeContents(b),d=d.extractContents(),
e(d),b.appendChild(d)):e(b);g.Yc||we(b);return b};a.Dc=function(b,c,d){var e=D(d,{info:{}});ec(b,!1);a.xb.g().forEach(function(d){d!==a&&d.ka&&d.ka(b,c,e.info||{})});1===c&&oe(b)}};function rf(){var a=this;a.name="clearly";a.f=null;a.d=function(b){a.f=D(b);F(a.f.root,"en-clearly-style-on")};a.r=function(){Ab(a.f.root,"en-clearly-style-on")}};var sf=function(){function a(a){w(a.length,"Unknown modules base path");var b=a;a=a.lastIndexOf("/",a.length-1);0<=a&&(b=b.substring(0,a));this.Pe=b+"/";this.pc={}}var b=0;a.prototype.installCSS=function(a){var d="module-css-"+b++;a=J("link",{rel:"stylesheet",type:"text/css",id:d,href:a});document.querySelector("head").appendChild(a);this.pc[d]=a;return d};a.prototype.removeCSS=function(a){w(this.pc[a],"Could not find CSS with ID: "+a)};a.prototype.r=function(){Object.keys(this.pc).forEach(function(a){this.removeCSS(a)},
this);this.pc={}};a.prototype.bundleURL=function(a){return this.Pe+a};return a}();var tf=function(){function a(a){this.eb=a}a.prototype.a=function(){return"Module '"+this.eb+"': "};a.prototype.info=function(){var a=Array.prototype.slice.call(arguments);a.unshift(this.a());u.info.apply(null,a)};a.prototype.warn=function(a){var c=Array.prototype.slice.call(arguments);c.unshift(this.a());u.warn.apply(null,c)};a.prototype.error=function(a){var c=Array.prototype.slice.call(arguments);c.unshift(this.a());u.error.apply(null,c)};return a}();var uf=function(){function a(a,c,d){w(H(c),"Container required",c);this.scriptHandler=a;this.element=c;this.elementID=d;this.b=c.cloneNode(!0);this.a=!1;this.X=null}a.prototype.d=function(){var a=this.scriptHandler.X;w(a,"ScriptHandler has no script?");w(!this.X,"Already setup?");var c=a.createModule(this);w(c,"Module could not be created");["setup","saveENML"].forEach(function(a){w("function"==ca(c[a]),"Expected a module method",a,c.moduleName,c)});a=c.setup();w(a);this.X=c};a.prototype.r=function(){var a=
this.X.cleanup;a&&a();(a=this.scriptHandler.X.removedModule)&&a(this.X);this.X=null};a.prototype.nf=function(a){for(;a.firstChild;)a.removeChild(a.firstChild);if(this.a){var c=document.createDocumentFragment();this.X.saveENML(c,!0);a.appendChild(c)}else for(c=this.b.cloneNode(!0);c.firstChild;)a.appendChild(c.firstChild);this.a=!1;this.b=a.cloneNode(!0)};a.prototype.markAsDirty=function(){this.a=!0};return a}();var vf=function(){function a(){this.a={};this.b={};this.g={}}var b=0;a.prototype.jf=function(a){var b=a.eb.toLowerCase();w(!this.a[b],b,"App channel is already registered");this.a[b]=a};a.prototype.qf=function(a){a=a.eb.toLowerCase();w(!!this.a[a],a,"App channel is not registered");delete this.a[a]};a.prototype.mf=function(a,d,e,g){a=a.eb.toLowerCase();u.log("Module",a,"sendMessage",d,e);d={type:"message",moduleName:a,messageName:d,data:e?e:{}};g&&(e=""+b++,this.b[a+":"+e]=g?g:null,d.messageID=e);
Fd("modulePublished",d)};a.prototype.Ye=function(a){u.log("Module receives",a);w(Ba(a),"Bad message payload",a);switch(a.type){case "message":this.i(a);break;case "reply":this.l(a)}};a.prototype.i=function(a){var b=this,e=a.moduleName,g=a.messageName,f=a.messageID,h=a.data;w(e&&g&&h,"Bad native message payload",a);if(a=this.a[e.toLowerCase()]){var m=function(){};if(f){var l=e+":"+f;this.g[l]=e;m=function(a){a={type:"reply",moduleName:e,messageName:g,messageID:f,data:a?a:{}};delete b.g[l];Fd("modulePublished",
a)}}a.Ze(g,h,m)||m({})}else u.log("Module call failed - not loaded",e)};a.prototype.l=function(a){var b=a.moduleName,e=a.messageName,g=a.messageID,f=a.data;w(b&&e&&g&&f,"Bad native response payload",a);b=b+":"+g;(e=this.b[b])?(e(a.data),delete this.b[b]):u.log("Unexpected response received",a)};a.ge=new a;return a}();var wf=function(){function a(a){this.eb=a;this.a={};b.jf(this)}var b=vf.ge;a.prototype.r=function(){b.qf(this)};a.prototype.sendMessage=function(a,d,e){b.mf(this,a,d,e)};a.prototype.registerMessageHandler=function(a,b){this.a[a]=b};a.prototype.Ze=function(a,b,e){var g=this.a[a];if(!g)return u.log("Unexpected message received",a),!1;1==g.length?(g(b),e({})):g(b,e);return!0};return a}();var xf=function(){function a(a){this.eb=a;this.X=null;this.b={};this.a=null;this.registerModuleScript=Xd;this.nativeChannel=new b(a);this.bundle=null;this.console=new c(a)}a.zd=0;a.yd=1;a.Cc=2;var b=wf,c=tf,d={};a.prototype.cf=function(a,b){w(r(b),"No script URL provided");w(!this.a,"Script is already loaded?");this.a=b;var c=J("script",{type:"text/javascript",async:"true",src:b});switch(a){default:case "iframe":var d=J("script",{type:"text/javascript"},["var scriptHandler = frameElement.scriptHandler;"]),
m=J("iframe",{style:"position:absolute;width:1px;height:1px;top:-999px;left:-999px;display:none;"});m.scriptHandler=this;document.body.appendChild(m);m.contentDocument.head.appendChild(d);m.contentDocument.head.appendChild(c);break;case "script":document.head.appendChild(c)}this.bundle=new sf(b)};a.prototype.d=function(a){w(this.eb===a.moduleName,"Module names do not match");w(!this.X,"Module is already setup?");["createModule","setup"].forEach(function(b){w("function"==ca(a[b]),"Expected a module method",
b,a.moduleName,a)});this.X=a;a.setup(this)};a.prototype.state=function(){return this.X?a.Cc:this.a?a.yd:a.zd};a.prototype.r=function(){this.X.cleanup();this.bundle.r();this.X=this.a=null};a.prototype.of=function(a,b){var c=this.b[a];w(c,"Could not find elment with ID",a);c.nf(b)};a.prototype.fe=function(a,b){var c=this;Ma(function(){var d=new uf(c,a,b);d.d();c.b[b]=d})};a.jd=function(b){var c=d[b];c||(c=new a(b),d[b]=c);return c};return a}();function yf(){var a=this;a.name="module";a.d=function(b){function c(b,c){var d=xf.jd(b);switch(d.state()){case xf.Cc:d.fe(c,c.id);break;case xf.zd:var e=m[b];if(!e)break;a.c.timeout(function(){d.cf(e.mode,e.url)})}}function d(a){var b=a.moduleName;w(r(b)&&0<b.length,'Expected "moduleName" for module!',a);var c=xf.jd(b);w(c.state()==xf.yd,"Modules can only be registered once!",b,a);c.d(a);return c}var e=a.b("context"),g=a.b("query"),f=a.b("block"),h=e.root;b=D(b,{cd:null});var m={};Ba(b.cd)&&(m=b.cd);
for(b=0;b<Wd.length;b++)d(Wd[b]);a.c.g("module",function(a){var b=d(a);U("div.en-module",h).forEach(function(c){var d=c.getAttribute("data-en-module-name");a.moduleName==d&&b.fe(c,c.id)})});a.c.b({name:"module",action:function(a){a=eb(a);if(null==a)return!1;u.log("INFO",a);for(var b=0;b<a.length;b++){var d=a[b];if("insert"===d.action){var h=d.moduleName;r(h)?(d="en-module-"+Ja().toString(),d=J("div",{id:d,"class":"en-module","data-en-module-name":h,contentEditable:"false"},"MODULE"),c(h,d),e.i("insertparagraph").action(),
h=g.A(e.a().startContainer),h.parentNode.insertBefore(d,h),f.R(d),e.Zc(d)):u.error("No name for insert provided",d)}}return!0},value:function(a){var b=[];a&&(b=U("div.en-module",h).filter(function(b){return b.getAttribute("data-en-module-name")===a}).map(function(a){return a.id}));return{result:b}},enabled:E});a.c.b({name:"module-channel",value:function(a){vf.ge.Ye(a);return null},enabled:E});a.Y=function(a){U('div[en-content-class="evernote.module"]',a).forEach(function(a){F(a,"en-module");var b=
"en-module-"+Ja().toString();a.setAttribute("id",b);a.removeAttribute("en-content-class");a.setAttribute("contentEditable","false");b=a&&a.getAttribute?a.getAttribute("en-app-data"):"";null==b?b=null:(b=gc("en-module-name").exec(b),b=null===b?null:b[3].trim());b&&(a.setAttribute("data-en-module-name",b),c(b,a));a.removeAttribute("en-app-data")})};a.ka=function(a){U("div.en-module",a).forEach(function(a){var b=a.id;a.removeAttribute("class");a.removeAttribute("id");var c=a.getAttribute("data-en-module-name");
a.removeAttribute("data-en-module-name");var d;d=a&&a.getAttribute?a.getAttribute("en-app-data"):"";null==d?d="":(d=d.replace(gc("en-module-name"),"$1").trim(),0<d.length?a.setAttribute("en-app-data",d):a.removeAttribute("en-app-data"),d=d||"");null!=c&&(d=d.trim(),d.length&&";"!==d[d.length-1]&&(d+=";"),a.setAttribute("en-app-data",d+"en-module-name:"+c+";"));a.removeAttribute("contenteditable");a.setAttribute("en-content-class","evernote.module");c=xf.jd(c);c.state()==xf.Cc&&c.of(b,a)})}}};function zf(){var a=this;w(this instanceof zf,"Use `new` to instantiate this class");a.name="rte";a.d=function(b){function c(){p=!0;var b=X(a.root);b&&!b.collapsed&&(a.e.flush(),Z.execCommand("delete"))}a.f=D(b,{active:!0,highlightMagic:!1,skipMarkupTransform:!1,placeholder:"",trackStateChanges:null,trackValueChanges:null,trackEnabledChanges:null,tableResizing:!1,imageResizing:!1,tableSelection:!1,typebehind:{emoticon:!1,url:!1},mutationObserver:!1,undoOnIdle:6,cryptLegacy:!0,resources:null,smartScroll:!1,
smartHeight:!1,imageConfig:{},selector:null,html:null,enml:null,modules:null,clearly:null,root:null});r(a.f.selector)?a.root=document.querySelector(a.f.selector):a.root=b.root||document.getElementById("en-note")||document.body;w(a.root&&H(a.root),"Root not valid!");w(H(a.root),"RTE root node required to be an HTML element! <$>");var d=a.U();a.c.Ub({Ma:["rte","content"]});d.q(function(a){a.c.Ub({Ma:["rte","content"]})});a.Ha=null;a.Ke=!!(a.f.trackStateChanges||a.f.trackValueChanges||a.f.trackEnabledChanges);
var e=new le;d.d(e,{root:a.root});e.de(!a.f.active);d.d(new ne);var g=new ye;d.d(g);d.d(new me);d.d(new ze);a.e=!0===a.f.mutationObserver?new ee:new de;d.d(a.e,{element:a.root,va:function(){e.M();return JSON.stringify(g.Fb())},vb:function(a){e.M();g.Ca(JSON.parse(a))}});0<a.f.undoOnIdle&&a.c.m(a.e.flush.bind(a.e),a.f.undoOnIdle);a.j=new Ae;d.d(a.j);var f=a.f.tableResizing,h=a.f.imageResizing,m=a.f.tableSelection;a.H=new nd;d.load(a.H);d.d(new Ne);d.d(new He);d.d(new Ce);d.d(new De);d.d(new Me,a.f.imageConfig);
d.d(new mf);d.d(new pf);d.d(new Ge);d.d(new Qe);d.d(new Pe);d.d(new lf);d.d(new of);d.d(new jf);d.d(new kf);d.d(new pd);null!=b.modules&&d.d(new yf,{cd:b.modules});b.emoticons&&(ma("Use typebehind: { emoticon: true } instead of adding","emoticons: true directly to the rte options."),b.typebehind.emoticon=!0);d.d(new Ke,b.typebehind);Ba(a.f.resources)&&d.d(new Re,{resources:a.f.resources});var l=new qf;d.d(l);d.d(new Oe);d.d(new Le);a.f.skipMarkupTransform||l.lb(a.root,2);m&&d.d(new nf);h&&(a.t=new od,
e.Oa()||d.d(a.t));f&&(a.w=new Be,e.Oa()||d.d(a.w));a.H&&d.d(a.H);null!=b.clearly&&d.d(new rf,{root:a.root});e.Oa()||ec(a.root,!0);e.Hb();a.Hb();a.c.K(a.root,"setDirty",function(b){a.Ra(b)});var p=!1;a.c.a(a.root,"compositionstart",function(){return c()});a.c.a(a.root,"keypress",function(a){if(0!==a.which&&!a.ctrlKey&&!a.metaKey)return c()});a.c.a(a.root,"webkitBeforeTextInserted",function(){if(!1===p)return c()});a.c.a(a.root,"beforeInput",function(){if(!1===p)return c()});a.c.a(a.root,"input",function(){Y(a.root,
"setDirty")});a.ue=function(){var b=a.hasFocus(),c=b!==a.ha;c&&Hd("content",{focus:b});if(a.Ke){var d;b?d=a.Le():c&&(d={state:{},enabled:{},value:{}});d&&(c=JSON.stringify(d),c!==a.za&&(a.za=c,d=d||{},d.module="content",Fd("styleChanged",d)))}a.ha=b};a.c.a(a.root.ownerDocument,"selectionchange",a.T.bind(a));a.f.smartHeight&&(d=function(){var a=window.innerHeight;document.body.style.minHeight="";a>document.body.clientHeight&&(document.body.style.minHeight=a+"px")},a.c.a(window,"resize",d),d());a.f.placeholder&&
a.root.setAttribute("data-en-placeholder",a.f.placeholder);d=b.html;b=b.enml;w(!(null!=d&&null!=b),"You can only provide one content type: html or enml");r(d)?a.U().a("io").Vb(d):r(b)&&a.U().a("enml").xc(b);a.e.clear()};a.r=function(){a.za=null;Hc();a.cb=null;a.ha=null;ec(a.root,!1);a.t=null;a.w=null;a.f=null;a.root=null;a.j=null};a.T=function(){try{var b={cb:a.cb},c=X(a.root);null!=c&&(a.cb=Mc(c));b.wc=c;Y(a.root,"selectionChanged",b);a.Ha=a.c.timeout(a.ue,50,a.Ha)}catch(d){u.error("Exception in en.rte.didChangeStyle <$>:",
d.toString())}};a.Ra=function(b){b=b||{};a.f.smartScroll&&!1!==b.Rb&&setTimeout(function(){Rc(X())},0);a.c.l();a.T()};a.Le=function(){function b(a,b,d){if(a&&a.length){for(var h={},m=0;m<a.length;m++){var l=a[m];h[l]=d(l)}h&&(c[b]=h)}}var c={},d=Od;b(a.f.trackStateChanges,"state",d.state);b(a.f.trackValueChanges,"value",d.value);b(a.f.trackEnabledChanges,"enabled",d.enabled);return c};a.selection=function(b){var c=X(a.root);b&&(a.cb&&Ec(Nc(a.cb)),a.root.focus(),c=X(a.root));return c};a.ic=function(b,
c){return Ma(function(){function d(){c();!0!==b.nb&&Y(a.root,"setDirty")}!0===b.focus&&a.selection(!0);!0===b.k?a.e.ua(d,b.f.title):("before"===b.k&&a.e.flush(),d(),"after"===b.k&&a.e.flush(b.f.title));return!0})||!1};a.hasFocus=function(){var b=X(a.root);if(b){if(Ic(b,"div.en-module",a.root))return!1;if(b=Jc(b))return!(!N(b,dc)&&!dc(document.body))}return!1};a.Hb=function(){var b=a.j.Xe();Object.keys(b).forEach(function(c){var d=b[c];d.name=c;var e={name:c,k:d.k,nb:d.nb,aa:d.aa,enabled:null,action:function(b){b=
a.j.execCommand.bind(a.j,c,!1,b);return a.ic(e,b)},state:function(){return a.j.queryCommandState(c)},value:function(b){return a.j.queryCommandValue(c,b)}};d.enabled?e.enabled=function(b){return a.j.queryCommandEnabled(c,b)}:e.enabled=function(){return a.hasFocus()&&a.j.queryCommandEnabled(c)};a.c.b(e)});a.c.b({name:"focus",action:function(b){b=D(db(b),{pos:"top",force:!1,scroll:!1,animate:!1,value:null});if(!X(a.root)||b.force)if(a.root.focus(),a.cb&&!b.force)Ec(Nc(a.cb));else if("bottom"===b.pos){var d=
document.createRange();d.selectNodeContents(a.root);d.collapse(!1);Ec(d)}else Ec(Cc(a.root,0));b.scroll&&0!=M(a.root)&&Rc(X());return!0},state:function(){return a.hasFocus()},value:function(b){var d=a.hasFocus();if(d&&b&&"position"===b.type)return b=X(),null==b?b=null:(b=Qc(b),b=null==b?null:Zb(b)),b;if(d)return a.name},Ya:!0,enabled:E});a.c.b({name:"active",action:function(b){b=cb(b);var d=a.U(),e=d.a("context"),g=!e.Oa();g!==b&&window.getSelection().containsNode(a.root,!0)&&Hc();e.de(!b);g&&!b&&
(ec(a.root,!1),a.t&&d.r(a.t),a.w&&d.r(a.w));!g&&b&&(Hc(),ec(a.root,!0),a.t&&d.d(a.t),a.w&&d.d(a.w));return!0},state:function(){return!a.U().a("context").Oa()},enabled:E})}};var Z={},Af=null,Bf=null;Z.N=!1;
Z.d=function(a){!0===Z.N&&Z.r();return Ma(function(){a=D(a);Od=new $a;Td(a);Pd=Af=new be({a:Od,f:a,uid:(new Date).getTime()});Bf=new ae;Bf.d({name:"document"});var b,c;a.template?(b=new Se,c=a.template):a.rte&&(b=new zf,c=a.rte);b?((null==a.active||a.active)&&Af.d(b,c),Bf.b({name:"bounds",enabled:E,value:function(){var a=K(b.root),c={left:a.left,right:a.right,top:a.top,bottom:a.bottom,width:a.width,height:a.height};c.y=document.body.scrollHeight-a.bottom;c.x=a.left;return JSON.stringify(c)}})):u.error('Settings for "rte" or "template" are obligatory!');
null!=a.title&&(Af.d(new Fe,a.title),Bf.g("titlechanged",function(a){Gd("title",{blur:!0===a.blur})}));null!=a.shared&&Af.d(new fe,a.shared);null!=a.context&&Af.d(new ge,a.context);null!=a["context-upsell"]&&Af.d(new he,a["context-upsell"]);null!=a["context-info"]&&Af.d(new ie,a["context-info"]);null!=a.find&&Af.d(new je,a.find);null!=a.keyboard&&Af.d(new ke,a.keyboard);Bf.b({name:"env",action:function(a){var b=Sc;if(!Ba(a)||!Ba(b))return!1;b.env||(b.env={});Aa(b.env,a);return!0},value:function(a){var b=
Sc;if(!Ba(b))return null;b=b.env;return Ba(b)?r(a)?b[a]:b:{}},enabled:E});document.body.setAttribute("data-en-lang",Ca());return Z.N=!0})};Z.r=function(){!0!==Z.N?u.error("Someone tried to call cleanup before setup!"):(Ma(function(){Od.oe();Af.m();Af=null;Bf.r();Pd=Od=null;Nd={};Sc={}}),Z.N=!1)};Z.execCommand=function(a,b,c){w(Z.N,"Calling EN.setup before using commands is required");return Ma(function(){a=a.toLowerCase();return Od.action(a,b,c)||!1})};
Z.queryCommandState=function(a,b,c){w(Z.N,"Calling EN.setup before using commands is required");return Ma(function(){a=a.toLowerCase();return Od.state(a,b,c)||!1})};Z.queryCommandValue=function(a,b,c){w(Z.N,"Calling EN.setup before using commands is required");return Ma(function(){a=a.toLowerCase();return Od.value(a,b,c)||""})};Z.queryCommandEnabled=function(a,b,c){w(Z.N,"Calling EN.setup before using commands is required");return Ma(function(){a=a.toLowerCase();return Od.enabled(a,b,c)||!1})};fa("EN.setup",Z.d);fa("EN.cleanup",Z.r);fa("EN.execCommand",Z.execCommand);fa("EN.queryCommandState",Z.queryCommandState);fa("EN.queryCommandValue",Z.queryCommandValue);fa("EN.queryCommandEnabled",Z.queryCommandEnabled);fa("EN.registerModuleScript",Xd);fa("EN.getLastBuildNumber",ia);fa("EN.getLastCommitDate",ja);var Cf,Df;
(function(){function a(a){B(d.querySelectorAll("embed"),function(b){var c=J("div");F(c,"en-print");switch(b.getAttribute("type")){case "evernote/x-pdf":F(c,"pdf");c.textContent=a.pdf_file;break;case "evernote/x-attachment":var d=b.getAttribute("id");null!=d&&d.match(/.*en-media:audio.*/)?(F(c,"audio"),c.textContent=a.audio_file):(F(c,"generic-attachment"),c.textContent=a.generic_file);break;default:u.warn("Found <embed> with unknown type! "+b),F(c,"generic-attachment"),c.textContent=a.generic_file}Hb(b,c)});
B(d.querySelectorAll("object"),function(a){var b=J("div");F(b,"en-print");zb(a,"en-todo")&&F(b,"checkbox");zb(a,"en-todo-checked")&&F(b,"checked");Hb(a,b)})}function b(){var a=J("br");F(a,"en-print");d.appendChild(a)}function c(a,b){for(var c=J("table"),h,m,l=0;4>l;l++){h=J("tr");c.appendChild(h);for(var p=0;2>p;p++)m=J("td"),h.appendChild(m)}c.setAttribute("id","header-table");F(c,"en-print");d.appendChild(c);h=[[0,b.author,"author"],[1,b.notebook,"notebook"],[2,b.created,"created"],[3,b.tags,"tags"],
[4,b.updated,"updated"],[5,b.url,"url"],[6,b.deleted,"deleted"],[7,b.location,"location"]];var k=c.querySelectorAll("td");B(h,function(b){if(null!=a[b[2]]){k[b[0]].innerHTML="";var c=J("span");F(c,"header-table-label");c.textContent=b[1];var d=J("span");F(d,"header-table-text");d.textContent=" "+a[b[2]];k[b[0]].appendChild(c);k[b[0]].appendChild(d)}})}var d=null;Cf=function(e,g){null!=d&&(u.warn("Multiple unnecessary calls to setup print."),Df());for(var f=0;f<document.body.childNodes.length;f++)H(document.body.childNodes[f])&&
lc(document.body.childNodes[f],!1);d=J("div");d.setAttribute("id","print-container");F(d,"en-print");f=document.querySelector("#container");f.parentNode.insertBefore(d,f);var h=D(g,{title:null,notebook:null,created:null,updated:null,deleted:null,author:null,location:null,tags:null,url:null}),f=D(e,{notebook:"Notebook:",created:"Created:",updated:"Updated:",deleted:"Deleted:",author:"Author:",location:"Location:",tags:"Tags:",url:"Source:",pdf_file:"PDF File",audio_file:"Audio File",generic_file:"Generic File"});
null!=g&&""!==g&&(c(h,f),h=J("hr"),d.appendChild(h),b());h=document.querySelector("#en-title");if(null!=h&&null!=h.textContent){var h=h.textContent,m=J("div");m.setAttribute("id","header-title");F(m,"en-print");m.textContent=h;d.appendChild(m);b()}h=document.querySelector("#en-note");null==h&&(u.warn("Could not find note!"),h=null);null!=h&&null!=d||u.error("Couldnt find note body or print container!");d.innerHTML=d.innerHTML+h.innerHTML;a(f);Fd("printReady",{module:"print"})};Df=function(){null==
d?u.warn("Print module teardown called while it was off!"):(G(d),d=null)}})();fa("EN.enablePrint",Cf);fa("EN.disablePrint",Df); }).call(window); window.enLoadState = 'didLoad'; }
catch(ex) { window.enLoadState = "Exception: " + ex.toString() + '\n' + ex.stack + ''; }

